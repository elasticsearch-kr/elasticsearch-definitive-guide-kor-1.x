
<!DOCTYPE HTML>
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>배포 후</title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch: The Definitive Guide" /><link rel="up" href="administration.html" title="관리, 모니터링, 배포" /><link rel="prev" href="deploy.html" title="제품의 배포" />
  
 	<meta http-equiv="content-type" content="text/html; charset=utf-8" />

 	<!-- RTP tag --> 
	<script type='text/javascript' async>
	(function(c,h,a,f,i,e){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
	 c[a].a=i;c[a].e=e;var g=h.createElement("script");g.async=true;g.type="text/javascript";
	 g.src=f+'?aid='+i;var b=h.getElementsByTagName("script")[0];b.parentNode.insertBefore(g,b);
	 })(window,document,"rtp","//sjrtp2-cdn.marketo.com/rtp-api/v1/rtp.js","elasticco");
	 
	rtp('send','view');
	rtp('get', 'campaign',true);
	</script>
	<!-- End of RTP tag -->
	
	
 	<link rel="apple-touch-icon" sizes="57x57"  href="https://www.elastic.co/apple-icon-57x57.png?change=123">
<link rel="apple-touch-icon" sizes="60x60"  href="https://www.elastic.co/apple-icon-60x60.png?change=123">
<link rel="apple-touch-icon" sizes="72x72"  href="https://www.elastic.co/apple-icon-72x72.png?change=123">
<link rel="apple-touch-icon" sizes="76x76"  href="https://www.elastic.co/apple-icon-76x76.png?change=123">
<link rel="apple-touch-icon" sizes="114x114"  href="https://www.elastic.co/apple-icon-114x114.png?change=123">
<link rel="apple-touch-icon" sizes="120x120"  href="https://www.elastic.co/apple-icon-120x120.png?change=123">
<link rel="apple-touch-icon" sizes="144x144"  href="https://www.elastic.co/apple-icon-144x144.png?change=123">
<link rel="apple-touch-icon" sizes="152x152"  href="https://www.elastic.co/apple-icon-152x152.png?change=123">
<link rel="apple-touch-icon" sizes="180x180"  href="https://www.elastic.co/apple-icon-180x180.png?change=123">
<link rel="icon" type="image/png" sizes="192x192"   href="https://www.elastic.co/android-icon-192x192.png?change=123">
<link rel="icon" type="image/png" sizes="32x32"  href="https://www.elastic.co/favicon-32x32.png?change=123">
<link rel="icon" type="image/png" sizes="96x96"  href="https://www.elastic.co/favicon-96x96.png?change=123">
<link rel="icon" type="image/png" sizes="16x16"  href="https://www.elastic.co/favicon-16x16.png?change=123">
<link rel="manifest"  href="https://www.elastic.co/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

<!-- DC tags section -->
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
<link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >
<meta name="DC.title" content="Guide template" >

<!-- end DC tags -->

	<meta name="description" content="" />

	<link rel="canonical" href="" />

	<meta property="og:image" content="https://www.elastic.co/static/img/elastic-logo-200.png" />
	


	
	<link type="text/css" rel="stylesheet" href="https://static-www.elastic.co/static/css/skel.css?q=100" />
	<link type="text/css" rel="stylesheet" href="https://static-www.elastic.co/static/css/style.css?q=100" />	
	<script src="https://static-www.elastic.co/static/js/skel.min.js?q=100"></script>
	
		<script type="text/javascript">form_name = "" ; cdn_url="https://static-www.elastic.co";cdn_slug = "100"</script>
	
	<script src="https://static-www.elastic.co/static/js/init.js?q=100"></script>
	<script src="https://static-www.elastic.co/static/js/jquery.min.js?q=100"></script>
	<script src="https://static-www.elastic.co/static/js/jquery.cookie.js?q=100"></script>
	<!--<script type="text/javascript">
	    (function() {
	        var path = '//easy.myfonts.net/v2/js?sid=10336(font-family=Avenir+35+Light)&sid=10338(font-family=Avenir+55+Roman)&sid=10340(font-family=Avenir+85+Heavy)&sid=10344(font-family=Avenir+65+Medium)&key=nAD6PCOPrX',
	            protocol = ('https:' == document.location.protocol ? 'https:' : 'http:'),
	            trial = document.createElement('script');
	        trial.type = 'text/javascript';
	        trial.async = true;
	        trial.src = protocol + path;
	        var head = document.getElementsByTagName("head")[0];
	        head.appendChild(trial);
	    })();
	</script>-->

	
	<link type="text/css" rel="stylesheet"  href="https://www.elastic.co/static/css/prettify.css" />
	<script type="text/javascript"  src="https://www.elastic.co/static/js/prettify.js"></script>



<link rel="stylesheet" type="text/css" href="styles.css" />

</head>
<body >
	<!-- Google Tag Manager -->
	<script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5"
													  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-58RLH5');</script>
	<!-- End Google Tag Manager -->
	
	<div class="header-cont">
		<div id="header-wrapper">
			


	<script  src="https://www.elastic.co/static/js/jquery.tokeninput.js?change=123"></script>
	<link rel="stylesheet" type="text/css"  href="https://www.elastic.co/static/css/token-input.css">

<div class="shortcuts-wrapper">
	<div class="container">
		<!-- Shortcuts -->
		<nav id="shortcuts">
			<ul class="links">
				
					<li class="shortcut-1">
						<a href="/downloads" id="header_downloads" >
							<span class="txt">downloads</span>	
						</a>
					</li>
				
					<li class="shortcut-2">
						<a href="/guide" id="header_guide" >
							<span class="txt">docs</span>	
						</a>
					</li>
				
					<li class="shortcut-3">
						<a href="/subscriptions" id="header_subscriptions" >
							<span class="txt">support</span>	
						</a>
					</li>
				
					<li class="shortcut-4">
						<a href="https://discuss.elastic.co" id="header_discuss" target="_blank">
							<span class="txt">discuss</span>	
						</a>
					</li>
				
					<li class="shortcut-5">
						<a href="/contact" id="header_contact" >
							<span class="txt">contact</span>	
						</a>
					</li>
				
			</ul>
		</nav>
		<div class="languages-wrapper">
			<div class="global-language">
				<ul class="language">
					<!-- <li class="active-language"><a class="active" href="#">EN</a></li> -->
					
						<li><a href="#">EN</a></li>
					
				</ul>
				<ul class="all-languages">
					
						
						<li><a href="/guide_template">English</a></li>
					
						
						<li><a href="/fr/guide_template">French</a></li>
					
						
						<li><a href="/de/guide_template">German</a></li>
					
						
						<li><a href="/jp/guide_template">Japanese</a></li>
					
						
						<li><a href="/kr/guide_template">Korean</a></li>
					
				</ul>
			</div>
		</div>
	</div>
</div>
<div class="container w100">
	<div class="row 0%">
		<div class="12u">
			

<section class="first-container desktop-main-nav">
	<div class="row 0%">
		<div class="11u 6u(small) 6u(xsmall)">
			<div id="elastic">
				<h1>
					<a href="/">
						<div id="elastic-logo">
						<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 400 130" preserveAspectRatio="xMinYMin meet" enable-background="new 0 0 400 130" xml:space="preserve">
    <g>
    	<g>
    		<path fill="#FFFFFF" d="M122.5,67.8c0-10.3-6.4-19.2-15.9-22.7c0.4-2.2,0.6-4.3,0.6-6.6c0-19.1-15.5-34.6-34.6-34.6
    			c-11.1,0-21.5,5.3-28,14.4c-3.2-2.5-7.1-3.8-11.2-3.8c-10.1,0-18.4,8.2-18.4,18.4c0,2.2,0.4,4.4,1.1,6.4C6.5,42.6,0,51.8,0,62
    			c0,10.3,6.4,19.3,16,22.8c-0.4,2.1-0.6,4.3-0.6,6.6c0,19,15.5,34.5,34.5,34.5c11.2,0,21.5-5.4,28-14.4c3.2,2.5,7.2,3.9,11.3,3.9
    			c10.1,0,18.4-8.2,18.4-18.4c0-2.2-0.4-4.4-1.1-6.4C115.9,87.2,122.5,78,122.5,67.8z"/>
    		<g>
    			<path fill="#F4BD19" d="M47.9,56.3l27.3,12.5l27.6-24.2c0.4-2,0.6-4,0.6-6.1c0-17-13.8-30.8-30.8-30.8c-10.2,0-19.7,5-25.4,13.4
    				l-4.6,23.8L47.9,56.3z"/>
    		</g>
    		<g>
    			<path fill="#3CBEB1" d="M19.6,85.2c-0.4,2-0.6,4.1-0.6,6.2c0,17,13.9,30.9,30.9,30.9c10.3,0,19.8-5.1,25.6-13.5L80,85l-6.1-11.6
    				L46.5,60.9L19.6,85.2z"/>
    		</g>
    		<g>
    			<path fill="#E9478C" d="M19.4,37.9l18.7,4.4L42.3,21c-2.6-2-5.7-3-9-3c-8.1,0-14.8,6.6-14.8,14.8C18.5,34.5,18.8,36.3,19.4,37.9z
    				"/>
    		</g>
    		<g>
    			<path fill="#2C458F" d="M17.8,42.4C9.4,45.1,3.6,53.2,3.6,62c0,8.6,5.3,16.3,13.3,19.3l26.3-23.8l-4.8-10.3L17.8,42.4z"/>
    		</g>
    		<g>
    			<path fill="#95C63D" d="M80.3,108.7c2.6,2,5.7,3.1,8.9,3.1c8.1,0,14.8-6.6,14.8-14.8c0-1.8-0.3-3.5-0.9-5.1l-18.7-4.4L80.3,108.7
    				z"/>
    		</g>
    		<g>
    			<path fill="#176655" d="M84.1,82.6l20.6,4.8c8.4-2.8,14.2-10.8,14.2-19.6c0-8.6-5.3-16.2-13.3-19.3l-27,23.6L84.1,82.6z"/>
    		</g>
    	</g>
    	<path d="M162.8,76.3c0,0.1,0,0.6,0.1,1.4c0.1,0.8,0.3,1.8,0.6,3c0.3,1.1,0.8,2.4,1.4,3.7c0.6,1.3,1.4,2.5,2.5,3.6
    		c1,1.1,2.3,2,3.8,2.7c1.5,0.7,3.4,1.1,5.6,1.1c1.8,0,3.3-0.1,4.6-0.4c1.3-0.3,2.4-0.7,3.4-1.3c1-0.6,1.9-1.3,2.7-2.2
    		c0.8-0.9,1.6-1.9,2.4-3.1c0.5-0.7,1-1.2,1.6-1.5c0.6-0.3,1.2-0.4,1.8-0.4c1,0,2,0.4,2.8,1.1c0.9,0.7,1.3,1.7,1.3,2.8
    		c0,0.7-0.4,1.7-1.1,3.1c-0.7,1.4-1.9,2.8-3.6,4.1c-1.6,1.4-3.7,2.6-6.3,3.6c-2.6,1-5.7,1.5-9.5,1.5c-3.8,0-7.2-0.7-10.2-2.1
    		c-3-1.4-5.5-3.2-7.5-5.6c-2-2.3-3.6-5-4.7-8.1c-1.1-3.1-1.6-6.3-1.6-9.7c0-3.5,0.5-6.8,1.6-9.9c1.1-3.1,2.7-5.8,4.7-8.1
    		c2-2.3,4.5-4.1,7.4-5.5c2.9-1.3,6.1-2,9.6-2c3.3,0,6.3,0.5,9.2,1.5c2.8,1,5.3,2.4,7.4,4.3c2.1,1.9,3.7,4.1,5,6.8
    		c1.2,2.7,1.8,5.8,1.8,9.2c0,2.1-0.5,3.7-1.6,4.8c-1,1.1-2.2,1.6-3.6,1.6H162.8z M170.9,56.4c-1.5,0.6-2.7,1.4-3.7,2.4
    		c-1,0.9-1.8,2-2.4,3.1c-0.6,1.1-1,2.2-1.3,3.2c-0.3,1-0.5,1.8-0.5,2.5c-0.1,0.7-0.1,1.1-0.1,1.2h27.9c0-1.8-0.3-3.5-0.9-5.1
    		c-0.6-1.6-1.5-3-2.6-4.3c-1.2-1.2-2.7-2.2-4.5-3c-1.8-0.7-4-1.1-6.5-1.1C174.2,55.5,172.4,55.8,170.9,56.4z"/>
    	<path d="M214.3,94.6c0,1.3-0.4,2.3-1.3,3.2c-0.9,0.9-1.9,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2V35.1
    		c0-1.3,0.4-2.3,1.3-3.2c0.9-0.9,2-1.3,3.2-1.3c1.3,0,2.3,0.4,3.2,1.3c0.9,0.9,1.3,1.9,1.3,3.2V94.6z"/>
    	<path d="M229.8,63.5c-0.6,0.3-1.2,0.5-1.9,0.5c-1.2,0-2.2-0.4-3.2-1.1c-1-0.7-1.5-1.8-1.5-3.1c0-0.5,0.1-1.1,0.4-1.9
    		c0.5-1.2,1.2-2.4,2.1-3.6c0.9-1.2,2-2.2,3.5-3.1s3.3-1.7,5.4-2.2c2.2-0.5,4.8-0.8,7.9-0.8c5.9,0,10.5,1.2,14,3.5
    		c3.5,2.3,5.2,5.8,5.2,10.3v32.8c0,1.3-0.4,2.3-1.3,3.2c-0.9,0.9-1.9,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2v-2
    		c-1.2,2-4.7,4.5-7.5,5.3c-2.8,0.8-5.7,1.2-8.8,1.2c-2,0-3.9-0.3-5.9-0.8c-2-0.5-3.8-1.4-5.3-2.5c-1.6-1.1-2.9-2.6-3.8-4.3
    		c-1-1.7-1.5-3.8-1.5-6.2c0-2.8,0.5-5.7,1.6-7.5c1.1-1.9,2.6-3.4,4.4-4.6c1.8-1.2,3.9-2.1,6.3-2.8c2.4-0.6,4.9-1.1,7.5-1.4
    		c3-0.3,5.4-0.7,7.2-1.2c1.7-0.4,3-0.9,3.9-1.5c0.9-0.6,1.4-1.2,1.6-2c0.2-0.7,0.3-1.6,0.3-2.5c0-1.1-0.3-2-0.9-2.8
    		c-0.6-0.8-1.4-1.5-2.4-2c-1-0.5-2.1-0.9-3.3-1.2s-2.4-0.4-3.5-0.4c-2.1,0-3.7,0.2-5,0.5c-1.3,0.3-2.3,0.8-3.1,1.4
    		c-0.8,0.6-1.5,1.3-1.9,2.1c-0.5,0.8-0.9,1.6-1.3,2.5C230.9,62.6,230.4,63.1,229.8,63.5z M250.6,74.4c-1.1,0.3-2.4,0.6-3.8,0.8
    		c-1.5,0.2-3,0.4-4.6,0.6c-1.6,0.2-3.1,0.5-4.6,0.9c-1.5,0.3-2.8,0.8-4,1.5c-1.2,0.7-2.2,1.5-2.9,2.5c-0.7,1-1.1,3-1.1,4.6
    		c0,1.3,0.3,2.3,0.8,3.1c0.5,0.8,1.2,1.5,2.1,2c0.9,0.5,1.8,0.8,2.9,1c1.1,0.2,2.2,0.3,3.3,0.3c1.7,0,3.3-0.2,5-0.6
    		c1.7-0.4,3.2-1,4.5-1.9s2.4-2,3.3-3.5c0.8-1.4,1.2-3.8,1.2-5.9v-6.1L250.6,74.4z"/>
    	<path d="M307.6,90.9c-1.1,2-2.7,3.6-4.6,4.8s-4.1,2.1-6.6,2.7c-2.5,0.5-5.2,0.8-7.9,0.8c-3.9,0-7.2-0.6-9.9-1.8
    		c-2.7-1.2-4.9-2.6-6.5-4.1c-1.7-1.6-2.9-3.1-3.7-4.7c-0.7-1.6-1.1-2.7-1.1-3.5c0-1.3,0.5-2.4,1.4-3.2c0.9-0.8,2-1.2,3.1-1.2
    		c0.7,0,1.3,0.2,2,0.6c0.6,0.4,1.1,1,1.5,1.9c1,2.5,2.5,4.5,4.7,6.2c2.2,1.7,5.2,2.5,9.3,2.5c1.8,0,3.4-0.2,4.7-0.6
    		c1.3-0.4,2.4-1,3.2-1.7c0.8-0.7,1.4-1.5,1.9-2.4c0.4-0.9,0.6-1.8,0.6-2.8c0-2-0.8-3.4-2.3-4.4c-1.5-1-3.5-1.7-5.8-2.3
    		c-2.3-0.6-4.8-1.1-7.5-1.6c-2.7-0.5-5.2-1.2-7.5-2.2c-2.3-0.9-4.2-2.3-5.8-4c-1.6-1.8-2.3-4.2-2.3-7.3c0-4.5,1.6-8,4.9-10.5
    		c3.3-2.5,7.8-3.8,13.7-3.8c3.3,0,6,0.3,8.3,1c2.2,0.7,4.1,1.6,5.5,2.7c0.6,0.5,1.2,1,1.8,1.7c0.6,0.7,1.2,1.4,1.8,2.2
    		c0.6,0.8,1,1.5,1.4,2.3c0.4,0.7,0.6,1.4,0.6,2c0,1.3-0.5,2.4-1.6,3.1c-1,0.8-2.2,1.2-3.4,1.2c-0.7,0-1.5-0.1-2.1-0.6
    		c-0.6-0.6-1-1.3-1.3-1.8c-0.5-1.1-1.1-2-1.7-2.8c-0.5-0.8-1.2-1.5-2-2c-0.8-0.5-1.8-0.9-3-1.2c-1.2-0.3-2.7-0.4-4.4-0.4
    		c-3.5,0-6,0.6-7.6,1.7c-1.6,1.1-2.4,2.5-2.4,4.2c0,1.3,0.5,2.3,1.4,3.1c0.9,0.8,2.1,1.4,3.7,2c1.5,0.5,3.3,1,5.2,1.4
    		c2,0.4,3.9,0.8,5.9,1.3c2,0.5,4,1.1,5.9,1.7c1.9,0.7,3.7,1.6,5.2,2.7c1.5,1.1,2.7,2.5,3.7,4.1c0.9,1.6,1.4,3.6,1.4,6
    		C309.4,86.4,308.8,88.9,307.6,90.9z"/>
    	<path d="M327.4,48.8h4.7c1.1,0,2,0.4,2.8,1.2c0.8,0.8,1.2,1.7,1.2,2.8c0,1.1-0.4,2.1-1.2,2.8s-1.7,1.1-2.8,1.1h-4.7v37.9
    		c0,1.3-0.4,2.3-1.3,3.2c-0.9,0.9-2,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2V56.7h-4.6c-1.1,0-2-0.4-2.8-1.1
    		c-0.8-0.7-1.2-1.7-1.2-2.8c0-1.1,0.4-2,1.2-2.8c0.8-0.8,1.7-1.2,2.8-1.2h4.6V39c0-1.3,0.4-2.3,1.3-3.2s1.9-1.3,3.2-1.3
    		c1.3,0,2.3,0.4,3.2,1.3s1.3,1.9,1.3,3.2V48.8z"/>
    	<path d="M341.5,32.1c1-1,2.2-1.5,3.7-1.5c1.4,0,2.6,0.5,3.6,1.5c1,1,1.5,2.2,1.5,3.6c0,1.4-0.5,2.6-1.5,3.6c-1,1-2.2,1.5-3.6,1.5
    		c-1.4,0-2.7-0.5-3.7-1.5c-1-1-1.5-2.2-1.5-3.6C340,34.2,340.5,33,341.5,32.1z M349.6,94.6c0,1.3-0.4,2.3-1.3,3.2
    		c-0.9,0.9-1.9,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2V53.3c0-1.3,0.4-2.3,1.3-3.2c0.9-0.9,2-1.3,3.2-1.3
    		c1.3,0,2.3,0.4,3.2,1.3c0.9,0.9,1.3,2,1.3,3.2V94.6z"/>
    	<path d="M369.1,97.3c-2.9-1.2-5.4-3-7.5-5.2c-2.1-2.2-3.8-4.9-5-8.1c-1.2-3.1-1.8-6.6-1.8-10.4c0-3.8,0.6-7.3,1.8-10.5
    		c1.2-3.1,2.9-5.8,5-8.1c2.1-2.2,4.6-4,7.5-5.2c2.9-1.2,6-1.9,9.4-1.9c3.4,0,6.4,0.5,9,1.5c2.5,1,4.6,2.2,6.2,3.6
    		c1.6,1.4,3.2,2.9,4,4.4c0.5,0.9,0.9,1.5,0.9,2.6c0,1.3-0.5,2.3-1.4,3.1c-0.9,0.7-2,1.1-3.1,1.1c-0.8,0-1.6-0.2-2.2-0.6
    		c-0.7-0.4-1.2-1.3-1.8-2.1c-1-1.4-0.5-0.6-1.1-1.5c-0.7-0.9-1.5-1.6-2.5-2.3c-1-0.7-2.2-1.2-3.5-1.6c-1.4-0.4-2.8-0.6-4.4-0.6
    		c-1.8,0-3.5,0.3-5.3,1c-1.8,0.7-3.3,1.7-4.7,3.1c-1.4,1.4-2.5,3.3-3.4,5.6s-1.3,5.1-1.3,8.4c0,3.3,0.4,6.1,1.3,8.4s2,4.2,3.4,5.6
    		c1.4,1.4,3,2.5,4.7,3.1c1.8,0.7,3.5,1,5.3,1c1.6,0,3.1-0.2,4.4-0.6c1.3-0.4,2.5-0.9,3.5-1.6c1-0.7,1.8-1.5,2.5-2.3
    		c0.7-0.9,1.1-1.8,1.4-2.7c0.3-1,0.8-1.7,1.5-2.1c0.7-0.4,1.4-0.6,2.2-0.6c1.1,0,2.2,0.4,3.1,1.1c0.9,0.7,1.4,1.7,1.4,3
    		c0,0.6-0.3,1.7-0.9,3.1c-0.6,1.5-1.6,2.9-3.1,4.4c-1.5,1.5-3.5,2.8-6.2,4c-2.6,1.1-6,1.7-10,1.7C375.1,99.2,372,98.5,369.1,97.3z"
    		/>
    </g>
</svg>
						</div>
					</a>
				</h1>
			</div>
			<nav id="nav">
				<ul>
					
					<li>
						
							
						
						<a href="/products" id="nav_products"   >Products</a>
						
						<ul class="dropdown">
							
								<li><a href="/products/elasticsearch" id="nav_elasticsearch" >elasticsearch</a></li>								
							
								<li><a href="/found" id="nav_hosted-elasticsearch" >elasticsearch as a service</a></li>								
							
								<li><a href="/products/logstash" id="nav_logstash" >logstash</a></li>								
							
								<li><a href="/products/kibana" id="nav_kibana" >kibana</a></li>								
							
								<li><a href="/products/beats" id="nav_beats" >beats</a></li>								
							
								<li><a href="/products/watcher" id="nav_watcher" >watcher</a></li>								
							
								<li><a href="/products/shield" id="nav_shield" >shield</a></li>								
							
								<li><a href="/products/marvel" id="nav_marvel" >marvel</a></li>								
							
								<li><a href="/products/hadoop" id="nav_hadoop" >hadoop</a></li>								
							
								<li><a href="/downloads" id="nav_downloads" >downloads</a></li>								
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/subscriptions" id="nav_subscriptions"   >Subscriptions</a>
						
						<ul class="dropdown">
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/learn" id="nav_learn"   >Learn</a>
						
						<ul class="dropdown">
							
								<li><a href="/guide" id="nav_guide" >docs</a></li>								
							
								<li><a href="/videos" id="nav_videos" >videos</a></li>								
							
								<li><a href="/training" id="nav_training" >training</a></li>								
							
								<li><a href="/services" id="nav_services" >services</a></li>								
							
								<li><a href="/blog" id="nav_learn_blog" >blog</a></li>								
							
								<li><a href="/elasticon" id="nav_learn_elasticon" >elastic{ON}</a></li>								
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/community" id="nav_community"   >Community</a>
						
						<ul class="dropdown">
							
								<li><a href="/community/meetups" id="nav_meetups" >meetups</a></li>								
							
								<li><a href="https://discuss.elastic.co" id="nav_discuss" target="_blank">discuss</a></li>								
							
								<li><a href="/community/codeofconduct" id="nav_codeofconduct" >code of conduct</a></li>								
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/use-cases" id="nav_usecases"   >Use Cases</a>
						
						<ul class="dropdown">
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/blog" id="nav_blog"   >Blog</a>
						
						<ul class="dropdown">
							
								<li><a href="/blog/category/news" id="blog_news" >News</a></li>								
							
								<li><a href="/blog/category/engineering" id="blog_engineering" >Engineering</a></li>								
							
								<li><a href="/blog/category/user-stories" id="blog_user-stories" >User Stories</a></li>								
							
								<li><a href="/blog/category/releases" id="blog_releases" >Releases</a></li>								
							
								<li><a href="/blog/archive" id="blog_archive" >Archive</a></li>								
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/about" id="nav_about"   >About</a>
						
						<ul class="dropdown">
							
								<li><a href="/about/leadership" id="nav_leadership" >leadership</a></li>								
							
								<li><a href="/about/board" id="nav_board" >board of directors</a></li>								
							
								<li><a href="/about/careers" id="nav_careers" >careers</a></li>								
							
								<li><a href="/about/partners" id="nav_partners" >partners</a></li>								
							
								<li><a href="/about/press" id="nav_press" >press</a></li>								
								
						</ul>							
					</li>
					
				</ul>
			</nav>			
			<!-- Searchbar Input box -->
			 <!-- <form method="get" action="/search" name="searchForm" class="header-search-form" id="searchMobileFrm">
			   <input type="text" id="search-header-autocomplete" name="q" class="form-control global-input" placeholder="elastic{search}">
			</form>
			<div class="mobile-auto-complete"></div> -->  
		</div>
		<div class="1u 6u(small) 6u(xsmall)">
			<div id="searchbar">
				<a href="#" class="button icon"></a>
			</div>
			<!-- <div class="nav-auto-complete"></div> -->
		</div>
	</div>
</section>
<div class="mobile-menu-wrapper">
	<div class="row 0%">
		<div class="8u 6u(small) 6u(xsmall)">
			<div id="elastic">
				<h1>
					<a href="/">
						<div id="elastic-logo">
						<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 400 130" preserveAspectRatio="xMinYMin meet" enable-background="new 0 0 400 130" xml:space="preserve">
    <g>
    	<g>
    		<path fill="#FFFFFF" d="M122.5,67.8c0-10.3-6.4-19.2-15.9-22.7c0.4-2.2,0.6-4.3,0.6-6.6c0-19.1-15.5-34.6-34.6-34.6
    			c-11.1,0-21.5,5.3-28,14.4c-3.2-2.5-7.1-3.8-11.2-3.8c-10.1,0-18.4,8.2-18.4,18.4c0,2.2,0.4,4.4,1.1,6.4C6.5,42.6,0,51.8,0,62
    			c0,10.3,6.4,19.3,16,22.8c-0.4,2.1-0.6,4.3-0.6,6.6c0,19,15.5,34.5,34.5,34.5c11.2,0,21.5-5.4,28-14.4c3.2,2.5,7.2,3.9,11.3,3.9
    			c10.1,0,18.4-8.2,18.4-18.4c0-2.2-0.4-4.4-1.1-6.4C115.9,87.2,122.5,78,122.5,67.8z"/>
    		<g>
    			<path fill="#F4BD19" d="M47.9,56.3l27.3,12.5l27.6-24.2c0.4-2,0.6-4,0.6-6.1c0-17-13.8-30.8-30.8-30.8c-10.2,0-19.7,5-25.4,13.4
    				l-4.6,23.8L47.9,56.3z"/>
    		</g>
    		<g>
    			<path fill="#3CBEB1" d="M19.6,85.2c-0.4,2-0.6,4.1-0.6,6.2c0,17,13.9,30.9,30.9,30.9c10.3,0,19.8-5.1,25.6-13.5L80,85l-6.1-11.6
    				L46.5,60.9L19.6,85.2z"/>
    		</g>
    		<g>
    			<path fill="#E9478C" d="M19.4,37.9l18.7,4.4L42.3,21c-2.6-2-5.7-3-9-3c-8.1,0-14.8,6.6-14.8,14.8C18.5,34.5,18.8,36.3,19.4,37.9z
    				"/>
    		</g>
    		<g>
    			<path fill="#2C458F" d="M17.8,42.4C9.4,45.1,3.6,53.2,3.6,62c0,8.6,5.3,16.3,13.3,19.3l26.3-23.8l-4.8-10.3L17.8,42.4z"/>
    		</g>
    		<g>
    			<path fill="#95C63D" d="M80.3,108.7c2.6,2,5.7,3.1,8.9,3.1c8.1,0,14.8-6.6,14.8-14.8c0-1.8-0.3-3.5-0.9-5.1l-18.7-4.4L80.3,108.7
    				z"/>
    		</g>
    		<g>
    			<path fill="#176655" d="M84.1,82.6l20.6,4.8c8.4-2.8,14.2-10.8,14.2-19.6c0-8.6-5.3-16.2-13.3-19.3l-27,23.6L84.1,82.6z"/>
    		</g>
    	</g>
    	<path d="M162.8,76.3c0,0.1,0,0.6,0.1,1.4c0.1,0.8,0.3,1.8,0.6,3c0.3,1.1,0.8,2.4,1.4,3.7c0.6,1.3,1.4,2.5,2.5,3.6
    		c1,1.1,2.3,2,3.8,2.7c1.5,0.7,3.4,1.1,5.6,1.1c1.8,0,3.3-0.1,4.6-0.4c1.3-0.3,2.4-0.7,3.4-1.3c1-0.6,1.9-1.3,2.7-2.2
    		c0.8-0.9,1.6-1.9,2.4-3.1c0.5-0.7,1-1.2,1.6-1.5c0.6-0.3,1.2-0.4,1.8-0.4c1,0,2,0.4,2.8,1.1c0.9,0.7,1.3,1.7,1.3,2.8
    		c0,0.7-0.4,1.7-1.1,3.1c-0.7,1.4-1.9,2.8-3.6,4.1c-1.6,1.4-3.7,2.6-6.3,3.6c-2.6,1-5.7,1.5-9.5,1.5c-3.8,0-7.2-0.7-10.2-2.1
    		c-3-1.4-5.5-3.2-7.5-5.6c-2-2.3-3.6-5-4.7-8.1c-1.1-3.1-1.6-6.3-1.6-9.7c0-3.5,0.5-6.8,1.6-9.9c1.1-3.1,2.7-5.8,4.7-8.1
    		c2-2.3,4.5-4.1,7.4-5.5c2.9-1.3,6.1-2,9.6-2c3.3,0,6.3,0.5,9.2,1.5c2.8,1,5.3,2.4,7.4,4.3c2.1,1.9,3.7,4.1,5,6.8
    		c1.2,2.7,1.8,5.8,1.8,9.2c0,2.1-0.5,3.7-1.6,4.8c-1,1.1-2.2,1.6-3.6,1.6H162.8z M170.9,56.4c-1.5,0.6-2.7,1.4-3.7,2.4
    		c-1,0.9-1.8,2-2.4,3.1c-0.6,1.1-1,2.2-1.3,3.2c-0.3,1-0.5,1.8-0.5,2.5c-0.1,0.7-0.1,1.1-0.1,1.2h27.9c0-1.8-0.3-3.5-0.9-5.1
    		c-0.6-1.6-1.5-3-2.6-4.3c-1.2-1.2-2.7-2.2-4.5-3c-1.8-0.7-4-1.1-6.5-1.1C174.2,55.5,172.4,55.8,170.9,56.4z"/>
    	<path d="M214.3,94.6c0,1.3-0.4,2.3-1.3,3.2c-0.9,0.9-1.9,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2V35.1
    		c0-1.3,0.4-2.3,1.3-3.2c0.9-0.9,2-1.3,3.2-1.3c1.3,0,2.3,0.4,3.2,1.3c0.9,0.9,1.3,1.9,1.3,3.2V94.6z"/>
    	<path d="M229.8,63.5c-0.6,0.3-1.2,0.5-1.9,0.5c-1.2,0-2.2-0.4-3.2-1.1c-1-0.7-1.5-1.8-1.5-3.1c0-0.5,0.1-1.1,0.4-1.9
    		c0.5-1.2,1.2-2.4,2.1-3.6c0.9-1.2,2-2.2,3.5-3.1s3.3-1.7,5.4-2.2c2.2-0.5,4.8-0.8,7.9-0.8c5.9,0,10.5,1.2,14,3.5
    		c3.5,2.3,5.2,5.8,5.2,10.3v32.8c0,1.3-0.4,2.3-1.3,3.2c-0.9,0.9-1.9,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2v-2
    		c-1.2,2-4.7,4.5-7.5,5.3c-2.8,0.8-5.7,1.2-8.8,1.2c-2,0-3.9-0.3-5.9-0.8c-2-0.5-3.8-1.4-5.3-2.5c-1.6-1.1-2.9-2.6-3.8-4.3
    		c-1-1.7-1.5-3.8-1.5-6.2c0-2.8,0.5-5.7,1.6-7.5c1.1-1.9,2.6-3.4,4.4-4.6c1.8-1.2,3.9-2.1,6.3-2.8c2.4-0.6,4.9-1.1,7.5-1.4
    		c3-0.3,5.4-0.7,7.2-1.2c1.7-0.4,3-0.9,3.9-1.5c0.9-0.6,1.4-1.2,1.6-2c0.2-0.7,0.3-1.6,0.3-2.5c0-1.1-0.3-2-0.9-2.8
    		c-0.6-0.8-1.4-1.5-2.4-2c-1-0.5-2.1-0.9-3.3-1.2s-2.4-0.4-3.5-0.4c-2.1,0-3.7,0.2-5,0.5c-1.3,0.3-2.3,0.8-3.1,1.4
    		c-0.8,0.6-1.5,1.3-1.9,2.1c-0.5,0.8-0.9,1.6-1.3,2.5C230.9,62.6,230.4,63.1,229.8,63.5z M250.6,74.4c-1.1,0.3-2.4,0.6-3.8,0.8
    		c-1.5,0.2-3,0.4-4.6,0.6c-1.6,0.2-3.1,0.5-4.6,0.9c-1.5,0.3-2.8,0.8-4,1.5c-1.2,0.7-2.2,1.5-2.9,2.5c-0.7,1-1.1,3-1.1,4.6
    		c0,1.3,0.3,2.3,0.8,3.1c0.5,0.8,1.2,1.5,2.1,2c0.9,0.5,1.8,0.8,2.9,1c1.1,0.2,2.2,0.3,3.3,0.3c1.7,0,3.3-0.2,5-0.6
    		c1.7-0.4,3.2-1,4.5-1.9s2.4-2,3.3-3.5c0.8-1.4,1.2-3.8,1.2-5.9v-6.1L250.6,74.4z"/>
    	<path d="M307.6,90.9c-1.1,2-2.7,3.6-4.6,4.8s-4.1,2.1-6.6,2.7c-2.5,0.5-5.2,0.8-7.9,0.8c-3.9,0-7.2-0.6-9.9-1.8
    		c-2.7-1.2-4.9-2.6-6.5-4.1c-1.7-1.6-2.9-3.1-3.7-4.7c-0.7-1.6-1.1-2.7-1.1-3.5c0-1.3,0.5-2.4,1.4-3.2c0.9-0.8,2-1.2,3.1-1.2
    		c0.7,0,1.3,0.2,2,0.6c0.6,0.4,1.1,1,1.5,1.9c1,2.5,2.5,4.5,4.7,6.2c2.2,1.7,5.2,2.5,9.3,2.5c1.8,0,3.4-0.2,4.7-0.6
    		c1.3-0.4,2.4-1,3.2-1.7c0.8-0.7,1.4-1.5,1.9-2.4c0.4-0.9,0.6-1.8,0.6-2.8c0-2-0.8-3.4-2.3-4.4c-1.5-1-3.5-1.7-5.8-2.3
    		c-2.3-0.6-4.8-1.1-7.5-1.6c-2.7-0.5-5.2-1.2-7.5-2.2c-2.3-0.9-4.2-2.3-5.8-4c-1.6-1.8-2.3-4.2-2.3-7.3c0-4.5,1.6-8,4.9-10.5
    		c3.3-2.5,7.8-3.8,13.7-3.8c3.3,0,6,0.3,8.3,1c2.2,0.7,4.1,1.6,5.5,2.7c0.6,0.5,1.2,1,1.8,1.7c0.6,0.7,1.2,1.4,1.8,2.2
    		c0.6,0.8,1,1.5,1.4,2.3c0.4,0.7,0.6,1.4,0.6,2c0,1.3-0.5,2.4-1.6,3.1c-1,0.8-2.2,1.2-3.4,1.2c-0.7,0-1.5-0.1-2.1-0.6
    		c-0.6-0.6-1-1.3-1.3-1.8c-0.5-1.1-1.1-2-1.7-2.8c-0.5-0.8-1.2-1.5-2-2c-0.8-0.5-1.8-0.9-3-1.2c-1.2-0.3-2.7-0.4-4.4-0.4
    		c-3.5,0-6,0.6-7.6,1.7c-1.6,1.1-2.4,2.5-2.4,4.2c0,1.3,0.5,2.3,1.4,3.1c0.9,0.8,2.1,1.4,3.7,2c1.5,0.5,3.3,1,5.2,1.4
    		c2,0.4,3.9,0.8,5.9,1.3c2,0.5,4,1.1,5.9,1.7c1.9,0.7,3.7,1.6,5.2,2.7c1.5,1.1,2.7,2.5,3.7,4.1c0.9,1.6,1.4,3.6,1.4,6
    		C309.4,86.4,308.8,88.9,307.6,90.9z"/>
    	<path d="M327.4,48.8h4.7c1.1,0,2,0.4,2.8,1.2c0.8,0.8,1.2,1.7,1.2,2.8c0,1.1-0.4,2.1-1.2,2.8s-1.7,1.1-2.8,1.1h-4.7v37.9
    		c0,1.3-0.4,2.3-1.3,3.2c-0.9,0.9-2,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2V56.7h-4.6c-1.1,0-2-0.4-2.8-1.1
    		c-0.8-0.7-1.2-1.7-1.2-2.8c0-1.1,0.4-2,1.2-2.8c0.8-0.8,1.7-1.2,2.8-1.2h4.6V39c0-1.3,0.4-2.3,1.3-3.2s1.9-1.3,3.2-1.3
    		c1.3,0,2.3,0.4,3.2,1.3s1.3,1.9,1.3,3.2V48.8z"/>
    	<path d="M341.5,32.1c1-1,2.2-1.5,3.7-1.5c1.4,0,2.6,0.5,3.6,1.5c1,1,1.5,2.2,1.5,3.6c0,1.4-0.5,2.6-1.5,3.6c-1,1-2.2,1.5-3.6,1.5
    		c-1.4,0-2.7-0.5-3.7-1.5c-1-1-1.5-2.2-1.5-3.6C340,34.2,340.5,33,341.5,32.1z M349.6,94.6c0,1.3-0.4,2.3-1.3,3.2
    		c-0.9,0.9-1.9,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2V53.3c0-1.3,0.4-2.3,1.3-3.2c0.9-0.9,2-1.3,3.2-1.3
    		c1.3,0,2.3,0.4,3.2,1.3c0.9,0.9,1.3,2,1.3,3.2V94.6z"/>
    	<path d="M369.1,97.3c-2.9-1.2-5.4-3-7.5-5.2c-2.1-2.2-3.8-4.9-5-8.1c-1.2-3.1-1.8-6.6-1.8-10.4c0-3.8,0.6-7.3,1.8-10.5
    		c1.2-3.1,2.9-5.8,5-8.1c2.1-2.2,4.6-4,7.5-5.2c2.9-1.2,6-1.9,9.4-1.9c3.4,0,6.4,0.5,9,1.5c2.5,1,4.6,2.2,6.2,3.6
    		c1.6,1.4,3.2,2.9,4,4.4c0.5,0.9,0.9,1.5,0.9,2.6c0,1.3-0.5,2.3-1.4,3.1c-0.9,0.7-2,1.1-3.1,1.1c-0.8,0-1.6-0.2-2.2-0.6
    		c-0.7-0.4-1.2-1.3-1.8-2.1c-1-1.4-0.5-0.6-1.1-1.5c-0.7-0.9-1.5-1.6-2.5-2.3c-1-0.7-2.2-1.2-3.5-1.6c-1.4-0.4-2.8-0.6-4.4-0.6
    		c-1.8,0-3.5,0.3-5.3,1c-1.8,0.7-3.3,1.7-4.7,3.1c-1.4,1.4-2.5,3.3-3.4,5.6s-1.3,5.1-1.3,8.4c0,3.3,0.4,6.1,1.3,8.4s2,4.2,3.4,5.6
    		c1.4,1.4,3,2.5,4.7,3.1c1.8,0.7,3.5,1,5.3,1c1.6,0,3.1-0.2,4.4-0.6c1.3-0.4,2.5-0.9,3.5-1.6c1-0.7,1.8-1.5,2.5-2.3
    		c0.7-0.9,1.1-1.8,1.4-2.7c0.3-1,0.8-1.7,1.5-2.1c0.7-0.4,1.4-0.6,2.2-0.6c1.1,0,2.2,0.4,3.1,1.1c0.9,0.7,1.4,1.7,1.4,3
    		c0,0.6-0.3,1.7-0.9,3.1c-0.6,1.5-1.6,2.9-3.1,4.4c-1.5,1.5-3.5,2.8-6.2,4c-2.6,1.1-6,1.7-10,1.7C375.1,99.2,372,98.5,369.1,97.3z"
    		/>
    </g>
</svg>
						</div>
					</a>
				</h1>
			</div>
		</div>
		<div class="4u 6u(small) 6u(xsmall) text-right">
			<!-- <div class="mobile-menu-wrapper"> -->
				<ul class="m-shortcuts">
					
					<li><a href="#" class="m-search" id="header-search"></a></li>
					
					<li><a href="/guide" class="m-docs" id="mobile-docs"></a></li>
					
					<li><a href="/contact" class="m-contact" id="mobile-contact"></a></li>
					
				</ul>	
				<nav class="nav-menu">
					<div class="menu-button">
						<span></span>
					</div>
					<div class="nav-menu-list-wrap">
						<div class="nav-menu-list">
							
								<h3><a href="/products" id="nav_products" >Products</a></h3>

								
								<ul>
									
									<li><a href="/products/elasticsearch" id="nav_elasticsearch" >elasticsearch</a></li>
									
									<li><a href="/found" id="nav_hosted-elasticsearch" >elasticsearch as a service</a></li>
									
									<li><a href="/products/logstash" id="nav_logstash" >logstash</a></li>
									
									<li><a href="/products/kibana" id="nav_kibana" >kibana</a></li>
									
									<li><a href="/products/beats" id="nav_beats" >beats</a></li>
									
									<li><a href="/products/watcher" id="nav_watcher" >watcher</a></li>
									
									<li><a href="/products/shield" id="nav_shield" >shield</a></li>
									
									<li><a href="/products/marvel" id="nav_marvel" >marvel</a></li>
									
									<li><a href="/products/hadoop" id="nav_hadoop" >hadoop</a></li>
									
									<li><a href="/downloads" id="nav_downloads" >downloads</a></li>
									
								</ul>
								
							
								<h3><a href="/subscriptions" id="nav_subscriptions" >Subscriptions</a></h3>

								
							
								<h3><a href="/learn" id="nav_learn" >Learn</a></h3>

								
								<ul>
									
									<li><a href="/guide" id="nav_guide" >docs</a></li>
									
									<li><a href="/videos" id="nav_videos" >videos</a></li>
									
									<li><a href="/training" id="nav_training" >training</a></li>
									
									<li><a href="/services" id="nav_services" >services</a></li>
									
									<li><a href="/blog" id="nav_learn_blog" >blog</a></li>
									
									<li><a href="/elasticon" id="nav_learn_elasticon" >elastic{ON}</a></li>
									
								</ul>
								
							
								<h3><a href="/community" id="nav_community" >Community</a></h3>

								
								<ul>
									
									<li><a href="/community/meetups" id="nav_meetups" >meetups</a></li>
									
									<li><a href="/https:/discuss.elastic.co" id="nav_discuss" target="_blank">discuss</a></li>
									
									<li><a href="/community/codeofconduct" id="nav_codeofconduct" >code of conduct</a></li>
									
								</ul>
								
							
								<h3><a href="/use-cases" id="nav_usecases" >Use Cases</a></h3>

								
							
								<h3><a href="/blog" id="nav_blog" >Blog</a></h3>

								
								<ul>
									
									<li><a href="/blog/category/news" id="blog_news" >News</a></li>
									
									<li><a href="/blog/category/engineering" id="blog_engineering" >Engineering</a></li>
									
									<li><a href="/blog/category/user-stories" id="blog_user-stories" >User Stories</a></li>
									
									<li><a href="/blog/category/releases" id="blog_releases" >Releases</a></li>
									
									<li><a href="/blog/archive" id="blog_archive" >Archive</a></li>
									
								</ul>
								
							
								<h3><a href="/about" id="nav_about" >About</a></h3>

								
								<ul>
									
									<li><a href="/about/leadership" id="nav_leadership" >leadership</a></li>
									
									<li><a href="/about/board" id="nav_board" >board of directors</a></li>
									
									<li><a href="/about/careers" id="nav_careers" >careers</a></li>
									
									<li><a href="/about/partners" id="nav_partners" >partners</a></li>
									
									<li><a href="/about/press" id="nav_press" >press</a></li>
									
								</ul>
								
							
						</div>
					</div>
				</nav>
			<!-- </div> -->
		</div>
	</div>
</div>
<!-- Mobile Menu -->


		</div>
	</div>
</div>
<div class="header-search-wrapper">	
	<div class="container">
		<div class="big-search">
			<i class="big-search-icon"></i>
			<form method="get" action="/search" autocomplete="on" name="searchForm" id="searchfrm">
				<ul class="tags-wrapper">
					<li class="search-field"><input type="text" class="form-control global-input" id="autocomplete" name="q"></li>
				</ul>
			</form>
			<a href="#" class="header-search-cancel"></a>
		</div>
		<div class="nav-auto-complete"></div>
	</div>
</div>
<style>	
	
	
		.m-shortcuts li a.m-search {
			background: url("https://static-www.elastic.co/assets/blt174b13be89ff803c/m-search-icon.png?q=100") no-repeat scroll center center rgba(0, 0, 0, 0);
			background-size: contain;}
	
		.m-shortcuts li a.m-docs {
			background: url("https://static-www.elastic.co/assets/blt5ba03f594a7d610a/m-guide-icon.png?q=100") no-repeat scroll center center rgba(0, 0, 0, 0);
			background-size: contain;}
	
		.m-shortcuts li a.m-contact {
			background: url("https://static-www.elastic.co/assets/blt38c3e853c4b1174d/m-contact-icon.png?q=100") no-repeat scroll center center rgba(0, 0, 0, 0);
			background-size: contain;}
		
</style>
		</div>
	</div>
  	<div id="content">
  		
  			
            <div id="pageheader">
    <div class="container">
        <header>
            <h1><a href="/learn" title="Learn">Learn</a> |</h1>
            <h2><a href="/guide" title="Docs">Docs</a></h2>
        </header>
    </div>
</div>
<section id="guide">

            <!-- start body -->
<div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch: The Definitive Guide</a></span> » <span class="breadcrumb-link"><a href="administration.html">관리, 모니터링, 배포 </a></span> » <span class="breadcrumb-node">배포 후</span></div><div class="navheader"><span class="prev"><a href="deploy.html">
              « 
              제품의 배포</a>
           
        </span><span class="next">
           
          </span></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="post_deploy"></a>배포 후</h2></div></div></div><p>일단 제품에 cluster를 배포했다면, cluster를 최상의 상태로 유지하기 위한,
몇 가지 도구와 모범 사례가 있다. 이 장에서는, 동적으로 설정을 구성하는 방법,
로깅 수준을 조정하는 방법, 색인 성능 팁, 그리고 cluster를 백업하는 방법에 대해
이야기할 것이다.</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_changing_settings_dynamically"></a>Changing Settings Dynamically</h2></div></div></div><p>Many settings in Elasticsearch are dynamic and can be modified through the API.
Configuration changes that force a node (or cluster) restart are strenuously avoided.<a id="id-1.10.5.3.2.1" class="indexterm"></a>
<a id="id-1.10.5.3.2.2" class="indexterm"></a>
And while it’s possible to make the changes through the static configs, we
recommend that you use the API instead.</p><p>The <code class="literal">cluster-update</code> API operates<a id="id-1.10.5.3.3.2" class="indexterm"></a> in two modes:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
Transient
</span></dt><dd>
    These changes are in effect until the cluster restarts.  Once
a full cluster restart takes place, these settings are erased.
</dd><dt><span class="term">
Persistent
</span></dt><dd>
    These changes are permanently in place unless explicitly changed.
They will survive full cluster restarts and override the static configuration files.
</dd></dl></div><p>Transient versus persistent settings are supplied in the JSON body:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">PUT /_cluster/settings
{
    "persistent" : {
        "discovery.zen.minimum_master_nodes" : 2 <a id="CO313-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
    },
    "transient" : {
        "indices.store.throttle.max_bytes_per_sec" : "50mb" <a id="CO313-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
    }
}</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO313-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
This persistent setting will survive full cluster restarts.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO313-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
This transient setting will be removed after the first full cluster
restart.
</p></td></tr></table></div><p>A complete list of settings that can be updated dynamically can be found in the
<a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/cluster-update-settings.html" target="_top">online reference docs</a>.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="logging"></a>Logging</h2></div></div></div><p>Elasticsearch emits a number of logs, which are placed in  <code class="literal">ES_HOME/logs</code>.
The default logging level is <code class="literal">INFO</code>. <a id="id-1.10.5.4.2.3" class="indexterm"></a>
<a id="id-1.10.5.4.2.4" class="indexterm"></a><a id="id-1.10.5.4.2.5" class="indexterm"></a>
<a id="id-1.10.5.4.2.6" class="indexterm"></a> It provides a moderate amount of information,
but is designed to be rather light so that your logs are not enormous.</p><p>When debugging problems, particularly problems with node discovery (since this
often depends on finicky network configurations), it can be helpful to bump
up the logging level to <code class="literal">DEBUG</code>.</p><p>You <span class="emphasis"><em>could</em></span> modify the <code class="literal">logging.yml</code> file and restart your nodes—but that is
both tedious and leads to unnecessary downtime.  Instead, you can update logging
levels through the <code class="literal">cluster-settings</code> API<a id="id-1.10.5.4.4.4" class="indexterm"></a> that we just learned about.</p><p>To do so, take the logger you are interested in and prepend <code class="literal">logger.</code> to it. You can refer to the root logger as <code class="literal">logger._root</code>.</p><p>Let’s turn up the discovery logging:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">PUT /_cluster/settings
{
    "transient" : {
        "logger.discovery" : "DEBUG"
    }
}</pre></div><p>While this setting is in effect, Elasticsearch will begin to emit <code class="literal">DEBUG</code>-level
logs for the <code class="literal">discovery</code> module.</p><div class="tip admon"><div class="icon"><img alt="Tip" src="images/icons/tip.png" /></div><div class="admon_content"><p>Avoid <code class="literal">TRACE</code>. It is extremely verbose, to the point where the logs
are no longer useful.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="slowlog"></a>Slowlog</h3></div></div></div><p>There is another log called the <span class="emphasis"><em>slowlog</em></span>.  The purpose of<a id="id-1.10.5.4.10.2.2" class="indexterm"></a> this log is to catch
queries and indexing requests that take over a certain threshold of time.
It is useful for hunting down user-generated queries that are particularly slow.</p><p>By default, the slowlog is not enabled.  It can be enabled by defining the action
(query, fetch, or index), the level that you want the event logged at (<code class="literal">WARN</code>, <code class="literal">DEBUG</code>,
and so forth) and a time threshold.</p><p>This is an index-level setting, which means it is applied to individual indices:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">PUT /my_index/_settings
{
    "index.search.slowlog.threshold.query.warn" : "10s", <a id="CO314-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
    "index.search.slowlog.threshold.fetch.debug": "500ms", <a id="CO314-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
    "index.indexing.slowlog.threshold.index.info": "5s" <a id="CO314-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
}</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO314-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Emit a <code class="literal">WARN</code> log when queries are slower than 10s.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO314-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Emit a <code class="literal">DEBUG</code> log when fetches are slower than 500ms.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO314-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Emit an <code class="literal">INFO</code> log when indexing takes longer than 5s.
</p></td></tr></table></div><p>You can also define these thresholds in your <code class="literal">elasticsearch.yml</code> file.  Indices
that do not have a threshold set will inherit whatever is configured in the
static config.</p><p>Once the thresholds are set, you can toggle the logging level like any other
logger:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">PUT /_cluster/settings
{
    "transient" : {
        "logger.index.search.slowlog" : "DEBUG", <a id="CO315-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
        "logger.index.indexing.slowlog" : "WARN" <a id="CO315-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
    }
}</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO315-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Set the search slowlog to <code class="literal">DEBUG</code> level.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO315-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Set the indexing slowlog to <code class="literal">WARN</code> level.
</p></td></tr></table></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="indexing-performance"></a>Indexing Performance Tips</h2></div></div></div><p>If you are in an indexing-heavy environment,<a id="id-1.10.5.5.2.1" class="indexterm"></a>
<a id="id-1.10.5.5.2.2" class="indexterm"></a><a id="id-1.10.5.5.2.3" class="indexterm"></a>
<a id="id-1.10.5.5.2.4" class="indexterm"></a> such as indexing infrastructure
logs, you may be willing to sacrifice some search performance for faster indexing
rates.  In these scenarios, searches tend to be relatively rare and performed
by people internal to your organization.  They are willing to wait several
seconds for a search, as opposed to a consumer facing a search that must
return in milliseconds.</p><p>Because of this unique position, certain trade-offs can be made
that will increase your indexing performance.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>These Tips Apply Only to Elasticsearch 1.3+</strong></p></div></div></div><p>This book is written for the most recent versions of Elasticsearch, although much
of the content works on older versions.</p><p>The tips presented in this section, however, are <span class="emphasis"><em>explicitly</em></span> for version 1.3+.  There
have been multiple performance improvements and bugs fixed that directly impact
indexing.  In fact, some of these recommendations will <span class="emphasis"><em>reduce</em></span> performance on
older versions because of the presence of bugs or performance defects.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_test_performance_scientifically"></a>Test Performance Scientifically</h3></div></div></div><p>Performance testing is always difficult, so try to be as scientific as possible
in your approach.<a id="id-1.10.5.5.5.2.1" class="indexterm"></a><a id="id-1.10.5.5.5.2.2" class="indexterm"></a>
<a id="id-1.10.5.5.5.2.3" class="indexterm"></a>
<a id="id-1.10.5.5.5.2.4" class="indexterm"></a>  Randomly fiddling with knobs and turning on ingestion is not
a good way to tune performance.  If there are too many <span class="emphasis"><em>causes</em></span>, it is impossible
to determine which one had the best <span class="emphasis"><em>effect</em></span>. A reasonable approach to testing is as follows:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
Test performance on a single node, with a single shard and no replicas.
</li><li class="listitem">
Record performance under 100% default settings so that you have a baseline to
measure against.
</li><li class="listitem">
Make sure performance tests run for a long time (30+ minutes) so you can
evaluate long-term performance, not short-term spikes or latencies.  Some events
(such as segment merging, and GCs) won’t happen right away, so the performance
profile can change over time.
</li><li class="listitem">
Begin making single changes to the baseline defaults.  Test these rigorously,
and if performance improvement is acceptable, keep the setting and move on to the
next one.
</li></ol></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_using_and_sizing_bulk_requests"></a>Using and Sizing Bulk Requests</h3></div></div></div><p>This should be fairly obvious, but use bulk indexing requests for optimal performance.<a id="id-1.10.5.5.6.2.1" class="indexterm"></a>
<a id="id-1.10.5.5.6.2.2" class="indexterm"></a>
<a id="id-1.10.5.5.6.2.3" class="indexterm"></a><a id="id-1.10.5.5.6.2.4" class="indexterm"></a>
<a id="id-1.10.5.5.6.2.5" class="indexterm"></a>
Bulk sizing is dependent on your data, analysis, and cluster configuration, but
a good starting point is 5–15 MB per bulk.  Note that this is physical size.
Document count is not a good metric for bulk size.  For example, if you are
indexing 1,000 documents per bulk, keep the following in mind:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
1,000 documents at 1 KB each is 1 MB.
</li><li class="listitem">
1,000 documents at 100 KB each is 100 MB.
</li></ul></div><p>Those are drastically different bulk sizes.  Bulks need to be loaded into memory
at the coordinating node, so it is the physical size of the bulk that is more
important than the document count.</p><p>Start with a bulk size around 5–15 MB and slowly increase it until you do not
see performance gains anymore.  Then start increasing the concurrency of your
bulk ingestion (multiple threads, and so forth).</p><p>Monitor your nodes with Marvel and/or tools such as <code class="literal">iostat</code>, <code class="literal">top</code>, and <code class="literal">ps</code> to see
when resources start to bottleneck.  If you start to receive <code class="literal">EsRejectedExecutionException</code>,
your cluster can no longer keep up: at least one resource has reached capacity. Either reduce concurrency, provide more of the limited resource (such as switching from spinning disks to SSDs), or add more nodes.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>When ingesting data, make sure bulk requests are round-robined across all your
data nodes.  Do not send all requests to a single node, since that single node
will need to store all the bulks in memory while processing.</p></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_storage"></a>Storage</h3></div></div></div><p>Disks are usually the bottleneck of any modern server.  Elasticsearch heavily uses disks, and the more throughput your disks can handle, the more stable your nodes will be. Here are some tips for optimizing disk I/O:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Use SSDs.  As mentioned elsewhere, <a id="id-1.10.5.5.7.3.1.1.1" class="indexterm"></a><a id="id-1.10.5.5.7.3.1.1.2" class="indexterm"></a>
<a id="id-1.10.5.5.7.3.1.1.3" class="indexterm"></a>
<a id="id-1.10.5.5.7.3.1.1.4" class="indexterm"></a>they are superior to spinning media.
</li><li class="listitem">
Use RAID 0.  Striped RAID will increase disk I/O, at the obvious expense of
potential failure if a drive dies.  Don’t use mirrored or parity RAIDS since
replicas provide that functionality.
</li><li class="listitem">
Alternatively, use multiple drives and allow Elasticsearch to stripe data across
them via multiple <code class="literal">path.data</code> directories.
</li><li class="listitem">
Do not use remote-mounted storage, such as NFS or SMB/CIFS.  The latency introduced
here is antithetical to performance.
</li><li class="listitem">
If you are on EC2, beware of EBS.  Even the SSD-backed EBS options are often slower
than local instance storage.
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="segments-and-merging"></a>Segments and Merging</h3></div></div></div><p>Segment merging is computationally expensive,<a id="id-1.10.5.5.8.2.1" class="indexterm"></a>
<a id="id-1.10.5.5.8.2.2" class="indexterm"></a>
<a id="id-1.10.5.5.8.2.3" class="indexterm"></a><a id="id-1.10.5.5.8.2.4" class="indexterm"></a><a id="id-1.10.5.5.8.2.5" class="indexterm"></a>
<a id="id-1.10.5.5.8.2.6" class="indexterm"></a> and can eat up a lot of disk I/O.
Merges are scheduled to operate in the background because they can take a long
time to finish, especially large segments.  This is normally fine, because the
rate of large segment merges is relatively rare.</p><p>But sometimes merging falls behind the ingestion rate.  If this happens, Elasticsearch
will automatically throttle indexing requests to a single thread.  This prevents
a <span class="emphasis"><em>segment explosion</em></span> problem, in which hundreds of segments are generated before
they can be merged. Elasticsearch will log <code class="literal">INFO</code>-level messages stating <code class="literal">now
throttling indexing</code> when it detects merging falling behind indexing.</p><p>Elasticsearch defaults here are conservative: you don’t want search performance
to be impacted by background merging.  But sometimes (especially on SSD, or logging
scenarios), the throttle limit is too low.</p><p>The default is 20 MB/s, which is a good setting for spinning disks.  If you have
SSDs, you might consider increasing this to 100–200 MB/s.  Test to see what works
for your system:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">PUT /_cluster/settings
{
    "persistent" : {
        "indices.store.throttle.max_bytes_per_sec" : "100mb"
    }
}</pre></div><p>If you are doing a bulk import and don’t care about search at all, you can disable
merge throttling entirely.  This will allow indexing to run as fast as your
disks will allow:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">PUT /_cluster/settings
{
    "transient" : {
        "indices.store.throttle.type" : "none" <a id="CO316-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
    }
}</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO316-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Setting the throttle type to <code class="literal">none</code> disables merge throttling entirely.  When
you are done importing, set it back to <code class="literal">merge</code> to reenable throttling.
</p></td></tr></table></div><p>If you are using spinning media instead of SSD, you need to add this to your
<code class="literal">elasticsearch.yml</code>:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">index.merge.scheduler.max_thread_count: 1</pre></div><p>Spinning media has a harder time with concurrent I/O, so we need to decrease
the number of threads that can concurrently access the disk per index.  This setting
will allow <code class="literal">max_thread_count + 2</code> threads to operate on the disk at one time,
so a setting of <code class="literal">1</code> will allow three threads.</p><p>For SSDs, you can ignore this setting.  The default is
<code class="literal">Math.min(3, Runtime.getRuntime().availableProcessors() / 2)</code>, which works well
for SSD.</p><p>Finally, you can increase <code class="literal">index.translog.flush_threshold_size</code> from the default
200 MB to something larger, such as 1 GB.  This allows larger segments to accumulate
in the translog before a flush occurs.  By letting larger segments build, you
flush less often, and the larger segments merge less often.  All of this adds up
to less disk I/O overhead and better indexing rates.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_other"></a>Other</h3></div></div></div><p>Finally, there are some other considerations to keep in mind:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
If you don’t need near real-time accuracy on your search results, consider
dropping the <code class="literal">index.refresh_interval</code> of<a id="id-1.10.5.5.9.3.1.1.2" class="indexterm"></a>
<a id="id-1.10.5.5.9.3.1.1.3" class="indexterm"></a>
<a id="id-1.10.5.5.9.3.1.1.4" class="indexterm"></a><a id="id-1.10.5.5.9.3.1.1.5" class="indexterm"></a> each index to <code class="literal">30s</code>.  If you are doing
a large import, you can disable refreshes by setting this value to <code class="literal">-1</code> for the
duration of the import.  Don’t forget to reenable it when you are finished!
</li><li class="listitem"><p class="simpara">
If you are doing a large bulk import, consider disabling replicas by setting
<code class="literal">index.number_of_replicas: 0</code>.<a id="id-1.10.5.5.9.3.2.1.2" class="indexterm"></a>  When documents are replicated, the entire document
is sent to the replica node and the indexing process is repeated verbatim.  This
means each replica will perform the analysis, indexing, and potentially merging
process.
</p><p class="simpara">In contrast, if you index with zero replicas and then enable replicas when ingestion
is finished, the recovery process is essentially a byte-for-byte network transfer.
This is much more efficient than duplicating the indexing process.</p></li><li class="listitem">
If you don’t have a natural ID for each document, use Elasticsearch’s auto-ID
functionality.<a id="id-1.10.5.5.9.3.3.1.1" class="indexterm"></a>
<a id="id-1.10.5.5.9.3.3.1.2" class="indexterm"></a>  It is optimized to avoid version lookups, since the autogenerated
ID is unique.
</li><li class="listitem">
If you are using your own ID, try to pick an ID that is <a class="ulink" href="http://blog.mikemccandless.com/2014/05/choosing-fast-unique-identifier-uuid.html" target="_top">friendly to Lucene</a>. <a id="id-1.10.5.5.9.3.4.1.2" class="indexterm"></a> Examples include zero-padded
sequential IDs, UUID-1, and nanotime; these IDs have consistent, sequential
patterns that compress well.  In contrast, IDs such as UUID-4 are essentially
random, which offer poor compression and slow down Lucene.
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_rolling_restarts"></a>Rolling Restarts</h2></div></div></div><p>There will come a time when you need to perform a rolling restart of your
cluster—keeping the cluster online and operational, but taking nodes offline
one at a time.<a id="id-1.10.5.6.2.1" class="indexterm"></a><a id="id-1.10.5.6.2.2" class="indexterm"></a>
<a id="id-1.10.5.6.2.3" class="indexterm"></a><a id="id-1.10.5.6.2.4" class="indexterm"></a>
<a id="id-1.10.5.6.2.5" class="indexterm"></a></p><p>The common reason is either an Elasticsearch version upgrade, or some kind of
maintenance on the server itself (such as an OS update, or hardware).  Whatever the case,
there is a particular method to perform a rolling restart.</p><p>By nature, Elasticsearch wants your data to be fully replicated and evenly balanced.
If you shut down a single node for maintenance, the cluster will
immediately recognize the loss of a node and begin rebalancing.  This can be irritating
if you know the node maintenance is short term, since the rebalancing of
very large shards can take some time (think of trying to replicate 1TB—even
on fast networks this is nontrivial).</p><p>What we want to do is tell Elasticsearch to hold off on rebalancing, because
we have more knowledge about the state of the cluster due to external factors.
The procedure is as follows:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
If possible, stop indexing new data.  This is not always possible, but will
help speed up recovery time.
</li><li class="listitem"><p class="simpara">
Disable shard allocation.  This prevents Elasticsearch from rebalancing
missing shards until you tell it otherwise.  If you know the maintenance window will be
short, this is a good idea.  You can disable allocation as follows:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">PUT /_cluster/settings
{
    "transient" : {
        "cluster.routing.allocation.enable" : "none"
    }
}</pre></div></li><li class="listitem"><p class="simpara">
Shut down a single node, preferably using the <code class="literal">shutdown</code> API on that particular
machine:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">POST /_cluster/nodes/_local/_shutdown</pre></div></li><li class="listitem">
Perform a maintenance/upgrade.
</li><li class="listitem">
Restart the node, and confirm that it joins the cluster.
</li><li class="listitem"><p class="simpara">
Reenable shard allocation as follows:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">PUT /_cluster/settings
{
    "transient" : {
        "cluster.routing.allocation.enable" : "all"
    }
}</pre></div><p class="simpara">Shard rebalancing may take some time.  Wait until the cluster has returned
to status <code class="literal">green</code> before continuing.</p></li><li class="listitem">
Repeat steps 2 through 6 for the rest of your nodes.
</li><li class="listitem">
At this point you are safe to resume indexing (if you had previously stopped),
but waiting until the cluster is fully balanced before resuming indexing will help
to speed up the process.
</li></ol></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="backing-up-your-cluster"></a>Backing Up Your Cluster</h2></div></div></div><p>As with any software that stores data, it is important to routinely back up your
data. <a id="id-1.10.5.7.2.1" class="indexterm"></a>
<a id="id-1.10.5.7.2.2" class="indexterm"></a><a id="id-1.10.5.7.2.3" class="indexterm"></a>
<a id="id-1.10.5.7.2.4" class="indexterm"></a><a id="id-1.10.5.7.2.5" class="indexterm"></a> Elasticsearch replicas provide high availability during runtime; they allow
you to tolerate sporadic node loss without an interruption of service.</p><p>Replicas do not provide protection from catastrophic failure, however.  For that,
you need a real backup of your cluster—a complete copy in case something goes
wrong.</p><p>To back up your cluster, you can use the <code class="literal">snapshot</code> API.<a id="id-1.10.5.7.4.2" class="indexterm"></a>  This will take the current
state and data in your cluster and save it to a shared repository.  This
backup process is "smart."  Your first snapshot will be a complete copy of data,
but all subsequent snapshots will save the <span class="emphasis"><em>delta</em></span> between the existing
snapshots and the new data.  Data is incrementally added and deleted as you snapshot
data over time.  This means subsequent backups will be substantially
faster since they are transmitting far less data.</p><p>To use this functionality, you must first create a repository to save data.
There are several repository types that you may choose from:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Shared filesystem, such as a NAS
</li><li class="listitem">
Amazon S3
</li><li class="listitem">
HDFS (Hadoop Distributed File System)
</li><li class="listitem">
Azure Cloud
</li></ul></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_creating_the_repository"></a>Creating the Repository</h3></div></div></div><p>Let’s set up a shared <a id="id-1.10.5.7.7.2.1" class="indexterm"></a>
<a id="id-1.10.5.7.7.2.2" class="indexterm"></a><a id="id-1.10.5.7.7.2.3" class="indexterm"></a>filesystem repository:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">PUT _snapshot/my_backup <a id="CO317-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
{
    "type": "fs", <a id="CO317-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
    "settings": {
        "location": "/mount/backups/my_backup" <a id="CO317-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
    }
}</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO317-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
We provide a name for our repository, in this case it is called <code class="literal">my_backup</code>.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO317-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
We specify that the type of the repository should be a shared filesystem.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO317-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
And finally, we provide a mounted drive as the destination.
</p></td></tr></table></div><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>The shared filesystem path must be accessible from all nodes in your
cluster!</p></div></div><p>This will create the repository and required metadata at the mount point.  There
are also some other options that you may want to configure, depending on the
performance profile of your nodes, network, and repository location:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">max_snapshot_bytes_per_sec</code>
</span></dt><dd>
    When snapshotting data into the repo, this controls
the throttling of that process.  The default is <code class="literal">20mb</code> per second.
</dd><dt><span class="term">
<code class="literal">max_restore_bytes_per_sec</code>
</span></dt><dd>
When restoring data from the repo, this controls
how much the restore is throttled so that your network is not saturated.  The
default is <code class="literal">20mb</code> per second.
</dd></dl></div><p>Let’s assume we have a very fast network and are OK with extra traffic, so we
can increase the defaults:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">POST _snapshot/my_backup/ <a id="CO318-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
{
    "type": "fs",
    "settings": {
        "location": "/mount/backups/my_backup",
        "max_snapshot_bytes_per_sec" : "50mb", <a id="CO318-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
        "max_restore_bytes_per_sec" : "50mb"
    }
}</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO318-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Note that we are using a <code class="literal">POST</code> instead of <code class="literal">PUT</code>.  This will update the settings
of the existing repository.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO318-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Then add our new settings.
</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_snapshotting_all_open_indices"></a>Snapshotting All Open Indices</h3></div></div></div><p>A repository can contain multiple snapshots.<a id="id-1.10.5.7.8.2.1" class="indexterm"></a>
<a id="id-1.10.5.7.8.2.2" class="indexterm"></a><a id="id-1.10.5.7.8.2.3" class="indexterm"></a>
<a id="id-1.10.5.7.8.2.4" class="indexterm"></a>  Each snapshot is associated with a
certain set of indices (for example, all indices, some subset, or a single index).  When
creating a snapshot, you specify which indices you are interested in and
give the snapshot a unique name.</p><p>Let’s start with the most basic snapshot command:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">PUT _snapshot/my_backup/snapshot_1</pre></div><p>This will back up all open indices into a snapshot named <code class="literal">snapshot_1</code>, under the
<code class="literal">my_backup</code> repository.  This call will return immediately, and the snapshot will
proceed in the background.</p><div class="tip admon"><div class="icon"><img alt="Tip" src="images/icons/tip.png" /></div><div class="admon_content"><p>Usually you’ll want your snapshots to proceed as a background process, but occasionally
you may want to wait for completion in your script.  This can be accomplished by
adding a <code class="literal">wait_for_completion</code> flag:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">PUT _snapshot/my_backup/snapshot_1?wait_for_completion=true</pre></div><p>This will block the call until the snapshot has completed.  Note that large snapshots
may take a long time to return!</p></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_snapshotting_particular_indices"></a>Snapshotting Particular Indices</h3></div></div></div><p>The default behavior is to back up all open indices.<a id="id-1.10.5.7.9.2.1" class="indexterm"></a>
<a id="id-1.10.5.7.9.2.2" class="indexterm"></a><a id="id-1.10.5.7.9.2.3" class="indexterm"></a>
<a id="id-1.10.5.7.9.2.4" class="indexterm"></a>  But say you are using Marvel,
and don’t really want to back up all the diagnostic <code class="literal">.marvel</code> indices.  You
just don’t have enough space to back up everything.</p><p>In that case, you can specify which indices to back up when snapshotting your cluster:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">PUT _snapshot/my_backup/snapshot_2
{
    "indices": "index_1,index_2"
}</pre></div><p>This snapshot command will now back up only <code class="literal">index1</code> and <code class="literal">index2</code>.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_listing_information_about_snapshots"></a>Listing Information About Snapshots</h3></div></div></div><p>Once you start accumulating snapshots in your repository, you may forget the details<a id="id-1.10.5.7.10.2.1" class="indexterm"></a>
<a id="id-1.10.5.7.10.2.2" class="indexterm"></a>
relating to each—particularly when the snapshots are named based on time
demarcations (for example, <code class="literal">backup_2014_10_28</code>).</p><p>To obtain information about a single snapshot, simply issue a <code class="literal">GET</code> reguest against
the repo and snapshot name:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">GET _snapshot/my_backup/snapshot_2</pre></div><p>This will return a small response with various pieces of information regarding
the snapshot:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">{
   "snapshots": [
      {
         "snapshot": "snapshot_1",
         "indices": [
            ".marvel_2014_28_10",
            "index1",
            "index2"
         ],
         "state": "SUCCESS",
         "start_time": "2014-09-02T13:01:43.115Z",
         "start_time_in_millis": 1409662903115,
         "end_time": "2014-09-02T13:01:43.439Z",
         "end_time_in_millis": 1409662903439,
         "duration_in_millis": 324,
         "failures": [],
         "shards": {
            "total": 10,
            "failed": 0,
            "successful": 10
         }
      }
   ]
}</pre></div><p>For a complete listing of all snapshots in a repository, use the <code class="literal">_all</code> placeholder
instead of a snapshot name:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">GET _snapshot/my_backup/_all</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_deleting_snapshots"></a>Deleting Snapshots</h3></div></div></div><p>Finally, we need a command to delete old snapshots that <a id="id-1.10.5.7.11.2.1" class="indexterm"></a>
<a id="id-1.10.5.7.11.2.2" class="indexterm"></a>are no longer useful.
This is simply a <code class="literal">DELETE</code> HTTP call to the repo/snapshot name:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">DELETE _snapshot/my_backup/snapshot_2</pre></div><p>It is important to use the API to delete snapshots, and not some other mechanism
(such as deleting by hand, or using automated cleanup tools on S3).  Because snapshots are
incremental, it is possible that many snapshots are relying on old segments.
The <code class="literal">delete</code> API understands what data is still in use by more recent snapshots,
and will delete only unused segments.</p><p>If you do a manual file delete, however, you are at risk of seriously corrupting
your backups because you are deleting data that is still in use.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_monitoring_snapshot_progress"></a>Monitoring Snapshot Progress</h3></div></div></div><p>The <code class="literal">wait_for_completion</code> flag provides a rudimentary form of monitoring, but
really isn’t sufficient when snapshotting or restoring even moderately sized clusters.</p><p>Two other APIs will give you more-detailed status about the
state of the snapshotting.  First you can execute a <code class="literal">GET</code> to the snapshot ID,
just as we did earlier get information about a particular snapshot:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">GET _snapshot/my_backup/snapshot_3</pre></div><p>If the snapshot is still in progress when you call this, you’ll see information
about when it was started, how long it has been running, and so forth.  Note, however,
that this API uses the same threadpool as the snapshot mechanism.  If you are
snapshotting very large shards, the time between status updates can be quite large,
since the API is competing for the same threadpool resources.</p><p>A better option is to poll the <code class="literal">_status</code> API:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">GET _snapshot/my_backup/snapshot_3/_status</pre></div><p>The <code class="literal">_status</code> API returns immediately and gives a much more verbose output of
statistics:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">{
   "snapshots": [
      {
         "snapshot": "snapshot_3",
         "repository": "my_backup",
         "state": "IN_PROGRESS", <a id="CO319-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
         "shards_stats": {
            "initializing": 0,
            "started": 1, <a id="CO319-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
            "finalizing": 0,
            "done": 4,
            "failed": 0,
            "total": 5
         },
         "stats": {
            "number_of_files": 5,
            "processed_files": 5,
            "total_size_in_bytes": 1792,
            "processed_size_in_bytes": 1792,
            "start_time_in_millis": 1409663054859,
            "time_in_millis": 64
         },
         "indices": {
            "index_3": {
               "shards_stats": {
                  "initializing": 0,
                  "started": 0,
                  "finalizing": 0,
                  "done": 5,
                  "failed": 0,
                  "total": 5
               },
               "stats": {
                  "number_of_files": 5,
                  "processed_files": 5,
                  "total_size_in_bytes": 1792,
                  "processed_size_in_bytes": 1792,
                  "start_time_in_millis": 1409663054859,
                  "time_in_millis": 64
               },
               "shards": {
                  "0": {
                     "stage": "DONE",
                     "stats": {
                        "number_of_files": 1,
                        "processed_files": 1,
                        "total_size_in_bytes": 514,
                        "processed_size_in_bytes": 514,
                        "start_time_in_millis": 1409663054862,
                        "time_in_millis": 22
                     }
                  },
                  ...</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO319-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
A snapshot that is currently running will show <code class="literal">IN_PROGRESS</code> as its status.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO319-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
This particular snapshot has one shard still transferring (the other four have already completed).
</p></td></tr></table></div><p>The response includes the overall status of the snapshot, but also drills down into
per-index and per-shard statistics.  This gives you an incredibly detailed view
of how the snapshot is progressing.  Shards can be in various states of completion:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">INITIALIZING</code>
</span></dt><dd>
    The shard is checking with the cluster state to see whether it can
be snapshotted.  This is usually very fast.
</dd><dt><span class="term">
<code class="literal">STARTED</code>
</span></dt><dd>
    Data is being transferred to the repository.
</dd><dt><span class="term">
<code class="literal">FINALIZING</code>
</span></dt><dd>
    Data transfer is complete; the shard is now sending snapshot metadata.
</dd><dt><span class="term">
<code class="literal">DONE</code>
</span></dt><dd>
    Snapshot complete!
</dd><dt><span class="term">
<code class="literal">FAILED</code>
</span></dt><dd>
    An error was encountered during the snapshot process, and this shard/index/snapshot
could not be completed.  Check your logs for more information.
</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_canceling_a_snapshot"></a>Canceling a Snapshot</h3></div></div></div><p>Finally, you may want to cancel a snapshot or restore.<a id="id-1.10.5.7.13.2.1" class="indexterm"></a>
<a id="id-1.10.5.7.13.2.2" class="indexterm"></a>  Since these are long-running
processes, a typo or mistake when executing the operation could take a long time to
resolve—and use up valuable resources at the same time.</p><p>To cancel a snapshot, simply delete the snapshot while it is in progress:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">DELETE _snapshot/my_backup/snapshot_3</pre></div><p>This will halt the snapshot process. Then proceed to delete the half-completed
snapshot from the repository.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_restoring_from_a_snapshot"></a>Restoring from a Snapshot</h2></div></div></div><p>Once you’ve backed up some data, restoring it is easy: simply add <code class="literal">_restore</code>
to the ID of<a id="id-1.10.5.8.2.2" class="indexterm"></a>
<a id="id-1.10.5.8.2.3" class="indexterm"></a><a id="id-1.10.5.8.2.4" class="indexterm"></a> the snapshot you wish to restore into your cluster:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">POST _snapshot/my_backup/snapshot_1/_restore</pre></div><p>The default behavior is to restore all indices that exist in that snapshot.
If <code class="literal">snapshot_1</code> contains five indices, all five will be restored into
our cluster. <a id="id-1.10.5.8.4.2" class="indexterm"></a>
<a id="id-1.10.5.8.4.3" class="indexterm"></a> As with the <code class="literal">snapshot</code> API, it is possible to select which indices
we want to restore.</p><p>There are also additional options for renaming indices.  This allows you to
match index names with a pattern, and then provide a new name during the restore process.
This is useful if you want to restore old data to verify its contents, or perform
some other processing, without replacing existing data.  Let’s restore
a single index from the snapshot and provide a replacement name:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">POST /_snapshot/my_backup/snapshot_1/_restore
{
    "indices": "index_1", <a id="CO320-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
    "rename_pattern": "index_(.+)", <a id="CO320-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
    "rename_replacement": "restored_index_$1" <a id="CO320-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
}</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO320-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Restore only the <code class="literal">index_1</code> index, ignoring the rest that are present in the
snapshot.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO320-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Find any indices being restored that match the provided pattern.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO320-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Then rename them with the replacement pattern.
</p></td></tr></table></div><p>This will restore <code class="literal">index_1</code> into your cluster, but rename it to <code class="literal">restored_index_1</code>.</p><div class="tip admon"><div class="icon"><img alt="Tip" src="images/icons/tip.png" /></div><div class="admon_content"><p>Similar to snapshotting, the <code class="literal">restore</code> command will return immediately, and the
restoration process will happen in the background.  If you would prefer your HTTP
call to block until the restore is finished, simply add the <code class="literal">wait_for_completion</code>
flag:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">POST _snapshot/my_backup/snapshot_1/_restore?wait_for_completion=true</pre></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_monitoring_restore_operations"></a>Monitoring Restore Operations</h3></div></div></div><p>The restoration of data from a repository piggybacks on the existing recovery
mechanisms already in place in Elasticsearch.<a id="id-1.10.5.8.10.2.1" class="indexterm"></a>
<a id="id-1.10.5.8.10.2.2" class="indexterm"></a>  Internally, recovering shards
from a repository is identical to recovering from another node.</p><p>If you wish to monitor the progress of a restore, you can use the <code class="literal">recovery</code>
API.  This is a general-purpose API that shows the status of shards moving around
your cluster.</p><p>The API can be invoked for the specific indices that you are recovering:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">GET /_recovery/restored_index_3</pre></div><p>Or for all indices in your cluster, which may include other shards moving around,
unrelated to your restore process:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">GET /_recovery/</pre></div><p>The output will look similar to this (and note, it can become very verbose
depending on the activity of your clsuter!):</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">{
  "restored_index_3" : {
    "shards" : [ {
      "id" : 0,
      "type" : "snapshot", <a id="CO321-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
      "stage" : "index",
      "primary" : true,
      "start_time" : "2014-02-24T12:15:59.716",
      "stop_time" : 0,
      "total_time_in_millis" : 175576,
      "source" : { <a id="CO321-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
        "repository" : "my_backup",
        "snapshot" : "snapshot_3",
        "index" : "restored_index_3"
      },
      "target" : {
        "id" : "ryqJ5lO5S4-lSFbGntkEkg",
        "hostname" : "my.fqdn",
        "ip" : "10.0.1.7",
        "name" : "my_es_node"
      },
      "index" : {
        "files" : {
          "total" : 73,
          "reused" : 0,
          "recovered" : 69,
          "percent" : "94.5%" <a id="CO321-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
        },
        "bytes" : {
          "total" : 79063092,
          "reused" : 0,
          "recovered" : 68891939,
          "percent" : "87.1%"
        },
        "total_time_in_millis" : 0
      },
      "translog" : {
        "recovered" : 0,
        "total_time_in_millis" : 0
      },
      "start" : {
        "check_index_time" : 0,
        "total_time_in_millis" : 0
      }
    } ]
  }
}</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO321-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The <code class="literal">type</code> field tells you the nature of the recovery; this shard is being
recovered from a snapshot.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO321-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The <code class="literal">source</code> hash describes the particular snapshot and repository that is
being recovered from.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO321-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The <code class="literal">percent</code> field gives you an idea about the status of the recovery.
This particular shard has recovered 94% of the files so far; it is almost complete.
</p></td></tr></table></div><p>The output will list all indices currently undergoing a recovery, and then
list all shards in each of those indices.  Each shard will have stats
about start/stop time, duration, recover percentage, bytes transferred, and more.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_canceling_a_restore"></a>Canceling a Restore</h3></div></div></div><p>To cancel a restore, you need to delete the indices being restored.<a id="id-1.10.5.8.11.2.1" class="indexterm"></a>
<a id="id-1.10.5.8.11.2.2" class="indexterm"></a>  Because
a restore process is really just shard recovery, issuing a <code class="literal">delete-index</code> API
alters the cluster state, which will in turn halt recovery.  For example:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">DELETE /restored_index_3</pre></div><p>If <code class="literal">restored_index_3</code> was actively being restored, this delete command would
halt the restoration as well as deleting any data that had already been restored
into the cluster.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_clusters_are_living_breathing_creatures"></a>Clusters Are Living, Breathing Creatures</h2></div></div></div><p>Once you get a cluster into production, you’ll find that it takes on a life of its
own.  <a id="id-1.10.5.9.2.1" class="indexterm"></a>
<a id="id-1.10.5.9.2.2" class="indexterm"></a><a id="id-1.10.5.9.2.3" class="indexterm"></a>
<a id="id-1.10.5.9.2.4" class="indexterm"></a>Elasticsearch works hard to make clusters self-sufficient and <span class="emphasis"><em>just work</em></span>.
But a cluster still requires routine care and feeding, such as routine backups
and upgrades.</p><p>Elasticsearch releases new versions with bug fixes and performance enhancements at
a very fast pace, and it is always a good idea to keep your cluster current.
Similarly, Lucene continues to find new and exciting bugs in the JVM itself, which
means you should always try to keep your JVM up-to-date.</p><p>This means it is a good idea to have a standardized, routine way to perform rolling
restarts and upgrades in your cluster.  Upgrading should be a routine process,
rather than a once-yearly fiasco that requires countless hours of precise planning.</p><p>Similarly, it is important to have disaster recovery plans in place.  Take frequent
snapshots of your cluster—and periodically <span class="emphasis"><em>test</em></span> those snapshots by performing
a real recovery!  It is all too common for organizations to make routine backups but
never test their recovery strategy.  Often you’ll find a glaring deficiency
the first time you perform a real recovery (such as users being unaware of which
drive to mount).  It’s better to work these bugs out of your process with
routine testing, rather than at 3 a.m. when there is a crisis.</p></div></div><div class="navfooter"><span class="prev"><a href="deploy.html">
              « 
              제품의 배포</a>
           
        </span><span class="next">
           
          </span></div>
<!-- end body -->

            </section>

            <div id="rtpcontainer"
        >
	<h3>Top Videos</h3>
	<ul class="lists">
		<li><a href="https://www.elastic.co/webinars/get-started-with-elasticsearch/?baymax=default&elektra=docs&storm=top-video">Getting Started</a></li>
		<li><a href="http://www.elastic.co/webinars/elasticsearch-performance-optimization-tale-two-tickets/?elektra=docs">Scaling</a></li>
		<li><a href="http://www.elastic.co/webinars/shield-securing-your-data-in-elasticsearch/?elektra=docs">Security</a></li>
	</ul>
</div>


	  	




<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
	<!-- subscribe-newsletter -->
	<div id="subscribe-newsletter">
		<div class="container">
			<div class="row">
				<div class="12u">
					<div class="subscribe-wrapper" id="rtp-newsletter">
						<header>
							<h3>Subscribe to our newsletter</h3>
						</header>
						<div class="subscribe-form">
							<form id="mktoForm_1398" class="container"></form>
							<div class="form_thanks hide">
								
									<p>Thanks for subscribing! We'll keep you updated with new releases.</p>
								
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

  	<!-- Footer -->
	<div id="footer-wrapper">
		<section id="footer" class="container">
			<div class="row">
				<div class="12u">
					<!-- Copyright -->
					<div id="copyright">
	<p>
		© 2016. All Rights Reserved - Elasticsearch
	</p>
	<ul class="links">
		<li>Elasticsearch is a trademark of Elasticsearch BV, registered in the U.S. and in other countries</li>
		<li><a href="/legal/trademarks" id="footer_trademarks">Trademarks</a></li>
		<li><a href="/legal/terms-of-use" id="footer_terms">Terms</a></li>
		<li><a href="/legal/privacy-policy" id="footer_privacy">Privacy</a></li>
	</ul>
	<p>
		Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the <a href="http://www.apache.org/" target="_blank">Apache Software Foundation</a> in the United States and/or other&nbsp;countries.
	</p>
</div><!--<div class="row">
{replace4}
</div>-->
				</div>
			</div>					
		</section>
	</div>
			
	<!-- Social Media -->
	<div id="socialmedia-wrapper">
		<section id="socialmedia" class="container">
			<!-- social icons -->
			<div id="social">
				<ul class="links">
					
						<li class="facebook grayscale"><a href="http://www.facebook.com/elastic.co" target="_blank" id="footer_facebook"></a></li>
					
						<li class="twitter grayscale"><a href="https://www.twitter.com/elastic" target="_blank" id="footer_twitter"></a></li>
					
						<li class="linkedin grayscale"><a href="https://www.linkedin.com/company/elastic-co" target="_blank" id="footer_linkedin"></a></li>
					
						<li class="xing grayscale"><a href="https://www.xing.com/companies/elastic.co" target="_blank" id="footer_xing"></a></li>
					
						<li class="youtube grayscale"><a href="https://www.youtube.com/user/elasticsearch" target="_blank" id="footer_youtube"></a></li>
					
				</ul>
			</div>
		</section>
	</div>


<style type="text/css">
	
		.facebook{background:url("https://static-www.elastic.co/assets/bltda40eebd7c7cae9a/facebook.svg?q=100") no-repeat;}		
	
		.twitter{background:url("https://static-www.elastic.co/assets/bltfd3b1511512f4632/twitter.svg?q=100") no-repeat;}		
	
		.linkedin{background:url("https://static-www.elastic.co/assets/blt6b4f6f8d6b96f814/linkedin.svg?q=100") no-repeat;}		
	
		.xing{background:url("https://static-www.elastic.co/assets/blta76b2ae2b2f10a98/xing.svg?q=100") no-repeat;}		
	
		.youtube{background:url("https://static-www.elastic.co/assets/blt5761648c9581fb53/youtube.svg?q=100") no-repeat;}		
	
</style>

<script>
MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", 1398,function(form){
	form.onSuccess(function(form){
		$('#mktoForm_1398').css('display','none');
		$('#subscribe-newsletter header').hide();
		$('#mktoForm_1398').siblings('.form_thanks').removeClass('hide')
		dataLayer.push({'event': 'mktoFormSubmit'});
	    return false;
  	});
});
</script>	

  	</div>
  	<!-- <div class="preloader">
    	<div class="status"></div>
	</div> -->
  	<style></style>
   	<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";	
</script>
<script src="https://static-www.elastic.co/static/js/jquery.autocomplete.js?q=100"></script>
<script src="https://static-www.elastic.co/static/js/script.js?q=100"></script>


   	
   	
   	
   	<script type="application/ld+json">
	
		
	
	{
	  	"@context": "http://schema.org",
	  	"@type": "Organization",
	  	"name" : "Elastic",
	  	"url": "https://www.elastic.co/",
	  	"logo": "https://www.elastic.co/static/img/elastic-logo-200.png",
		"sameAs" : [ "https://www.facebook.com/elastic.co",
			"https://twitter.com/elastic",
			"https://plus.google.com/105178019064686397293",
			"https://www.youtube.com/user/elasticsearch",
			"https://www.linkedin.com/company/elasticsearch"
		],
	  	"potentialAction": {
	    	"@type": "SearchAction",
	    	"target": "https://www.elastic.co/search?q={query_string}",
	    	"query-input": "required name=query_string"
	  	}
	}
</script>	

            <script type="text/javascript" src="docs.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script type='text/javascript' src='https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js'></script>

            </body>
        



<!DOCTYPE HTML>
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Reducing Words to Their Root Form</title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch: The Definitive Guide" /><link rel="up" href="languages.html" title="인간의 언어를 다루어보자" /><link rel="prev" href="token-normalization.html" title="Normalizing Tokens" /><link rel="next" href="stopwords.html" title="Stopwords: Performance Versus Precision" />
  
 	<meta http-equiv="content-type" content="text/html; charset=utf-8" />

 	<!-- RTP tag --> 
	<script type='text/javascript' async>
	(function(c,h,a,f,i,e){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
	 c[a].a=i;c[a].e=e;var g=h.createElement("script");g.async=true;g.type="text/javascript";
	 g.src=f+'?aid='+i;var b=h.getElementsByTagName("script")[0];b.parentNode.insertBefore(g,b);
	 })(window,document,"rtp","//sjrtp2-cdn.marketo.com/rtp-api/v1/rtp.js","elasticco");
	 
	rtp('send','view');
	rtp('get', 'campaign',true);
	</script>
	<!-- End of RTP tag -->
	
	
 	<link rel="apple-touch-icon" sizes="57x57"  href="https://www.elastic.co/apple-icon-57x57.png?change=123">
<link rel="apple-touch-icon" sizes="60x60"  href="https://www.elastic.co/apple-icon-60x60.png?change=123">
<link rel="apple-touch-icon" sizes="72x72"  href="https://www.elastic.co/apple-icon-72x72.png?change=123">
<link rel="apple-touch-icon" sizes="76x76"  href="https://www.elastic.co/apple-icon-76x76.png?change=123">
<link rel="apple-touch-icon" sizes="114x114"  href="https://www.elastic.co/apple-icon-114x114.png?change=123">
<link rel="apple-touch-icon" sizes="120x120"  href="https://www.elastic.co/apple-icon-120x120.png?change=123">
<link rel="apple-touch-icon" sizes="144x144"  href="https://www.elastic.co/apple-icon-144x144.png?change=123">
<link rel="apple-touch-icon" sizes="152x152"  href="https://www.elastic.co/apple-icon-152x152.png?change=123">
<link rel="apple-touch-icon" sizes="180x180"  href="https://www.elastic.co/apple-icon-180x180.png?change=123">
<link rel="icon" type="image/png" sizes="192x192"   href="https://www.elastic.co/android-icon-192x192.png?change=123">
<link rel="icon" type="image/png" sizes="32x32"  href="https://www.elastic.co/favicon-32x32.png?change=123">
<link rel="icon" type="image/png" sizes="96x96"  href="https://www.elastic.co/favicon-96x96.png?change=123">
<link rel="icon" type="image/png" sizes="16x16"  href="https://www.elastic.co/favicon-16x16.png?change=123">
<link rel="manifest"  href="https://www.elastic.co/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

<!-- DC tags section -->
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
<link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >
<meta name="DC.title" content="Guide template" >

<!-- end DC tags -->

	<meta name="description" content="" />

	<link rel="canonical" href="" />

	<meta property="og:image" content="https://www.elastic.co/static/img/elastic-logo-200.png" />
	


	
	<link type="text/css" rel="stylesheet" href="https://static-www.elastic.co/static/css/skel.css?q=100" />
	<link type="text/css" rel="stylesheet" href="https://static-www.elastic.co/static/css/style.css?q=100" />	
	<script src="https://static-www.elastic.co/static/js/skel.min.js?q=100"></script>
	
		<script type="text/javascript">form_name = "" ; cdn_url="https://static-www.elastic.co";cdn_slug = "100"</script>
	
	<script src="https://static-www.elastic.co/static/js/init.js?q=100"></script>
	<script src="https://static-www.elastic.co/static/js/jquery.min.js?q=100"></script>
	<script src="https://static-www.elastic.co/static/js/jquery.cookie.js?q=100"></script>
	<!--<script type="text/javascript">
	    (function() {
	        var path = '//easy.myfonts.net/v2/js?sid=10336(font-family=Avenir+35+Light)&sid=10338(font-family=Avenir+55+Roman)&sid=10340(font-family=Avenir+85+Heavy)&sid=10344(font-family=Avenir+65+Medium)&key=nAD6PCOPrX',
	            protocol = ('https:' == document.location.protocol ? 'https:' : 'http:'),
	            trial = document.createElement('script');
	        trial.type = 'text/javascript';
	        trial.async = true;
	        trial.src = protocol + path;
	        var head = document.getElementsByTagName("head")[0];
	        head.appendChild(trial);
	    })();
	</script>-->

	
	<link type="text/css" rel="stylesheet"  href="https://www.elastic.co/static/css/prettify.css" />
	<script type="text/javascript"  src="https://www.elastic.co/static/js/prettify.js"></script>



<link rel="stylesheet" type="text/css" href="styles.css" />

</head>
<body >
	<!-- Google Tag Manager -->
	<script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5"
													  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-58RLH5');</script>
	<!-- End Google Tag Manager -->
	
	<div class="header-cont">
		<div id="header-wrapper">
			


	<script  src="https://www.elastic.co/static/js/jquery.tokeninput.js?change=123"></script>
	<link rel="stylesheet" type="text/css"  href="https://www.elastic.co/static/css/token-input.css">

<div class="shortcuts-wrapper">
	<div class="container">
		<!-- Shortcuts -->
		<nav id="shortcuts">
			<ul class="links">
				
					<li class="shortcut-1">
						<a href="/downloads" id="header_downloads" >
							<span class="txt">downloads</span>	
						</a>
					</li>
				
					<li class="shortcut-2">
						<a href="/guide" id="header_guide" >
							<span class="txt">docs</span>	
						</a>
					</li>
				
					<li class="shortcut-3">
						<a href="/subscriptions" id="header_subscriptions" >
							<span class="txt">support</span>	
						</a>
					</li>
				
					<li class="shortcut-4">
						<a href="https://discuss.elastic.co" id="header_discuss" target="_blank">
							<span class="txt">discuss</span>	
						</a>
					</li>
				
					<li class="shortcut-5">
						<a href="/contact" id="header_contact" >
							<span class="txt">contact</span>	
						</a>
					</li>
				
			</ul>
		</nav>
		<div class="languages-wrapper">
			<div class="global-language">
				<ul class="language">
					<!-- <li class="active-language"><a class="active" href="#">EN</a></li> -->
					
						<li><a href="#">EN</a></li>
					
				</ul>
				<ul class="all-languages">
					
						
						<li><a href="/guide_template">English</a></li>
					
						
						<li><a href="/fr/guide_template">French</a></li>
					
						
						<li><a href="/de/guide_template">German</a></li>
					
						
						<li><a href="/jp/guide_template">Japanese</a></li>
					
						
						<li><a href="/kr/guide_template">Korean</a></li>
					
				</ul>
			</div>
		</div>
	</div>
</div>
<div class="container w100">
	<div class="row 0%">
		<div class="12u">
			

<section class="first-container desktop-main-nav">
	<div class="row 0%">
		<div class="11u 6u(small) 6u(xsmall)">
			<div id="elastic">
				<h1>
					<a href="/">
						<div id="elastic-logo">
						<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 400 130" preserveAspectRatio="xMinYMin meet" enable-background="new 0 0 400 130" xml:space="preserve">
    <g>
    	<g>
    		<path fill="#FFFFFF" d="M122.5,67.8c0-10.3-6.4-19.2-15.9-22.7c0.4-2.2,0.6-4.3,0.6-6.6c0-19.1-15.5-34.6-34.6-34.6
    			c-11.1,0-21.5,5.3-28,14.4c-3.2-2.5-7.1-3.8-11.2-3.8c-10.1,0-18.4,8.2-18.4,18.4c0,2.2,0.4,4.4,1.1,6.4C6.5,42.6,0,51.8,0,62
    			c0,10.3,6.4,19.3,16,22.8c-0.4,2.1-0.6,4.3-0.6,6.6c0,19,15.5,34.5,34.5,34.5c11.2,0,21.5-5.4,28-14.4c3.2,2.5,7.2,3.9,11.3,3.9
    			c10.1,0,18.4-8.2,18.4-18.4c0-2.2-0.4-4.4-1.1-6.4C115.9,87.2,122.5,78,122.5,67.8z"/>
    		<g>
    			<path fill="#F4BD19" d="M47.9,56.3l27.3,12.5l27.6-24.2c0.4-2,0.6-4,0.6-6.1c0-17-13.8-30.8-30.8-30.8c-10.2,0-19.7,5-25.4,13.4
    				l-4.6,23.8L47.9,56.3z"/>
    		</g>
    		<g>
    			<path fill="#3CBEB1" d="M19.6,85.2c-0.4,2-0.6,4.1-0.6,6.2c0,17,13.9,30.9,30.9,30.9c10.3,0,19.8-5.1,25.6-13.5L80,85l-6.1-11.6
    				L46.5,60.9L19.6,85.2z"/>
    		</g>
    		<g>
    			<path fill="#E9478C" d="M19.4,37.9l18.7,4.4L42.3,21c-2.6-2-5.7-3-9-3c-8.1,0-14.8,6.6-14.8,14.8C18.5,34.5,18.8,36.3,19.4,37.9z
    				"/>
    		</g>
    		<g>
    			<path fill="#2C458F" d="M17.8,42.4C9.4,45.1,3.6,53.2,3.6,62c0,8.6,5.3,16.3,13.3,19.3l26.3-23.8l-4.8-10.3L17.8,42.4z"/>
    		</g>
    		<g>
    			<path fill="#95C63D" d="M80.3,108.7c2.6,2,5.7,3.1,8.9,3.1c8.1,0,14.8-6.6,14.8-14.8c0-1.8-0.3-3.5-0.9-5.1l-18.7-4.4L80.3,108.7
    				z"/>
    		</g>
    		<g>
    			<path fill="#176655" d="M84.1,82.6l20.6,4.8c8.4-2.8,14.2-10.8,14.2-19.6c0-8.6-5.3-16.2-13.3-19.3l-27,23.6L84.1,82.6z"/>
    		</g>
    	</g>
    	<path d="M162.8,76.3c0,0.1,0,0.6,0.1,1.4c0.1,0.8,0.3,1.8,0.6,3c0.3,1.1,0.8,2.4,1.4,3.7c0.6,1.3,1.4,2.5,2.5,3.6
    		c1,1.1,2.3,2,3.8,2.7c1.5,0.7,3.4,1.1,5.6,1.1c1.8,0,3.3-0.1,4.6-0.4c1.3-0.3,2.4-0.7,3.4-1.3c1-0.6,1.9-1.3,2.7-2.2
    		c0.8-0.9,1.6-1.9,2.4-3.1c0.5-0.7,1-1.2,1.6-1.5c0.6-0.3,1.2-0.4,1.8-0.4c1,0,2,0.4,2.8,1.1c0.9,0.7,1.3,1.7,1.3,2.8
    		c0,0.7-0.4,1.7-1.1,3.1c-0.7,1.4-1.9,2.8-3.6,4.1c-1.6,1.4-3.7,2.6-6.3,3.6c-2.6,1-5.7,1.5-9.5,1.5c-3.8,0-7.2-0.7-10.2-2.1
    		c-3-1.4-5.5-3.2-7.5-5.6c-2-2.3-3.6-5-4.7-8.1c-1.1-3.1-1.6-6.3-1.6-9.7c0-3.5,0.5-6.8,1.6-9.9c1.1-3.1,2.7-5.8,4.7-8.1
    		c2-2.3,4.5-4.1,7.4-5.5c2.9-1.3,6.1-2,9.6-2c3.3,0,6.3,0.5,9.2,1.5c2.8,1,5.3,2.4,7.4,4.3c2.1,1.9,3.7,4.1,5,6.8
    		c1.2,2.7,1.8,5.8,1.8,9.2c0,2.1-0.5,3.7-1.6,4.8c-1,1.1-2.2,1.6-3.6,1.6H162.8z M170.9,56.4c-1.5,0.6-2.7,1.4-3.7,2.4
    		c-1,0.9-1.8,2-2.4,3.1c-0.6,1.1-1,2.2-1.3,3.2c-0.3,1-0.5,1.8-0.5,2.5c-0.1,0.7-0.1,1.1-0.1,1.2h27.9c0-1.8-0.3-3.5-0.9-5.1
    		c-0.6-1.6-1.5-3-2.6-4.3c-1.2-1.2-2.7-2.2-4.5-3c-1.8-0.7-4-1.1-6.5-1.1C174.2,55.5,172.4,55.8,170.9,56.4z"/>
    	<path d="M214.3,94.6c0,1.3-0.4,2.3-1.3,3.2c-0.9,0.9-1.9,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2V35.1
    		c0-1.3,0.4-2.3,1.3-3.2c0.9-0.9,2-1.3,3.2-1.3c1.3,0,2.3,0.4,3.2,1.3c0.9,0.9,1.3,1.9,1.3,3.2V94.6z"/>
    	<path d="M229.8,63.5c-0.6,0.3-1.2,0.5-1.9,0.5c-1.2,0-2.2-0.4-3.2-1.1c-1-0.7-1.5-1.8-1.5-3.1c0-0.5,0.1-1.1,0.4-1.9
    		c0.5-1.2,1.2-2.4,2.1-3.6c0.9-1.2,2-2.2,3.5-3.1s3.3-1.7,5.4-2.2c2.2-0.5,4.8-0.8,7.9-0.8c5.9,0,10.5,1.2,14,3.5
    		c3.5,2.3,5.2,5.8,5.2,10.3v32.8c0,1.3-0.4,2.3-1.3,3.2c-0.9,0.9-1.9,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2v-2
    		c-1.2,2-4.7,4.5-7.5,5.3c-2.8,0.8-5.7,1.2-8.8,1.2c-2,0-3.9-0.3-5.9-0.8c-2-0.5-3.8-1.4-5.3-2.5c-1.6-1.1-2.9-2.6-3.8-4.3
    		c-1-1.7-1.5-3.8-1.5-6.2c0-2.8,0.5-5.7,1.6-7.5c1.1-1.9,2.6-3.4,4.4-4.6c1.8-1.2,3.9-2.1,6.3-2.8c2.4-0.6,4.9-1.1,7.5-1.4
    		c3-0.3,5.4-0.7,7.2-1.2c1.7-0.4,3-0.9,3.9-1.5c0.9-0.6,1.4-1.2,1.6-2c0.2-0.7,0.3-1.6,0.3-2.5c0-1.1-0.3-2-0.9-2.8
    		c-0.6-0.8-1.4-1.5-2.4-2c-1-0.5-2.1-0.9-3.3-1.2s-2.4-0.4-3.5-0.4c-2.1,0-3.7,0.2-5,0.5c-1.3,0.3-2.3,0.8-3.1,1.4
    		c-0.8,0.6-1.5,1.3-1.9,2.1c-0.5,0.8-0.9,1.6-1.3,2.5C230.9,62.6,230.4,63.1,229.8,63.5z M250.6,74.4c-1.1,0.3-2.4,0.6-3.8,0.8
    		c-1.5,0.2-3,0.4-4.6,0.6c-1.6,0.2-3.1,0.5-4.6,0.9c-1.5,0.3-2.8,0.8-4,1.5c-1.2,0.7-2.2,1.5-2.9,2.5c-0.7,1-1.1,3-1.1,4.6
    		c0,1.3,0.3,2.3,0.8,3.1c0.5,0.8,1.2,1.5,2.1,2c0.9,0.5,1.8,0.8,2.9,1c1.1,0.2,2.2,0.3,3.3,0.3c1.7,0,3.3-0.2,5-0.6
    		c1.7-0.4,3.2-1,4.5-1.9s2.4-2,3.3-3.5c0.8-1.4,1.2-3.8,1.2-5.9v-6.1L250.6,74.4z"/>
    	<path d="M307.6,90.9c-1.1,2-2.7,3.6-4.6,4.8s-4.1,2.1-6.6,2.7c-2.5,0.5-5.2,0.8-7.9,0.8c-3.9,0-7.2-0.6-9.9-1.8
    		c-2.7-1.2-4.9-2.6-6.5-4.1c-1.7-1.6-2.9-3.1-3.7-4.7c-0.7-1.6-1.1-2.7-1.1-3.5c0-1.3,0.5-2.4,1.4-3.2c0.9-0.8,2-1.2,3.1-1.2
    		c0.7,0,1.3,0.2,2,0.6c0.6,0.4,1.1,1,1.5,1.9c1,2.5,2.5,4.5,4.7,6.2c2.2,1.7,5.2,2.5,9.3,2.5c1.8,0,3.4-0.2,4.7-0.6
    		c1.3-0.4,2.4-1,3.2-1.7c0.8-0.7,1.4-1.5,1.9-2.4c0.4-0.9,0.6-1.8,0.6-2.8c0-2-0.8-3.4-2.3-4.4c-1.5-1-3.5-1.7-5.8-2.3
    		c-2.3-0.6-4.8-1.1-7.5-1.6c-2.7-0.5-5.2-1.2-7.5-2.2c-2.3-0.9-4.2-2.3-5.8-4c-1.6-1.8-2.3-4.2-2.3-7.3c0-4.5,1.6-8,4.9-10.5
    		c3.3-2.5,7.8-3.8,13.7-3.8c3.3,0,6,0.3,8.3,1c2.2,0.7,4.1,1.6,5.5,2.7c0.6,0.5,1.2,1,1.8,1.7c0.6,0.7,1.2,1.4,1.8,2.2
    		c0.6,0.8,1,1.5,1.4,2.3c0.4,0.7,0.6,1.4,0.6,2c0,1.3-0.5,2.4-1.6,3.1c-1,0.8-2.2,1.2-3.4,1.2c-0.7,0-1.5-0.1-2.1-0.6
    		c-0.6-0.6-1-1.3-1.3-1.8c-0.5-1.1-1.1-2-1.7-2.8c-0.5-0.8-1.2-1.5-2-2c-0.8-0.5-1.8-0.9-3-1.2c-1.2-0.3-2.7-0.4-4.4-0.4
    		c-3.5,0-6,0.6-7.6,1.7c-1.6,1.1-2.4,2.5-2.4,4.2c0,1.3,0.5,2.3,1.4,3.1c0.9,0.8,2.1,1.4,3.7,2c1.5,0.5,3.3,1,5.2,1.4
    		c2,0.4,3.9,0.8,5.9,1.3c2,0.5,4,1.1,5.9,1.7c1.9,0.7,3.7,1.6,5.2,2.7c1.5,1.1,2.7,2.5,3.7,4.1c0.9,1.6,1.4,3.6,1.4,6
    		C309.4,86.4,308.8,88.9,307.6,90.9z"/>
    	<path d="M327.4,48.8h4.7c1.1,0,2,0.4,2.8,1.2c0.8,0.8,1.2,1.7,1.2,2.8c0,1.1-0.4,2.1-1.2,2.8s-1.7,1.1-2.8,1.1h-4.7v37.9
    		c0,1.3-0.4,2.3-1.3,3.2c-0.9,0.9-2,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2V56.7h-4.6c-1.1,0-2-0.4-2.8-1.1
    		c-0.8-0.7-1.2-1.7-1.2-2.8c0-1.1,0.4-2,1.2-2.8c0.8-0.8,1.7-1.2,2.8-1.2h4.6V39c0-1.3,0.4-2.3,1.3-3.2s1.9-1.3,3.2-1.3
    		c1.3,0,2.3,0.4,3.2,1.3s1.3,1.9,1.3,3.2V48.8z"/>
    	<path d="M341.5,32.1c1-1,2.2-1.5,3.7-1.5c1.4,0,2.6,0.5,3.6,1.5c1,1,1.5,2.2,1.5,3.6c0,1.4-0.5,2.6-1.5,3.6c-1,1-2.2,1.5-3.6,1.5
    		c-1.4,0-2.7-0.5-3.7-1.5c-1-1-1.5-2.2-1.5-3.6C340,34.2,340.5,33,341.5,32.1z M349.6,94.6c0,1.3-0.4,2.3-1.3,3.2
    		c-0.9,0.9-1.9,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2V53.3c0-1.3,0.4-2.3,1.3-3.2c0.9-0.9,2-1.3,3.2-1.3
    		c1.3,0,2.3,0.4,3.2,1.3c0.9,0.9,1.3,2,1.3,3.2V94.6z"/>
    	<path d="M369.1,97.3c-2.9-1.2-5.4-3-7.5-5.2c-2.1-2.2-3.8-4.9-5-8.1c-1.2-3.1-1.8-6.6-1.8-10.4c0-3.8,0.6-7.3,1.8-10.5
    		c1.2-3.1,2.9-5.8,5-8.1c2.1-2.2,4.6-4,7.5-5.2c2.9-1.2,6-1.9,9.4-1.9c3.4,0,6.4,0.5,9,1.5c2.5,1,4.6,2.2,6.2,3.6
    		c1.6,1.4,3.2,2.9,4,4.4c0.5,0.9,0.9,1.5,0.9,2.6c0,1.3-0.5,2.3-1.4,3.1c-0.9,0.7-2,1.1-3.1,1.1c-0.8,0-1.6-0.2-2.2-0.6
    		c-0.7-0.4-1.2-1.3-1.8-2.1c-1-1.4-0.5-0.6-1.1-1.5c-0.7-0.9-1.5-1.6-2.5-2.3c-1-0.7-2.2-1.2-3.5-1.6c-1.4-0.4-2.8-0.6-4.4-0.6
    		c-1.8,0-3.5,0.3-5.3,1c-1.8,0.7-3.3,1.7-4.7,3.1c-1.4,1.4-2.5,3.3-3.4,5.6s-1.3,5.1-1.3,8.4c0,3.3,0.4,6.1,1.3,8.4s2,4.2,3.4,5.6
    		c1.4,1.4,3,2.5,4.7,3.1c1.8,0.7,3.5,1,5.3,1c1.6,0,3.1-0.2,4.4-0.6c1.3-0.4,2.5-0.9,3.5-1.6c1-0.7,1.8-1.5,2.5-2.3
    		c0.7-0.9,1.1-1.8,1.4-2.7c0.3-1,0.8-1.7,1.5-2.1c0.7-0.4,1.4-0.6,2.2-0.6c1.1,0,2.2,0.4,3.1,1.1c0.9,0.7,1.4,1.7,1.4,3
    		c0,0.6-0.3,1.7-0.9,3.1c-0.6,1.5-1.6,2.9-3.1,4.4c-1.5,1.5-3.5,2.8-6.2,4c-2.6,1.1-6,1.7-10,1.7C375.1,99.2,372,98.5,369.1,97.3z"
    		/>
    </g>
</svg>
						</div>
					</a>
				</h1>
			</div>
			<nav id="nav">
				<ul>
					
					<li>
						
							
						
						<a href="/products" id="nav_products"   >Products</a>
						
						<ul class="dropdown">
							
								<li><a href="/products/elasticsearch" id="nav_elasticsearch" >elasticsearch</a></li>								
							
								<li><a href="/found" id="nav_hosted-elasticsearch" >elasticsearch as a service</a></li>								
							
								<li><a href="/products/logstash" id="nav_logstash" >logstash</a></li>								
							
								<li><a href="/products/kibana" id="nav_kibana" >kibana</a></li>								
							
								<li><a href="/products/beats" id="nav_beats" >beats</a></li>								
							
								<li><a href="/products/watcher" id="nav_watcher" >watcher</a></li>								
							
								<li><a href="/products/shield" id="nav_shield" >shield</a></li>								
							
								<li><a href="/products/marvel" id="nav_marvel" >marvel</a></li>								
							
								<li><a href="/products/hadoop" id="nav_hadoop" >hadoop</a></li>								
							
								<li><a href="/downloads" id="nav_downloads" >downloads</a></li>								
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/subscriptions" id="nav_subscriptions"   >Subscriptions</a>
						
						<ul class="dropdown">
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/learn" id="nav_learn"   >Learn</a>
						
						<ul class="dropdown">
							
								<li><a href="/guide" id="nav_guide" >docs</a></li>								
							
								<li><a href="/videos" id="nav_videos" >videos</a></li>								
							
								<li><a href="/training" id="nav_training" >training</a></li>								
							
								<li><a href="/services" id="nav_services" >services</a></li>								
							
								<li><a href="/blog" id="nav_learn_blog" >blog</a></li>								
							
								<li><a href="/elasticon" id="nav_learn_elasticon" >elastic{ON}</a></li>								
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/community" id="nav_community"   >Community</a>
						
						<ul class="dropdown">
							
								<li><a href="/community/meetups" id="nav_meetups" >meetups</a></li>								
							
								<li><a href="https://discuss.elastic.co" id="nav_discuss" target="_blank">discuss</a></li>								
							
								<li><a href="/community/codeofconduct" id="nav_codeofconduct" >code of conduct</a></li>								
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/use-cases" id="nav_usecases"   >Use Cases</a>
						
						<ul class="dropdown">
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/blog" id="nav_blog"   >Blog</a>
						
						<ul class="dropdown">
							
								<li><a href="/blog/category/news" id="blog_news" >News</a></li>								
							
								<li><a href="/blog/category/engineering" id="blog_engineering" >Engineering</a></li>								
							
								<li><a href="/blog/category/user-stories" id="blog_user-stories" >User Stories</a></li>								
							
								<li><a href="/blog/category/releases" id="blog_releases" >Releases</a></li>								
							
								<li><a href="/blog/archive" id="blog_archive" >Archive</a></li>								
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/about" id="nav_about"   >About</a>
						
						<ul class="dropdown">
							
								<li><a href="/about/leadership" id="nav_leadership" >leadership</a></li>								
							
								<li><a href="/about/board" id="nav_board" >board of directors</a></li>								
							
								<li><a href="/about/careers" id="nav_careers" >careers</a></li>								
							
								<li><a href="/about/partners" id="nav_partners" >partners</a></li>								
							
								<li><a href="/about/press" id="nav_press" >press</a></li>								
								
						</ul>							
					</li>
					
				</ul>
			</nav>			
			<!-- Searchbar Input box -->
			 <!-- <form method="get" action="/search" name="searchForm" class="header-search-form" id="searchMobileFrm">
			   <input type="text" id="search-header-autocomplete" name="q" class="form-control global-input" placeholder="elastic{search}">
			</form>
			<div class="mobile-auto-complete"></div> -->  
		</div>
		<div class="1u 6u(small) 6u(xsmall)">
			<div id="searchbar">
				<a href="#" class="button icon"></a>
			</div>
			<!-- <div class="nav-auto-complete"></div> -->
		</div>
	</div>
</section>
<div class="mobile-menu-wrapper">
	<div class="row 0%">
		<div class="8u 6u(small) 6u(xsmall)">
			<div id="elastic">
				<h1>
					<a href="/">
						<div id="elastic-logo">
						<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 400 130" preserveAspectRatio="xMinYMin meet" enable-background="new 0 0 400 130" xml:space="preserve">
    <g>
    	<g>
    		<path fill="#FFFFFF" d="M122.5,67.8c0-10.3-6.4-19.2-15.9-22.7c0.4-2.2,0.6-4.3,0.6-6.6c0-19.1-15.5-34.6-34.6-34.6
    			c-11.1,0-21.5,5.3-28,14.4c-3.2-2.5-7.1-3.8-11.2-3.8c-10.1,0-18.4,8.2-18.4,18.4c0,2.2,0.4,4.4,1.1,6.4C6.5,42.6,0,51.8,0,62
    			c0,10.3,6.4,19.3,16,22.8c-0.4,2.1-0.6,4.3-0.6,6.6c0,19,15.5,34.5,34.5,34.5c11.2,0,21.5-5.4,28-14.4c3.2,2.5,7.2,3.9,11.3,3.9
    			c10.1,0,18.4-8.2,18.4-18.4c0-2.2-0.4-4.4-1.1-6.4C115.9,87.2,122.5,78,122.5,67.8z"/>
    		<g>
    			<path fill="#F4BD19" d="M47.9,56.3l27.3,12.5l27.6-24.2c0.4-2,0.6-4,0.6-6.1c0-17-13.8-30.8-30.8-30.8c-10.2,0-19.7,5-25.4,13.4
    				l-4.6,23.8L47.9,56.3z"/>
    		</g>
    		<g>
    			<path fill="#3CBEB1" d="M19.6,85.2c-0.4,2-0.6,4.1-0.6,6.2c0,17,13.9,30.9,30.9,30.9c10.3,0,19.8-5.1,25.6-13.5L80,85l-6.1-11.6
    				L46.5,60.9L19.6,85.2z"/>
    		</g>
    		<g>
    			<path fill="#E9478C" d="M19.4,37.9l18.7,4.4L42.3,21c-2.6-2-5.7-3-9-3c-8.1,0-14.8,6.6-14.8,14.8C18.5,34.5,18.8,36.3,19.4,37.9z
    				"/>
    		</g>
    		<g>
    			<path fill="#2C458F" d="M17.8,42.4C9.4,45.1,3.6,53.2,3.6,62c0,8.6,5.3,16.3,13.3,19.3l26.3-23.8l-4.8-10.3L17.8,42.4z"/>
    		</g>
    		<g>
    			<path fill="#95C63D" d="M80.3,108.7c2.6,2,5.7,3.1,8.9,3.1c8.1,0,14.8-6.6,14.8-14.8c0-1.8-0.3-3.5-0.9-5.1l-18.7-4.4L80.3,108.7
    				z"/>
    		</g>
    		<g>
    			<path fill="#176655" d="M84.1,82.6l20.6,4.8c8.4-2.8,14.2-10.8,14.2-19.6c0-8.6-5.3-16.2-13.3-19.3l-27,23.6L84.1,82.6z"/>
    		</g>
    	</g>
    	<path d="M162.8,76.3c0,0.1,0,0.6,0.1,1.4c0.1,0.8,0.3,1.8,0.6,3c0.3,1.1,0.8,2.4,1.4,3.7c0.6,1.3,1.4,2.5,2.5,3.6
    		c1,1.1,2.3,2,3.8,2.7c1.5,0.7,3.4,1.1,5.6,1.1c1.8,0,3.3-0.1,4.6-0.4c1.3-0.3,2.4-0.7,3.4-1.3c1-0.6,1.9-1.3,2.7-2.2
    		c0.8-0.9,1.6-1.9,2.4-3.1c0.5-0.7,1-1.2,1.6-1.5c0.6-0.3,1.2-0.4,1.8-0.4c1,0,2,0.4,2.8,1.1c0.9,0.7,1.3,1.7,1.3,2.8
    		c0,0.7-0.4,1.7-1.1,3.1c-0.7,1.4-1.9,2.8-3.6,4.1c-1.6,1.4-3.7,2.6-6.3,3.6c-2.6,1-5.7,1.5-9.5,1.5c-3.8,0-7.2-0.7-10.2-2.1
    		c-3-1.4-5.5-3.2-7.5-5.6c-2-2.3-3.6-5-4.7-8.1c-1.1-3.1-1.6-6.3-1.6-9.7c0-3.5,0.5-6.8,1.6-9.9c1.1-3.1,2.7-5.8,4.7-8.1
    		c2-2.3,4.5-4.1,7.4-5.5c2.9-1.3,6.1-2,9.6-2c3.3,0,6.3,0.5,9.2,1.5c2.8,1,5.3,2.4,7.4,4.3c2.1,1.9,3.7,4.1,5,6.8
    		c1.2,2.7,1.8,5.8,1.8,9.2c0,2.1-0.5,3.7-1.6,4.8c-1,1.1-2.2,1.6-3.6,1.6H162.8z M170.9,56.4c-1.5,0.6-2.7,1.4-3.7,2.4
    		c-1,0.9-1.8,2-2.4,3.1c-0.6,1.1-1,2.2-1.3,3.2c-0.3,1-0.5,1.8-0.5,2.5c-0.1,0.7-0.1,1.1-0.1,1.2h27.9c0-1.8-0.3-3.5-0.9-5.1
    		c-0.6-1.6-1.5-3-2.6-4.3c-1.2-1.2-2.7-2.2-4.5-3c-1.8-0.7-4-1.1-6.5-1.1C174.2,55.5,172.4,55.8,170.9,56.4z"/>
    	<path d="M214.3,94.6c0,1.3-0.4,2.3-1.3,3.2c-0.9,0.9-1.9,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2V35.1
    		c0-1.3,0.4-2.3,1.3-3.2c0.9-0.9,2-1.3,3.2-1.3c1.3,0,2.3,0.4,3.2,1.3c0.9,0.9,1.3,1.9,1.3,3.2V94.6z"/>
    	<path d="M229.8,63.5c-0.6,0.3-1.2,0.5-1.9,0.5c-1.2,0-2.2-0.4-3.2-1.1c-1-0.7-1.5-1.8-1.5-3.1c0-0.5,0.1-1.1,0.4-1.9
    		c0.5-1.2,1.2-2.4,2.1-3.6c0.9-1.2,2-2.2,3.5-3.1s3.3-1.7,5.4-2.2c2.2-0.5,4.8-0.8,7.9-0.8c5.9,0,10.5,1.2,14,3.5
    		c3.5,2.3,5.2,5.8,5.2,10.3v32.8c0,1.3-0.4,2.3-1.3,3.2c-0.9,0.9-1.9,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2v-2
    		c-1.2,2-4.7,4.5-7.5,5.3c-2.8,0.8-5.7,1.2-8.8,1.2c-2,0-3.9-0.3-5.9-0.8c-2-0.5-3.8-1.4-5.3-2.5c-1.6-1.1-2.9-2.6-3.8-4.3
    		c-1-1.7-1.5-3.8-1.5-6.2c0-2.8,0.5-5.7,1.6-7.5c1.1-1.9,2.6-3.4,4.4-4.6c1.8-1.2,3.9-2.1,6.3-2.8c2.4-0.6,4.9-1.1,7.5-1.4
    		c3-0.3,5.4-0.7,7.2-1.2c1.7-0.4,3-0.9,3.9-1.5c0.9-0.6,1.4-1.2,1.6-2c0.2-0.7,0.3-1.6,0.3-2.5c0-1.1-0.3-2-0.9-2.8
    		c-0.6-0.8-1.4-1.5-2.4-2c-1-0.5-2.1-0.9-3.3-1.2s-2.4-0.4-3.5-0.4c-2.1,0-3.7,0.2-5,0.5c-1.3,0.3-2.3,0.8-3.1,1.4
    		c-0.8,0.6-1.5,1.3-1.9,2.1c-0.5,0.8-0.9,1.6-1.3,2.5C230.9,62.6,230.4,63.1,229.8,63.5z M250.6,74.4c-1.1,0.3-2.4,0.6-3.8,0.8
    		c-1.5,0.2-3,0.4-4.6,0.6c-1.6,0.2-3.1,0.5-4.6,0.9c-1.5,0.3-2.8,0.8-4,1.5c-1.2,0.7-2.2,1.5-2.9,2.5c-0.7,1-1.1,3-1.1,4.6
    		c0,1.3,0.3,2.3,0.8,3.1c0.5,0.8,1.2,1.5,2.1,2c0.9,0.5,1.8,0.8,2.9,1c1.1,0.2,2.2,0.3,3.3,0.3c1.7,0,3.3-0.2,5-0.6
    		c1.7-0.4,3.2-1,4.5-1.9s2.4-2,3.3-3.5c0.8-1.4,1.2-3.8,1.2-5.9v-6.1L250.6,74.4z"/>
    	<path d="M307.6,90.9c-1.1,2-2.7,3.6-4.6,4.8s-4.1,2.1-6.6,2.7c-2.5,0.5-5.2,0.8-7.9,0.8c-3.9,0-7.2-0.6-9.9-1.8
    		c-2.7-1.2-4.9-2.6-6.5-4.1c-1.7-1.6-2.9-3.1-3.7-4.7c-0.7-1.6-1.1-2.7-1.1-3.5c0-1.3,0.5-2.4,1.4-3.2c0.9-0.8,2-1.2,3.1-1.2
    		c0.7,0,1.3,0.2,2,0.6c0.6,0.4,1.1,1,1.5,1.9c1,2.5,2.5,4.5,4.7,6.2c2.2,1.7,5.2,2.5,9.3,2.5c1.8,0,3.4-0.2,4.7-0.6
    		c1.3-0.4,2.4-1,3.2-1.7c0.8-0.7,1.4-1.5,1.9-2.4c0.4-0.9,0.6-1.8,0.6-2.8c0-2-0.8-3.4-2.3-4.4c-1.5-1-3.5-1.7-5.8-2.3
    		c-2.3-0.6-4.8-1.1-7.5-1.6c-2.7-0.5-5.2-1.2-7.5-2.2c-2.3-0.9-4.2-2.3-5.8-4c-1.6-1.8-2.3-4.2-2.3-7.3c0-4.5,1.6-8,4.9-10.5
    		c3.3-2.5,7.8-3.8,13.7-3.8c3.3,0,6,0.3,8.3,1c2.2,0.7,4.1,1.6,5.5,2.7c0.6,0.5,1.2,1,1.8,1.7c0.6,0.7,1.2,1.4,1.8,2.2
    		c0.6,0.8,1,1.5,1.4,2.3c0.4,0.7,0.6,1.4,0.6,2c0,1.3-0.5,2.4-1.6,3.1c-1,0.8-2.2,1.2-3.4,1.2c-0.7,0-1.5-0.1-2.1-0.6
    		c-0.6-0.6-1-1.3-1.3-1.8c-0.5-1.1-1.1-2-1.7-2.8c-0.5-0.8-1.2-1.5-2-2c-0.8-0.5-1.8-0.9-3-1.2c-1.2-0.3-2.7-0.4-4.4-0.4
    		c-3.5,0-6,0.6-7.6,1.7c-1.6,1.1-2.4,2.5-2.4,4.2c0,1.3,0.5,2.3,1.4,3.1c0.9,0.8,2.1,1.4,3.7,2c1.5,0.5,3.3,1,5.2,1.4
    		c2,0.4,3.9,0.8,5.9,1.3c2,0.5,4,1.1,5.9,1.7c1.9,0.7,3.7,1.6,5.2,2.7c1.5,1.1,2.7,2.5,3.7,4.1c0.9,1.6,1.4,3.6,1.4,6
    		C309.4,86.4,308.8,88.9,307.6,90.9z"/>
    	<path d="M327.4,48.8h4.7c1.1,0,2,0.4,2.8,1.2c0.8,0.8,1.2,1.7,1.2,2.8c0,1.1-0.4,2.1-1.2,2.8s-1.7,1.1-2.8,1.1h-4.7v37.9
    		c0,1.3-0.4,2.3-1.3,3.2c-0.9,0.9-2,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2V56.7h-4.6c-1.1,0-2-0.4-2.8-1.1
    		c-0.8-0.7-1.2-1.7-1.2-2.8c0-1.1,0.4-2,1.2-2.8c0.8-0.8,1.7-1.2,2.8-1.2h4.6V39c0-1.3,0.4-2.3,1.3-3.2s1.9-1.3,3.2-1.3
    		c1.3,0,2.3,0.4,3.2,1.3s1.3,1.9,1.3,3.2V48.8z"/>
    	<path d="M341.5,32.1c1-1,2.2-1.5,3.7-1.5c1.4,0,2.6,0.5,3.6,1.5c1,1,1.5,2.2,1.5,3.6c0,1.4-0.5,2.6-1.5,3.6c-1,1-2.2,1.5-3.6,1.5
    		c-1.4,0-2.7-0.5-3.7-1.5c-1-1-1.5-2.2-1.5-3.6C340,34.2,340.5,33,341.5,32.1z M349.6,94.6c0,1.3-0.4,2.3-1.3,3.2
    		c-0.9,0.9-1.9,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2V53.3c0-1.3,0.4-2.3,1.3-3.2c0.9-0.9,2-1.3,3.2-1.3
    		c1.3,0,2.3,0.4,3.2,1.3c0.9,0.9,1.3,2,1.3,3.2V94.6z"/>
    	<path d="M369.1,97.3c-2.9-1.2-5.4-3-7.5-5.2c-2.1-2.2-3.8-4.9-5-8.1c-1.2-3.1-1.8-6.6-1.8-10.4c0-3.8,0.6-7.3,1.8-10.5
    		c1.2-3.1,2.9-5.8,5-8.1c2.1-2.2,4.6-4,7.5-5.2c2.9-1.2,6-1.9,9.4-1.9c3.4,0,6.4,0.5,9,1.5c2.5,1,4.6,2.2,6.2,3.6
    		c1.6,1.4,3.2,2.9,4,4.4c0.5,0.9,0.9,1.5,0.9,2.6c0,1.3-0.5,2.3-1.4,3.1c-0.9,0.7-2,1.1-3.1,1.1c-0.8,0-1.6-0.2-2.2-0.6
    		c-0.7-0.4-1.2-1.3-1.8-2.1c-1-1.4-0.5-0.6-1.1-1.5c-0.7-0.9-1.5-1.6-2.5-2.3c-1-0.7-2.2-1.2-3.5-1.6c-1.4-0.4-2.8-0.6-4.4-0.6
    		c-1.8,0-3.5,0.3-5.3,1c-1.8,0.7-3.3,1.7-4.7,3.1c-1.4,1.4-2.5,3.3-3.4,5.6s-1.3,5.1-1.3,8.4c0,3.3,0.4,6.1,1.3,8.4s2,4.2,3.4,5.6
    		c1.4,1.4,3,2.5,4.7,3.1c1.8,0.7,3.5,1,5.3,1c1.6,0,3.1-0.2,4.4-0.6c1.3-0.4,2.5-0.9,3.5-1.6c1-0.7,1.8-1.5,2.5-2.3
    		c0.7-0.9,1.1-1.8,1.4-2.7c0.3-1,0.8-1.7,1.5-2.1c0.7-0.4,1.4-0.6,2.2-0.6c1.1,0,2.2,0.4,3.1,1.1c0.9,0.7,1.4,1.7,1.4,3
    		c0,0.6-0.3,1.7-0.9,3.1c-0.6,1.5-1.6,2.9-3.1,4.4c-1.5,1.5-3.5,2.8-6.2,4c-2.6,1.1-6,1.7-10,1.7C375.1,99.2,372,98.5,369.1,97.3z"
    		/>
    </g>
</svg>
						</div>
					</a>
				</h1>
			</div>
		</div>
		<div class="4u 6u(small) 6u(xsmall) text-right">
			<!-- <div class="mobile-menu-wrapper"> -->
				<ul class="m-shortcuts">
					
					<li><a href="#" class="m-search" id="header-search"></a></li>
					
					<li><a href="/guide" class="m-docs" id="mobile-docs"></a></li>
					
					<li><a href="/contact" class="m-contact" id="mobile-contact"></a></li>
					
				</ul>	
				<nav class="nav-menu">
					<div class="menu-button">
						<span></span>
					</div>
					<div class="nav-menu-list-wrap">
						<div class="nav-menu-list">
							
								<h3><a href="/products" id="nav_products" >Products</a></h3>

								
								<ul>
									
									<li><a href="/products/elasticsearch" id="nav_elasticsearch" >elasticsearch</a></li>
									
									<li><a href="/found" id="nav_hosted-elasticsearch" >elasticsearch as a service</a></li>
									
									<li><a href="/products/logstash" id="nav_logstash" >logstash</a></li>
									
									<li><a href="/products/kibana" id="nav_kibana" >kibana</a></li>
									
									<li><a href="/products/beats" id="nav_beats" >beats</a></li>
									
									<li><a href="/products/watcher" id="nav_watcher" >watcher</a></li>
									
									<li><a href="/products/shield" id="nav_shield" >shield</a></li>
									
									<li><a href="/products/marvel" id="nav_marvel" >marvel</a></li>
									
									<li><a href="/products/hadoop" id="nav_hadoop" >hadoop</a></li>
									
									<li><a href="/downloads" id="nav_downloads" >downloads</a></li>
									
								</ul>
								
							
								<h3><a href="/subscriptions" id="nav_subscriptions" >Subscriptions</a></h3>

								
							
								<h3><a href="/learn" id="nav_learn" >Learn</a></h3>

								
								<ul>
									
									<li><a href="/guide" id="nav_guide" >docs</a></li>
									
									<li><a href="/videos" id="nav_videos" >videos</a></li>
									
									<li><a href="/training" id="nav_training" >training</a></li>
									
									<li><a href="/services" id="nav_services" >services</a></li>
									
									<li><a href="/blog" id="nav_learn_blog" >blog</a></li>
									
									<li><a href="/elasticon" id="nav_learn_elasticon" >elastic{ON}</a></li>
									
								</ul>
								
							
								<h3><a href="/community" id="nav_community" >Community</a></h3>

								
								<ul>
									
									<li><a href="/community/meetups" id="nav_meetups" >meetups</a></li>
									
									<li><a href="/https:/discuss.elastic.co" id="nav_discuss" target="_blank">discuss</a></li>
									
									<li><a href="/community/codeofconduct" id="nav_codeofconduct" >code of conduct</a></li>
									
								</ul>
								
							
								<h3><a href="/use-cases" id="nav_usecases" >Use Cases</a></h3>

								
							
								<h3><a href="/blog" id="nav_blog" >Blog</a></h3>

								
								<ul>
									
									<li><a href="/blog/category/news" id="blog_news" >News</a></li>
									
									<li><a href="/blog/category/engineering" id="blog_engineering" >Engineering</a></li>
									
									<li><a href="/blog/category/user-stories" id="blog_user-stories" >User Stories</a></li>
									
									<li><a href="/blog/category/releases" id="blog_releases" >Releases</a></li>
									
									<li><a href="/blog/archive" id="blog_archive" >Archive</a></li>
									
								</ul>
								
							
								<h3><a href="/about" id="nav_about" >About</a></h3>

								
								<ul>
									
									<li><a href="/about/leadership" id="nav_leadership" >leadership</a></li>
									
									<li><a href="/about/board" id="nav_board" >board of directors</a></li>
									
									<li><a href="/about/careers" id="nav_careers" >careers</a></li>
									
									<li><a href="/about/partners" id="nav_partners" >partners</a></li>
									
									<li><a href="/about/press" id="nav_press" >press</a></li>
									
								</ul>
								
							
						</div>
					</div>
				</nav>
			<!-- </div> -->
		</div>
	</div>
</div>
<!-- Mobile Menu -->


		</div>
	</div>
</div>
<div class="header-search-wrapper">	
	<div class="container">
		<div class="big-search">
			<i class="big-search-icon"></i>
			<form method="get" action="/search" autocomplete="on" name="searchForm" id="searchfrm">
				<ul class="tags-wrapper">
					<li class="search-field"><input type="text" class="form-control global-input" id="autocomplete" name="q"></li>
				</ul>
			</form>
			<a href="#" class="header-search-cancel"></a>
		</div>
		<div class="nav-auto-complete"></div>
	</div>
</div>
<style>	
	
	
		.m-shortcuts li a.m-search {
			background: url("https://static-www.elastic.co/assets/blt174b13be89ff803c/m-search-icon.png?q=100") no-repeat scroll center center rgba(0, 0, 0, 0);
			background-size: contain;}
	
		.m-shortcuts li a.m-docs {
			background: url("https://static-www.elastic.co/assets/blt5ba03f594a7d610a/m-guide-icon.png?q=100") no-repeat scroll center center rgba(0, 0, 0, 0);
			background-size: contain;}
	
		.m-shortcuts li a.m-contact {
			background: url("https://static-www.elastic.co/assets/blt38c3e853c4b1174d/m-contact-icon.png?q=100") no-repeat scroll center center rgba(0, 0, 0, 0);
			background-size: contain;}
		
</style>
		</div>
	</div>
  	<div id="content">
  		
  			
            <div id="pageheader">
    <div class="container">
        <header>
            <h1><a href="/learn" title="Learn">Learn</a> |</h1>
            <h2><a href="/guide" title="Docs">Docs</a></h2>
        </header>
    </div>
</div>
<section id="guide">

            <!-- start body -->
<div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch: The Definitive Guide</a></span> » <span class="breadcrumb-link"><a href="languages.html">인간의 언어를 다루어보자 </a></span> » <span class="breadcrumb-node">Reducing Words to Their Root Form</span></div><div class="navheader"><span class="prev"><a href="token-normalization.html">
              « 
              Normalizing Tokens</a>
           
        </span><span class="next">
           
          <a href="stopwords.html">Stopwords: Performance Versus Precision
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="stemming"></a>Reducing Words to Their Root Form</h2></div></div></div><p>Most languages of the world are <span class="emphasis"><em>inflected</em></span>, meaning <a id="id-1.6.6.2.2" class="indexterm"></a>
<a id="id-1.6.6.2.3" class="indexterm"></a><a id="id-1.6.6.2.4" class="indexterm"></a>
<a id="id-1.6.6.2.5" class="indexterm"></a><a id="id-1.6.6.2.6" class="indexterm"></a>that words can change
their form to express differences in the following:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="emphasis"><em>Number</em></span>:      fox, foxes
</li><li class="listitem">
<span class="emphasis"><em>Tense</em></span>:       pay, paid, paying
</li><li class="listitem">
<span class="emphasis"><em>Gender</em></span>:      waiter, waitress
</li><li class="listitem">
<span class="emphasis"><em>Person</em></span>:      hear, hears
</li><li class="listitem">
<span class="emphasis"><em>Case</em></span>:        I, me, my
</li><li class="listitem">
<span class="emphasis"><em>Aspect</em></span>:      ate, eaten
</li><li class="listitem">
<span class="emphasis"><em>Mood</em></span>:        so be it, were it so
</li></ul></div><p>While inflection aids expressivity, it interferes<a id="id-1.6.6.4.1" class="indexterm"></a> with retrievability, as a
single root <span class="emphasis"><em>word sense</em></span> (or meaning) may be represented by many different
sequences of letters.<a id="id-1.6.6.4.3" class="indexterm"></a>
<a id="id-1.6.6.4.4" class="indexterm"></a> English is a weakly inflected language (you could
ignore inflections and still get reasonable search results), but some other
languages are highly inflected and need extra work in order to achieve
high-quality search results.</p><p><span class="emphasis"><em>Stemming</em></span> attempts to remove the differences between inflected forms of a
word, in order to reduce each word to its root form. For instance <code class="literal">foxes</code> may
be reduced to the root <code class="literal">fox</code>, to remove the difference between singular and
plural in the same way that we removed the difference between lowercase and
uppercase.</p><p>The root form of a word may not even be a real word. The words <code class="literal">jumping</code> and
<code class="literal">jumpiness</code> may both be stemmed to <code class="literal">jumpi</code>. It doesn’t matter—as long as
the same terms are produced at index time and at search time, search will just
work.</p><p>If stemming were easy, there would be only one implementation. Unfortunately,
stemming is an inexact science that <a id="id-1.6.6.7.1" class="indexterm"></a>
<a id="id-1.6.6.7.2" class="indexterm"></a>suffers from two issues: understemming
and overstemming.</p><p><span class="emphasis"><em>Understemming</em></span> is the failure to reduce words with the same meaning to the same
root. For example, <code class="literal">jumped</code> and <code class="literal">jumps</code> may be reduced to <code class="literal">jump</code>, while
<code class="literal">jumping</code> may be reduced to <code class="literal">jumpi</code>.  Understemming reduces retrieval
relevant documents are not returned.</p><p><span class="emphasis"><em>Overstemming</em></span> is the failure to keep two words with distinct meanings separate.
For instance, <code class="literal">general</code> and <code class="literal">generate</code> may both be stemmed to <code class="literal">gener</code>.
Overstemming reduces precision: irrelevant documents are returned when they
shouldn’t be.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Lemmatization</strong></p></div></div></div><p>A <span class="emphasis"><em>lemma</em></span> is the canonical, or dictionary, form <a id="id-1.6.6.10.2.2" class="indexterm"></a>of a set of related words—the
lemma of <code class="literal">paying</code>, <code class="literal">paid</code>, and <code class="literal">pays</code> is <code class="literal">pay</code>.  Usually the lemma resembles
the words it is related to but sometimes it doesn’t — the lemma of <code class="literal">is</code>,
<code class="literal">was</code>, <code class="literal">am</code>, and <code class="literal">being</code> is <code class="literal">be</code>.</p><p>Lemmatization, like stemming, tries to group related words,<a id="id-1.6.6.10.3.1" class="indexterm"></a> but it goes one
step further than stemming in that it tries to group words by their <span class="emphasis"><em>word
sense</em></span>, or meaning.  The same word may represent two  meanings—for example,<span class="emphasis"><em>wake</em></span> can mean <span class="emphasis"><em>to wake up</em></span> or <span class="emphasis"><em>a funeral</em></span>.  While lemmatization would
try to distinguish these two word senses, stemming would incorrectly conflate
them.</p><p>Lemmatization is a much more complicated and expensive process that needs to
understand the context in which words appear in order to make decisions
about what they mean. In practice, stemming appears to be just as effective
as lemmatization, but with a much lower cost.</p></div><p>First we will discuss the two classes of stemmers available in Elasticsearch—<a class="xref" href="stemming.html#algorithmic-stemmers" title="Algorithmic Stemmers">Algorithmic Stemmers</a> and <a class="xref" href="stemming.html#dictionary-stemmers" title="Dictionary Stemmers">Dictionary Stemmers</a>—and then look at how to
choose the right stemmer for your needs in <a class="xref" href="stemming.html#choosing-a-stemmer" title="Choosing a Stemmer">Choosing a Stemmer</a>.  Finally,
we will discuss options for tailoring stemming in <a class="xref" href="stemming.html#controlling-stemming" title="Controlling Stemming">Controlling Stemming</a> and
<a class="xref" href="stemming.html#stemming-in-situ" title="Stemming in situ">Stemming in situ</a>.</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="algorithmic-stemmers"></a>Algorithmic Stemmers</h2></div></div></div><p>Most of the stemmers available in Elasticsearch are algorithmic<a id="id-1.6.6.12.2.1" class="indexterm"></a>
<a id="id-1.6.6.12.2.2" class="indexterm"></a> in that they
apply a series of rules to a word in order to reduce it to its root form, such
as stripping the final <code class="literal">s</code> or <code class="literal">es</code> from plurals.   They don’t have to know
anything about individual words in order to stem them.</p><p>These algorithmic stemmers have the advantage that they are available out of
the box, are fast, use little memory, and work well for regular words.  The
downside is that they don’t cope well with irregular words like <code class="literal">be</code>, <code class="literal">are</code>,
and <code class="literal">am</code>, or <code class="literal">mice</code> and <code class="literal">mouse</code>.</p><p>One of the earliest stemming algorithms<a id="id-1.6.6.12.4.1" class="indexterm"></a>
<a id="id-1.6.6.12.4.2" class="indexterm"></a><a id="id-1.6.6.12.4.3" class="indexterm"></a> is the Porter stemmer for English,
which is still the recommended English stemmer today.  Martin Porter
subsequently went on to create the
<a class="ulink" href="http://snowball.tartarus.org/" target="_top">Snowball language</a> for creating stemming
algorithms, and a number<a id="id-1.6.6.12.4.5" class="indexterm"></a> of the stemmers available in Elasticsearch are
written in Snowball.</p><div class="tip admon"><div class="icon"><img alt="Tip" src="images/icons/tip.png" /></div><div class="admon_content"><p>The <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-kstem-tokenfilter.html" target="_top"><code class="literal">kstem</code> token filter</a> is a stemmer
for English which<a id="id-1.6.6.12.5.1.2" class="indexterm"></a> combines the algorithmic approach with a built-in
dictionary. The dictionary contains a list of root words and exceptions in
order to avoid conflating words incorrectly. <code class="literal">kstem</code> tends to stem less
aggressively than the Porter stemmer.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_using_an_algorithmic_stemmer"></a>Using an Algorithmic Stemmer</h3></div></div></div><p>While you <a id="id-1.6.6.12.6.2.1" class="indexterm"></a>
<a id="id-1.6.6.12.6.2.2" class="indexterm"></a>
<a id="id-1.6.6.12.6.2.3" class="indexterm"></a>can use the
<a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-porterstem-tokenfilter.html" target="_top"><code class="literal">porter_stem</code></a> or
<a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-kstem-tokenfilter.html" target="_top"><code class="literal">kstem</code></a> token filter directly, or
create a language-specific Snowball stemmer with the
<a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-snowball-tokenfilter.html" target="_top"><code class="literal">snowball</code></a> token filter, all of the
algorithmic stemmers are exposed via a single unified interface:
the <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-stemmer-tokenfilter.html" target="_top"><code class="literal">stemmer</code> token filter</a>, which
accepts the <code class="literal">language</code> parameter.</p><p>For instance, perhaps you find the default stemmer used by the <code class="literal">english</code>
analyzer to be too aggressive and <a id="id-1.6.6.12.6.3.2" class="indexterm"></a>
<a id="id-1.6.6.12.6.3.3" class="indexterm"></a>you want to make it less aggressive.
The first step is to look up the configuration for the <code class="literal">english</code> analyzer
in the <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-lang-analyzer.html" target="_top">language analyzers</a>
documentation, which shows the following:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">{
  "settings": {
    "analysis": {
      "filter": {
        "english_stop": {
          "type":       "stop",
          "stopwords":  "_english_"
        },
        "english_keywords": {
          "type":       "keyword_marker", <a id="CO154-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
          "keywords":   []
        },
        "english_stemmer": {
          "type":       "stemmer",
          "language":   "english" <a id="CO154-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
        },
        "english_possessive_stemmer": {
          "type":       "stemmer",
          "language":   "possessive_english" <a id="CO154-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
        }
      },
      "analyzer": {
        "english": {
          "tokenizer":  "standard",
          "filter": [
            "english_possessive_stemmer",
            "lowercase",
            "english_stop",
            "english_keywords",
            "english_stemmer"
          ]
        }
      }
    }
  }
}</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO154-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The <code class="literal">keyword_marker</code> token filter lists words that should not be
    stemmed.<a id="id-1.6.6.12.6.5.1.1.2" class="indexterm"></a>  This defaults to the empty list.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO154-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> <a href="#CO154-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The <code class="literal">english</code> analyzer uses two stemmers: the <code class="literal">possessive_english</code>
    and the <code class="literal">english</code> stemmer. The <a id="id-1.6.6.12.6.5.2.1.4" class="indexterm"></a><a id="id-1.6.6.12.6.5.2.1.5" class="indexterm"></a>possessive stemmer removes <code class="literal">'s</code>
    from any words before passing them on to the <code class="literal">english_stop</code>,
    <code class="literal">english_keywords</code>, and <code class="literal">english_stemmer</code>.
</p></td></tr></table></div><p>Having reviewed the current configuration, we can use it as the basis for
a new analyzer, with<a id="id-1.6.6.12.6.6.1" class="indexterm"></a>
<a id="id-1.6.6.12.6.6.2" class="indexterm"></a> the following changes:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Change the <code class="literal">english_stemmer</code> from <code class="literal">english</code> (which maps to the
    <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-porterstem-tokenfilter.html" target="_top"><code class="literal">porter_stem</code></a> token filter)
    to <code class="literal">light_english</code> (which maps to the less aggressive
    <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-kstem-tokenfilter.html" target="_top"><code class="literal">kstem</code></a> token filter).
</li><li class="listitem">
Add the <a class="link" href="token-normalization.html#asciifolding-token-filter" title="You Have an Accent"><code class="literal">asciifolding</code></a> token filter to
    remove any diacritics from foreign words.<a id="id-1.6.6.12.6.7.2.1.2" class="indexterm"></a>
</li><li class="listitem">
Remove the <code class="literal">keyword_marker</code> token filter, as we don’t need it.
    (We discuss this in more detail in <a class="xref" href="stemming.html#controlling-stemming" title="Controlling Stemming">Controlling Stemming</a>.)
</li></ul></div><p>Our new custom analyzer would look like this:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">PUT /my_index
{
  "settings": {
    "analysis": {
      "filter": {
        "english_stop": {
          "type":       "stop",
          "stopwords":  "_english_"
        },
        "light_english_stemmer": {
          "type":       "stemmer",
          "language":   "light_english" <a id="CO155-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
        },
        "english_possessive_stemmer": {
          "type":       "stemmer",
          "language":   "possessive_english"
        }
      },
      "analyzer": {
        "english": {
          "tokenizer":  "standard",
          "filter": [
            "english_possessive_stemmer",
            "lowercase",
            "english_stop",
            "light_english_stemmer", <a id="CO155-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
            "asciifolding" <a id="CO155-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
          ]
        }
      }
    }
  }
}</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO155-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> <a href="#CO155-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Replaced the <code class="literal">english</code> stemmer with the less aggressive
    <code class="literal">light_english</code> stemmer
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO155-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Added the <code class="literal">asciifolding</code> token filter
</p></td></tr></table></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="dictionary-stemmers"></a>Dictionary Stemmers</h2></div></div></div><p><span class="emphasis"><em>Dictionary stemmers</em></span> work quite differently from
<a class="link" href="stemming.html#algorithmic-stemmers" title="Algorithmic Stemmers">algorithmic stemmers</a>.<a id="id-1.6.6.13.2.3" class="indexterm"></a>
<a id="id-1.6.6.13.2.4" class="indexterm"></a><a id="id-1.6.6.13.2.5" class="indexterm"></a> Instead
of applying a standard set of rules to each word, they simply look up the
word in the dictionary.  Theoretically, they could produce much better
results than an algorithmic stemmer. A dictionary stemmer should be able to do the following:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Return the correct root word for irregular forms such as <code class="literal">feet</code> and <code class="literal">mice</code>
</li><li class="listitem">
Recognize the distinction between words that are similar but have
  different word senses—for example, <code class="literal">organ</code> and <code class="literal">organization</code>
</li></ul></div><p>In practice, a good algorithmic stemmer usually outperforms a dictionary
stemmer. There are a couple of reasons this should be so:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
Dictionary quality
</span></dt><dd><p class="simpara">A dictionary stemmer is only as good as its dictionary. <a id="id-1.6.6.13.5.1.2.1.1" class="indexterm"></a>
<a id="id-1.6.6.13.5.1.2.1.2" class="indexterm"></a> The Oxford English
Dictionary website estimates that the English language contains approximately
750,000 words (when inflections are included). Most English dictionaries
available for computers contain about 10% of those.</p><p class="simpara">The meaning of words changes with time.  While stemming <code class="literal">mobility</code> to <code class="literal">mobil</code>
may have made sense previously, it now conflates the idea of mobility with a
mobile phone. Dictionaries need to be kept current, which is a time-consuming
task.  Often, by the time a dictionary has been made available, some of its
entries are already out-of-date.</p><p class="simpara">If a dictionary stemmer encounters a word not in its dictionary, it doesn’t
know how to deal with it.  An algorithmic stemmer, on the other hand, will
apply the same rules as before, correctly or incorrectly.</p></dd><dt><span class="term">
Size and performance
</span></dt><dd><p class="simpara">A dictionary stemmer needs to load all words,<a id="id-1.6.6.13.5.2.2.1.1" class="indexterm"></a>
<a id="id-1.6.6.13.5.2.2.1.2" class="indexterm"></a> all prefixes, and all suffixes
into memory. This can use a significant amount of RAM. Finding the right stem
for a word is often considerably more complex than the equivalent process with
an algorithmic stemmer.</p><p class="simpara">Depending on the quality of the dictionary, the process of removing prefixes
and suffixes may be more or less efficient.  Less-efficient forms can slow
the stemming process significantly.</p><p class="simpara">Algorithmic stemmers, on the other hand, are usually simple, small, and fast.</p></dd></dl></div><div class="tip admon"><div class="icon"><img alt="Tip" src="images/icons/tip.png" /></div><div class="admon_content"><p>If a good algorithmic stemmer exists for your language, it is usually a
better choice than a dictionary-based stemmer.  Languages with poor (or nonexistent) algorithmic stemmers can use the Hunspell dictionary stemmer, which
we discuss in the next section.</p></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="hunspell"></a>Hunspell Stemmer</h2></div></div></div><p>Elasticsearch provides <a id="id-1.6.6.14.2.1" class="indexterm"></a>
<a id="id-1.6.6.14.2.2" class="indexterm"></a><a id="id-1.6.6.14.2.3" class="indexterm"></a>
<a id="id-1.6.6.14.2.4" class="indexterm"></a>
<a id="id-1.6.6.14.2.5" class="indexterm"></a>dictionary-based stemming via the
<a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-hunspell-tokenfilter.html" target="_top"><code class="literal">hunspell</code> token filter</a>.
Hunspell <a class="ulink" href="http://hunspell.sourceforge.net/" target="_top"><span class="emphasis"><em>hunspell.sourceforge.net</em></span></a> is the
spell checker used by Open Office, LibreOffice, Chrome, Firefox, Thunderbird, and many
other open and closed source projects.</p><p>Hunspell dictionaries<a id="id-1.6.6.14.3.1" class="indexterm"></a>
<a id="id-1.6.6.14.3.2" class="indexterm"></a> can be obtained from the following:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<a class="ulink" href="http://extensions.openoffice.org/" target="_top"><span class="emphasis"><em>extensions.openoffice.org</em></span></a>: Download and
  unzip the <code class="literal">.oxt</code> extension file.
</li><li class="listitem">
<a class="ulink" href="http://mzl.la/157UORf" target="_top"><span class="emphasis"><em>addons.mozilla.org</em></span></a>:
  Download and unzip the <code class="literal">.xpi</code> addon file.
</li><li class="listitem">
<a class="ulink" href="http://download.services.openoffice.org/contrib/dictionaries/" target="_top">OpenOffice archive</a>: Download and unzip the <code class="literal">.zip</code> file.
</li></ul></div><p>A Hunspell dictionary consists of two files with the same base name—such as
<code class="literal">en_US</code>—but with one of two extensions:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">.dic</code>
</span></dt><dd>
    Contains all the root words, in alphabetical order, plus a code representing
    all possible suffixes and prefixes (which collectively are known as <span class="emphasis"><em>affixes</em></span>)
</dd><dt><span class="term">
<code class="literal">.aff</code>
</span></dt><dd>
    Contains the actual prefix or suffix transformation for each code listed
    in the <code class="literal">.dic</code> file
</dd></dl></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_installing_a_dictionary"></a>Installing a Dictionary</h3></div></div></div><p>The Hunspell token <a id="id-1.6.6.14.7.2.1" class="indexterm"></a>
<a id="id-1.6.6.14.7.2.2" class="indexterm"></a>filter looks for dictionaries within a dedicated Hunspell
directory, which defaults to  <code class="literal">./config/hunspell/</code>. The <code class="literal">.dic</code> and <code class="literal">.aff</code>
files should be placed in a subdirectory whose name represents the language
or locale of the dictionaries.  For instance, we could create a Hunspell
stemmer for American English with the following layout:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-text">config/
  └ hunspell/ <a id="CO156-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
      └ en_US/ <a id="CO156-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
          ├ en_US.dic
          ├ en_US.aff
          └ settings.yml <a id="CO156-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO156-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The location of the Hunspell directory can be changed by setting
    <code class="literal">indices.analysis.hunspell.dictionary.location</code> in the
    <code class="literal">config/elasticsearch.yml</code> file.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO156-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
<code class="literal">en_US</code> will be the name of the locale or <code class="literal">language</code> that we pass to the
    <code class="literal">hunspell</code> token filter.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO156-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Per-language settings file, described in the following section.
</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_per_language_settings"></a>Per-Language Settings</h3></div></div></div><p>The <code class="literal">settings.yml</code> file contains settings<a id="id-1.6.6.14.8.2.2" class="indexterm"></a>
<a id="id-1.6.6.14.8.2.3" class="indexterm"></a> that apply to all of the
dictionaries within the language directory, such as these:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">---
ignore_case:          true
strict_affix_parsing: true</pre></div><p>The meaning of these settings is as follows:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">ignore_case</code>
</span></dt><dd><p class="simpara">Hunspell dictionaries are case sensitive by default: the surname <code class="literal">Booker</code> is a
different word from the noun <code class="literal">booker</code>, and so should be stemmed differently.  It
may seem like a good idea to use the <code class="literal">hunspell</code> stemmer in case-sensitive
mode,<a id="id-1.6.6.14.8.5.1.2.1.4" class="indexterm"></a>
<a id="id-1.6.6.14.8.5.1.2.1.5" class="indexterm"></a> but that can complicate things:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
A word at the beginning of a sentence will be capitalized, and thus appear
  to be a proper noun.
</li><li class="listitem">
The input text may be all uppercase, in which case almost no words will be
  found.
</li><li class="listitem">
The user may search for names in all lowercase, in which case no capitalized
  words will be found.
</li></ul></div><p class="simpara">As a general rule, it is a good idea to set <code class="literal">ignore_case</code> to <code class="literal">true</code>.</p></dd><dt><span class="term">
<code class="literal">strict_affix_parsing</code>
</span></dt><dd>
The quality of dictionaries varies greatly.<a id="id-1.6.6.14.8.5.2.2.1.1" class="indexterm"></a>
<a id="id-1.6.6.14.8.5.2.2.1.2" class="indexterm"></a> Some dictionaries that are
available online have malformed rules in the <code class="literal">.aff</code> file.  By default, Lucene
will throw an exception if it can’t parse an affix rule. If you need to deal
with a broken affix file, you can set <code class="literal">strict_affix_parsing</code> to <code class="literal">false</code> to tell
Lucene to ignore the broken rules.<a id="id-1.6.6.14.8.5.2.2.1.6" class="indexterm"></a>
</dd></dl></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Custom Dictionaries</strong></p></div></div></div><p>If multiple dictionaries (<code class="literal">.dic</code> files) are placed in the same
directory, <a id="id-1.6.6.14.8.6.2.2" class="indexterm"></a>
<a id="id-1.6.6.14.8.6.2.3" class="indexterm"></a>they will be merged together at load time. This allows you to
tailor the downloaded dictionaries with your own custom word lists:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-text">config/
  └ hunspell/
      └ en_US/  <a id="CO157-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
          ├ en_US.dic
          ├ en_US.aff <a id="CO157-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
          ├ custom.dic
          └ settings.yml</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO157-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The <code class="literal">custom</code> and <code class="literal">en_US</code> dictionaries will be merged.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO157-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Multiple <code class="literal">.aff</code> files are not allowed, as they could use
    conflicting rules.
</p></td></tr></table></div><p>The format of the <code class="literal">.dic</code> and <code class="literal">.aff</code> files is discussed in
<a class="xref" href="stemming.html#hunspell-dictionary-format" title="Hunspell Dictionary Format">Hunspell Dictionary Format</a>.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_creating_a_hunspell_token_filter"></a>Creating a Hunspell Token Filter</h3></div></div></div><p>Once your dictionaries are installed on all nodes, you can define a <code class="literal">hunspell</code>
token filter<a id="id-1.6.6.14.9.2.2" class="indexterm"></a>
<a id="id-1.6.6.14.9.2.3" class="indexterm"></a> that uses them:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-json">PUT /my_index
{
  "settings": {
    "analysis": {
      "filter": {
        "en_US": {
          "type":     "hunspell",
          "language": "en_US" <a id="CO158-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
        }
      },
      "analyzer": {
        "en_US": {
          "tokenizer":  "standard",
          "filter":   [ "lowercase", "en_US" ]
        }
      }
    }
  }
}</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO158-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The <code class="literal">language</code> has the same name as the directory where
    the dictionary lives.
</p></td></tr></table></div><p>You can test the new analyzer with the <code class="literal">analyze</code> API,
and compare its output to that of the <code class="literal">english</code> analyzer:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-json">GET /my_index/_analyze?analyzer=en_US <a id="CO159-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
reorganizes

GET /_analyze?analyzer=english <a id="CO159-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
reorganizes</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO159-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Returns <code class="literal">organize</code>
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO159-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Returns <code class="literal">reorgan</code>
</p></td></tr></table></div><p>An interesting property of the <code class="literal">hunspell</code> stemmer, as can be seen in the
preceding example, is that it can remove prefixes as well as as suffixes. Most
algorithmic stemmers remove suffixes only.</p><div class="tip admon"><div class="icon"><img alt="Tip" src="images/icons/tip.png" /></div><div class="admon_content"><p>Hunspell dictionaries can consume a few megabytes of RAM.  Fortunately,
Elasticsearch creates only a single instance of a dictionary per node.  All
shards that use the same Hunspell analyzer share the same instance.</p></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="hunspell-dictionary-format"></a>Hunspell Dictionary Format</h3></div></div></div><p>While it is not necessary to understand the<a id="id-1.6.6.14.10.2.1" class="indexterm"></a>
<a id="id-1.6.6.14.10.2.2" class="indexterm"></a> format of a Hunspell dictionary in
order to use the <code class="literal">hunspell</code> tokenizer, understanding the format will help you
write your own custom dictionaries.  It is quite simple.</p><p>For instance, in the US English dictionary, the <code class="literal">en_US.dic</code> file contains an entry for
the word <code class="literal">analyze</code>, which looks like this:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-text">analyze/ADSG</pre></div><p>The <code class="literal">en_US.aff</code> file contains the prefix or suffix rules for the <code class="literal">A</code>, <code class="literal">G</code>,
<code class="literal">D</code>, and <code class="literal">S</code> flags.  Each flag consists of a number of rules, only one of
which should match. Each rule has the following format:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-text">[type] [flag] [letters to remove] [letters to add] [condition]</pre></div><p>For instance, the following is suffix (<code class="literal">SFX</code>) rule <code class="literal">D</code>.  It says that,  when a
word ends in a consonant (anything but <code class="literal">a</code>, <code class="literal">e</code>, <code class="literal">i</code>, <code class="literal">o</code>, or <code class="literal">u</code>) followed by
a <code class="literal">y</code>, it can have the <code class="literal">y</code> removed and <code class="literal">ied</code> added (for example, <code class="literal">ready</code> →
<code class="literal">readied</code>).</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-text">SFX    D      y   ied  [^aeiou]y</pre></div><p>The rules for the <code class="literal">A</code>, <code class="literal">G</code>, <code class="literal">D</code>, and <code class="literal">S</code> flags mentioned previously are as follows:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-text">SFX D Y 4
SFX D   0     d          e <a id="CO160-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
SFX D   y     ied        [^aeiou]y
SFX D   0     ed         [^ey]
SFX D   0     ed         [aeiou]y

SFX S Y 4
SFX S   y     ies        [^aeiou]y
SFX S   0     s          [aeiou]y
SFX S   0     es         [sxzh]
SFX S   0     s          [^sxzhy] <a id="CO160-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>

SFX G Y 2
SFX G   e     ing        e <a id="CO160-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
SFX G   0     ing        [^e]

PFX A Y 1
PFX A   0     re         . <a id="CO160-4"></a><span><img src="images/icons/callouts/4.png" alt="" /></span></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO160-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
<code class="literal">analyze</code> ends in an <code class="literal">e</code>, so it can become <code class="literal">analyzed</code> by adding a <code class="literal">d</code>.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO160-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
<code class="literal">analyze</code> does not end in <code class="literal">s</code>, <code class="literal">x</code>, <code class="literal">z</code>, <code class="literal">h</code>, or <code class="literal">y</code>, so it can become
    <code class="literal">analyzes</code> by adding an <code class="literal">s</code>.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO160-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
<code class="literal">analyze</code> ends in an <code class="literal">e</code>, so it can become <code class="literal">analyzing</code> by removing the <code class="literal">e</code>
    and adding <code class="literal">ing</code>.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO160-4"><span><img src="images/icons/callouts/4.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The prefix <code class="literal">re</code> can be added to form <code class="literal">reanalyze</code>. This rule can be
    combined with the suffix rules to form <code class="literal">reanalyzes</code>, <code class="literal">reanalyzed</code>,
    <code class="literal">reanalyzing</code>.
</p></td></tr></table></div><p>More information about the Hunspell syntax can be found on the <a class="ulink" href="http://sourceforge.net/projects/hunspell/files/Hunspell/Documentation/" target="_top">Hunspell documentation site</a>.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="choosing-a-stemmer"></a>Choosing a Stemmer</h2></div></div></div><p>The documentation for the
<a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-stemmer-tokenfilter.html" target="_top"><code class="literal">stemmer</code></a> token filter
lists multiple stemmers for some languages.<a id="id-1.6.6.15.2.2" class="indexterm"></a>
<a id="id-1.6.6.15.2.3" class="indexterm"></a><a id="id-1.6.6.15.2.4" class="indexterm"></a>
<a id="id-1.6.6.15.2.5" class="indexterm"></a>  For English we have the following:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">english</code>
</span></dt><dd>
    The <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-porterstem-tokenfilter.html" target="_top"><code class="literal">porter_stem</code></a> token filter.
</dd><dt><span class="term">
<code class="literal">light_english</code>
</span></dt><dd>
    The <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-kstem-tokenfilter.html" target="_top"><code class="literal">kstem</code></a> token filter.
</dd><dt><span class="term">
<code class="literal">minimal_english</code>
</span></dt><dd>
    The <code class="literal">EnglishMinimalStemmer</code> in Lucene, which removes plurals
</dd><dt><span class="term">
<code class="literal">lovins</code>
</span></dt><dd>
    The <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-snowball-tokenfilter.html" target="_top">Snowball</a> based
    <a class="ulink" href="http://snowball.tartarus.org/algorithms/lovins/stemmer.html" target="_top">Lovins</a>
    stemmer, the first stemmer ever produced.
</dd><dt><span class="term">
<code class="literal">porter</code>
</span></dt><dd>
    The <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-snowball-tokenfilter.html" target="_top">Snowball</a> based
    <a class="ulink" href="http://snowball.tartarus.org/algorithms/porter/stemmer.html" target="_top">Porter</a> stemmer
</dd><dt><span class="term">
<code class="literal">porter2</code>
</span></dt><dd>
    The <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-snowball-tokenfilter.html" target="_top">Snowball</a> based
    <a class="ulink" href="http://snowball.tartarus.org/algorithms/english/stemmer.html" target="_top">Porter2</a> stemmer
</dd><dt><span class="term">
<code class="literal">possessive_english</code>
</span></dt><dd>
    The <code class="literal">EnglishPossessiveFilter</code> in Lucene which removes <code class="literal">'s</code>
</dd></dl></div><p>Add to that list the Hunspell stemmer with the various English dictionaries
that are available.</p><p>One thing is for sure: whenever more than one solution exists for a problem,
it means that none of the solutions solves the problem adequately. This
certainly applies to stemming — each stemmer uses a different approach that
overstems and understems words to a different degree.</p><p>The <code class="literal">stemmer</code> documentation page <a id="id-1.6.6.15.6.2" class="indexterm"></a>
<a id="id-1.6.6.15.6.3" class="indexterm"></a>highlights the recommended stemmer for
each language in bold, usually because it offers a reasonable compromise
between performance and quality. That said, the recommended stemmer may not be
appropriate for all use cases. There is no single right answer to the question
of which is the best stemmer — it depends very much on your requirements.
There are three factors to take into account when making a choice:
performance, quality, and degree.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="stemmer-performance"></a>Stemmer Performance</h3></div></div></div><p>Algorithmic stemmers are typically four or <a id="id-1.6.6.15.7.2.1" class="indexterm"></a>
<a id="id-1.6.6.15.7.2.2" class="indexterm"></a>
<a id="id-1.6.6.15.7.2.3" class="indexterm"></a><a id="id-1.6.6.15.7.2.4" class="indexterm"></a>
<a id="id-1.6.6.15.7.2.5" class="indexterm"></a>five times faster than Hunspell
stemmers. “Handcrafted” algorithmic stemmers are usually, but not always,
faster than their Snowball equivalents.  For instance, the <code class="literal">porter_stem</code> token
filter is significantly faster than the Snowball implementation of the Porter
stemmer.</p><p>Hunspell stemmers have to load all words, prefixes, and suffixes into memory,
which can consume a few megabytes of RAM.  Algorithmic stemmers, on the other
hand, consist of a small amount of code and consume very little memory.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="stemmer-quality"></a>Stemmer Quality</h3></div></div></div><p>All languages, except Esperanto, are irregular.<a id="id-1.6.6.15.8.2.1" class="indexterm"></a>
<a id="id-1.6.6.15.8.2.2" class="indexterm"></a>
<a id="id-1.6.6.15.8.2.3" class="indexterm"></a> While more-formal words tend
to follow a regular pattern, the most commonly used words often have irregular rules. Some stemming algorithms have been developed over years of
research and produce reasonably high-quality results. Others have been
assembled more quickly with less research and deal only with the most common
cases.</p><p>While Hunspell offers the promise of dealing precisely with irregular words,
it often falls short in practice. A dictionary stemmer is only as good as its
dictionary.   If Hunspell comes across a word that isn’t in its dictionary, it
can do nothing with it. Hunspell requires an extensive, high-quality, up-to-date dictionary in order to produce good results; dictionaries of this
caliber are few and far between. An algorithmic stemmer, on the other hand,
will happily deal with new words that didn’t exist when the designer created
the algorithm.</p><p>If a good algorithmic stemmer is available for your language, it makes sense
to use it rather than Hunspell.  It will be faster, will consume less memory, and
will generally be as good or better than the Hunspell equivalent.</p><p>If accuracy and customizability is important to you, and you need (and
have the resources) to maintain a custom dictionary, then Hunspell gives you
greater flexibility than the algorithmic stemmers. (See
<a class="xref" href="stemming.html#controlling-stemming" title="Controlling Stemming">Controlling Stemming</a> for customization techniques that can be used with
any stemmer.)</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="stemmer-degree"></a>Stemmer Degree</h3></div></div></div><p>Different stemmers overstem and understem<a id="id-1.6.6.15.9.2.1" class="indexterm"></a>
<a id="id-1.6.6.15.9.2.2" class="indexterm"></a>
<a id="id-1.6.6.15.9.2.3" class="indexterm"></a> to a different degree.  The <code class="literal">light_</code>
stemmers stem less aggressively than the standard stemmers, and the <code class="literal">minimal_</code>
stemmers less aggressively still.  Hunspell stems aggressively.</p><p>Whether you want aggressive or light stemming depends on your use case.  If
your search results are being consumed by a clustering algorithm, you may
prefer to match more widely (and, thus, stem more aggressively).  If your
search results are intended for human consumption, lighter stemming usually
produces better results.  Stemming nouns and adjectives is more important for
search than stemming verbs, but this also depends on the language.</p><p>The other factor to take into account is the size of your document collection.
With a small collection such as a catalog of 10,000 products, you probably want to
stem more aggressively to ensure that you match at least some documents.  If
your collection is large, you likely will get good matches with lighter
stemming.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_making_a_choice"></a>Making a Choice</h3></div></div></div><p>Start out with a recommended stemmer.  If it works well enough, there is
no need to change it.  If it doesn’t, you will need to spend some time
investigating and comparing the stemmers available for language in order to
find the one that best suits your purposes.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="controlling-stemming"></a>Controlling Stemming</h2></div></div></div><p>Out-of-the-box stemming solutions are never perfect.<a id="id-1.6.6.16.2.1" class="indexterm"></a>
<a id="id-1.6.6.16.2.2" class="indexterm"></a>  Algorithmic stemmers,
especially, will blithely apply their rules to any words they encounter,
perhaps conflating words that you would prefer to keep separate.  Maybe, for
your use case, it is important to keep <code class="literal">skies</code> and <code class="literal">skiing</code> as distinct words
rather than stemming them both down to <code class="literal">ski</code> (as would happen with the
<code class="literal">english</code> analyzer).</p><p>The <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-keyword-marker-tokenfilter.html" target="_top"><code class="literal">keyword_marker</code></a> and
<a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-stemmer-override-tokenfilter.html" target="_top"><code class="literal">stemmer_override</code></a> token filters<a id="id-1.6.6.16.3.3" class="indexterm"></a><a id="id-1.6.6.16.3.4" class="indexterm"></a>
allow us to customize the stemming process.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="preventing-stemming"></a>Preventing Stemming</h3></div></div></div><p>The <a class="link" href="language-intro.html#stem-exclusion"><code class="literal">stem_exclusion</code></a> parameter for language analyzers (see
<a class="xref" href="language-intro.html#configuring-language-analyzers" title="Configuring Language Analyzers">Configuring Language Analyzers</a>) allowed <a id="id-1.6.6.16.4.2.3" class="indexterm"></a>
<a id="id-1.6.6.16.4.2.4" class="indexterm"></a>
<a id="id-1.6.6.16.4.2.5" class="indexterm"></a>us to specify a list of words that
should not be stemmed.  Internally, these language analyzers use the
<a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-keyword-marker-tokenfilter.html" target="_top"><code class="literal">keyword_marker</code> token filter</a>
to mark the listed words as <span class="emphasis"><em>keywords</em></span>, which prevents subsequent stemming
token filters from touching those words.<a id="id-1.6.6.16.4.2.8" class="indexterm"></a>
<a id="id-1.6.6.16.4.2.9" class="indexterm"></a></p><p>For instance, we can create a simple custom analyzer that uses the
<a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-porterstem-tokenfilter.html" target="_top"><code class="literal">porter_stem</code></a> token filter,
but prevents the word <code class="literal">skies</code> from<a id="id-1.6.6.16.4.3.3" class="indexterm"></a> being stemmed:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-json">PUT /my_index
{
  "settings": {
    "analysis": {
      "filter": {
        "no_stem": {
          "type": "keyword_marker",
          "keywords": [ "skies" ] <a id="CO161-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
        }
      },
      "analyzer": {
        "my_english": {
          "tokenizer": "standard",
          "filter": [
            "lowercase",
            "no_stem",
            "porter_stem"
          ]
        }
      }
    }
  }
}</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO161-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
They <code class="literal">keywords</code> parameter could accept multiple words.
</p></td></tr></table></div><p>Testing it with the <code class="literal">analyze</code> API shows that just the word <code class="literal">skies</code> has
been excluded from stemming:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-json">GET /my_index/_analyze?analyzer=my_english
sky skies skiing skis <a id="CO162-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO162-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Returns: <code class="literal">sky</code>, <code class="literal">skies</code>, <code class="literal">ski</code>, <code class="literal">ski</code>
</p></td></tr></table></div><div class="tip admon"><div class="icon"><img alt="Tip" src="images/icons/tip.png" /></div><div class="admon_content"><a id="keyword-path"></a><p>While the language analyzers allow <a id="id-1.6.6.16.4.9.1.1" class="indexterm"></a>
<a id="id-1.6.6.16.4.9.1.2" class="indexterm"></a>us only to specify an array of words in the
<code class="literal">stem_exclusion</code> parameter, the <code class="literal">keyword_marker</code> token filter also accepts a
<code class="literal">keywords_path</code> parameter that allows us to store all of our keywords in a
file. <a id="id-1.6.6.16.4.9.1.6" class="indexterm"></a>
<a id="id-1.6.6.16.4.9.1.7" class="indexterm"></a>The file should contain one word per line, and must be present on every
node in the cluster. See <a class="xref" href="stopwords.html#updating-stopwords" title="Updating Stopwords">Updating Stopwords</a> for tips on how to update this
file.</p></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="customizing-stemming"></a>Customizing Stemming</h3></div></div></div><p>In the preceding example, we prevented <code class="literal">skies</code> from being stemmed, but perhaps we
would prefer it to be stemmed to <code class="literal">sky</code> instead.<a id="id-1.6.6.16.5.2.3" class="indexterm"></a>
<a id="id-1.6.6.16.5.2.4" class="indexterm"></a>
<a id="id-1.6.6.16.5.2.5" class="indexterm"></a>  The
<a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-stemmer-override-tokenfilter.html" target="_top"><code class="literal">stemmer_override</code></a> token
filter allows us <a id="id-1.6.6.16.5.2.7" class="indexterm"></a>to specify our own custom stemming rules. At the same time,
we can handle some irregular forms like stemming <code class="literal">mice</code> to <code class="literal">mouse</code> and <code class="literal">feet</code>
to <code class="literal">foot</code>:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-json">PUT /my_index
{
  "settings": {
    "analysis": {
      "filter": {
        "custom_stem": {
          "type": "stemmer_override",
          "rules": [ <a id="CO163-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
            "skies=&gt;sky",
            "mice=&gt;mouse",
            "feet=&gt;foot"
          ]
        }
      },
      "analyzer": {
        "my_english": {
          "tokenizer": "standard",
          "filter": [
            "lowercase",
            "custom_stem", <a id="CO163-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
            "porter_stem"
          ]
        }
      }
    }
  }
}

GET /my_index/_analyze?analyzer=my_english
The mice came down from the skies and ran over my feet <a id="CO163-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO163-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Rules take the form <code class="literal">original=&gt;stem</code>.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO163-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The <code class="literal">stemmer_override</code> filter must be placed before the stemmer.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO163-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Returns <code class="literal">the</code>, <code class="literal">mouse</code>, <code class="literal">came</code>, <code class="literal">down</code>, <code class="literal">from</code>, <code class="literal">the</code>, <code class="literal">sky</code>,
    <code class="literal">and</code>, <code class="literal">ran</code>, <code class="literal">over</code>, <code class="literal">my</code>, <code class="literal">foot</code>.
</p></td></tr></table></div><div class="tip admon"><div class="icon"><img alt="Tip" src="images/icons/tip.png" /></div><div class="admon_content"><p>Just as for the <code class="literal">keyword_marker</code> token filter, rules can be stored
in a file whose location should be specified with the <code class="literal">rules_path</code>
parameter.</p></div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="stemming-in-situ"></a>Stemming in situ</h2></div></div></div><p>For the sake of completeness, we will <a id="id-1.6.6.17.2.1" class="indexterm"></a>
<a id="id-1.6.6.17.2.2" class="indexterm"></a>finish this chapter by explaining how to
index stemmed words into the same field as unstemmed words. As an example,
analyzing the sentence <span class="emphasis"><em>The quick foxes jumped</em></span> would produce the following
terms:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-text">Pos 1: (the)
Pos 2: (quick)
Pos 3: (foxes,fox) <a id="CO164-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
Pos 4: (jumped,jump) <a id="CO164-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO164-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> <a href="#CO164-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The stemmed and unstemmed forms occupy the same position.
</p></td></tr></table></div><div class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><p>Read <a class="xref" href="stemming.html#stemming-in-situ-good-idea" title="Is Stemming in situ a Good Idea">Is Stemming in situ a Good Idea</a> before using this approach.</p></div></div><p>To achieve stemming <span class="emphasis"><em>in situ</em></span>, we will use the
<a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-keyword-repeat-tokenfilter.html" target="_top"><code class="literal">keyword_repeat</code></a>
token filter,<a id="id-1.6.6.17.6.3" class="indexterm"></a> which, like the <code class="literal">keyword_marker</code> token filter (see
<a class="xref" href="stemming.html#preventing-stemming" title="Preventing Stemming">Preventing Stemming</a>), marks each term as a keyword to prevent the subsequent
stemmer from touching it.  However, it also repeats the term in the same
position, and this repeated term <span class="strong"><strong>is</strong></span> stemmed.</p><p>Using the <code class="literal">keyword_repeat</code> token filter alone would result in the following:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-text">Pos 1: (the,the) <a id="CO165-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
Pos 2: (quick,quick) <a id="CO165-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
Pos 3: (foxes,fox)
Pos 4: (jumped,jump)</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO165-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> <a href="#CO165-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The stemmed and unstemmed forms are the same, and so are repeated
    needlessly.
</p></td></tr></table></div><p>To prevent the useless repetition of terms that are the same in their stemmed
and unstemmed forms, we add the
<a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-unique-tokenfilter.html" target="_top"><code class="literal">unique</code></a> token filter<a id="id-1.6.6.17.10.2" class="indexterm"></a> into the mix:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-json">PUT /my_index
{
  "settings": {
    "analysis": {
      "filter": {
        "unique_stem": {
          "type": "unique",
          "only_on_same_position": true <a id="CO166-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
        }
      },
      "analyzer": {
        "in_situ": {
          "tokenizer": "standard",
          "filter": [
            "lowercase",
            "keyword_repeat", <a id="CO166-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
            "porter_stem",
            "unique_stem" <a id="CO166-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
          ]
        }
      }
    }
  }
}</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO166-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The <code class="literal">unique</code> token filter is set to remove duplicate tokens
    only when they occur in the same position.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO166-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The <code class="literal">keyword_repeat</code> token filter must appear before the
    stemmer.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO166-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The <code class="literal">unique_stem</code> filter removes duplicate terms after the
    stemmer has done its work.
</p></td></tr></table></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="stemming-in-situ-good-idea"></a>Is Stemming in situ a Good Idea</h3></div></div></div><p>People like the <a id="id-1.6.6.17.13.2.1" class="indexterm"></a>
<a id="id-1.6.6.17.13.2.2" class="indexterm"></a>
<a id="id-1.6.6.17.13.2.3" class="indexterm"></a>idea of stemming <span class="emphasis"><em>in situ</em></span>: “Why use an unstemmed field
<span class="emphasis"><em>and</em></span> a stemmed field if I can just use one combined field?” But is it a
good idea? The answer is almost always no.  There are two problems.</p><p>The first is the inability to separate exact matches from inexact matches.  In
this chapter, we have seen that words with different meanings are often
conflated to the same stem word: <code class="literal">organs</code> and <code class="literal">organization</code> both stem to
<code class="literal">organ</code>.</p><p>In <a class="xref" href="language-intro.html#using-language-analyzers" title="Using Language Analyzers">Using Language Analyzers</a>, we demonstrated how to combine a query on a
stemmed field (to increase recall) with a query on an unstemmed field (to
improve relevance).<a id="id-1.6.6.17.13.4.2" class="indexterm"></a>
<a id="id-1.6.6.17.13.4.3" class="indexterm"></a>  When the stemmed and unstemmed fields are separate, the
contribution of each field can be tuned by boosting one field over another
(see <a class="xref" href="multi-field-search.html#prioritising-clauses" title="Prioritizing Clauses">Prioritizing Clauses</a>).  If, instead, the stemmed and unstemmed forms
appear in the same field, there is no way to tune your search results.</p><p>The second issue has to do with how the <a id="id-1.6.6.17.13.5.1" class="indexterm"></a>
<a id="id-1.6.6.17.13.5.2" class="indexterm"></a>relevance score is calculated.  In
<a class="xref" href="sorting.html#relevance-intro" title="Relevance가 무엇인가?">Relevance가 무엇인가?</a>, we explained that part of the calculation depends on the
<span class="emphasis"><em>inverse document frequency</em></span> — how often a word appears in all the documents
in our index.<a id="id-1.6.6.17.13.5.5" class="indexterm"></a>
<a id="id-1.6.6.17.13.5.6" class="indexterm"></a>  Using in situ stemming for a document that contains  the text
<code class="literal">jump jumped jumps</code> would result in these terms:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-text">Pos 1: (jump)
Pos 2: (jumped,jump)
Pos 3: (jumps,jump)</pre></div><p>While <code class="literal">jumped</code> and <code class="literal">jumps</code> appear once each and so would have the correct IDF,
<code class="literal">jump</code> appears three times, greatly reducing its value as a search term in
comparison with the unstemmed forms.</p><p>For these reasons, we recommend against using stemming in situ.</p></div></div></div><div class="navfooter"><span class="prev"><a href="token-normalization.html">
              « 
              Normalizing Tokens</a>
           
        </span><span class="next">
           
          <a href="stopwords.html">Stopwords: Performance Versus Precision
               »
            </a></span></div>
<!-- end body -->

            </section>

            <div id="rtpcontainer"
        >
	<h3>Top Videos</h3>
	<ul class="lists">
		<li><a href="https://www.elastic.co/webinars/get-started-with-elasticsearch/?baymax=default&elektra=docs&storm=top-video">Getting Started</a></li>
		<li><a href="http://www.elastic.co/webinars/elasticsearch-performance-optimization-tale-two-tickets/?elektra=docs">Scaling</a></li>
		<li><a href="http://www.elastic.co/webinars/shield-securing-your-data-in-elasticsearch/?elektra=docs">Security</a></li>
	</ul>
</div>


	  	




<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
	<!-- subscribe-newsletter -->
	<div id="subscribe-newsletter">
		<div class="container">
			<div class="row">
				<div class="12u">
					<div class="subscribe-wrapper" id="rtp-newsletter">
						<header>
							<h3>Subscribe to our newsletter</h3>
						</header>
						<div class="subscribe-form">
							<form id="mktoForm_1398" class="container"></form>
							<div class="form_thanks hide">
								
									<p>Thanks for subscribing! We'll keep you updated with new releases.</p>
								
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

  	<!-- Footer -->
	<div id="footer-wrapper">
		<section id="footer" class="container">
			<div class="row">
				<div class="12u">
					<!-- Copyright -->
					<div id="copyright">
	<p>
		© 2016. All Rights Reserved - Elasticsearch
	</p>
	<ul class="links">
		<li>Elasticsearch is a trademark of Elasticsearch BV, registered in the U.S. and in other countries</li>
		<li><a href="/legal/trademarks" id="footer_trademarks">Trademarks</a></li>
		<li><a href="/legal/terms-of-use" id="footer_terms">Terms</a></li>
		<li><a href="/legal/privacy-policy" id="footer_privacy">Privacy</a></li>
	</ul>
	<p>
		Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the <a href="http://www.apache.org/" target="_blank">Apache Software Foundation</a> in the United States and/or other&nbsp;countries.
	</p>
</div><!--<div class="row">
{replace4}
</div>-->
				</div>
			</div>					
		</section>
	</div>
			
	<!-- Social Media -->
	<div id="socialmedia-wrapper">
		<section id="socialmedia" class="container">
			<!-- social icons -->
			<div id="social">
				<ul class="links">
					
						<li class="facebook grayscale"><a href="http://www.facebook.com/elastic.co" target="_blank" id="footer_facebook"></a></li>
					
						<li class="twitter grayscale"><a href="https://www.twitter.com/elastic" target="_blank" id="footer_twitter"></a></li>
					
						<li class="linkedin grayscale"><a href="https://www.linkedin.com/company/elastic-co" target="_blank" id="footer_linkedin"></a></li>
					
						<li class="xing grayscale"><a href="https://www.xing.com/companies/elastic.co" target="_blank" id="footer_xing"></a></li>
					
						<li class="youtube grayscale"><a href="https://www.youtube.com/user/elasticsearch" target="_blank" id="footer_youtube"></a></li>
					
				</ul>
			</div>
		</section>
	</div>


<style type="text/css">
	
		.facebook{background:url("https://static-www.elastic.co/assets/bltda40eebd7c7cae9a/facebook.svg?q=100") no-repeat;}		
	
		.twitter{background:url("https://static-www.elastic.co/assets/bltfd3b1511512f4632/twitter.svg?q=100") no-repeat;}		
	
		.linkedin{background:url("https://static-www.elastic.co/assets/blt6b4f6f8d6b96f814/linkedin.svg?q=100") no-repeat;}		
	
		.xing{background:url("https://static-www.elastic.co/assets/blta76b2ae2b2f10a98/xing.svg?q=100") no-repeat;}		
	
		.youtube{background:url("https://static-www.elastic.co/assets/blt5761648c9581fb53/youtube.svg?q=100") no-repeat;}		
	
</style>

<script>
MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", 1398,function(form){
	form.onSuccess(function(form){
		$('#mktoForm_1398').css('display','none');
		$('#subscribe-newsletter header').hide();
		$('#mktoForm_1398').siblings('.form_thanks').removeClass('hide')
		dataLayer.push({'event': 'mktoFormSubmit'});
	    return false;
  	});
});
</script>	

  	</div>
  	<!-- <div class="preloader">
    	<div class="status"></div>
	</div> -->
  	<style></style>
   	<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";	
</script>
<script src="https://static-www.elastic.co/static/js/jquery.autocomplete.js?q=100"></script>
<script src="https://static-www.elastic.co/static/js/script.js?q=100"></script>


   	
   	
   	
   	<script type="application/ld+json">
	
		
	
	{
	  	"@context": "http://schema.org",
	  	"@type": "Organization",
	  	"name" : "Elastic",
	  	"url": "https://www.elastic.co/",
	  	"logo": "https://www.elastic.co/static/img/elastic-logo-200.png",
		"sameAs" : [ "https://www.facebook.com/elastic.co",
			"https://twitter.com/elastic",
			"https://plus.google.com/105178019064686397293",
			"https://www.youtube.com/user/elasticsearch",
			"https://www.linkedin.com/company/elasticsearch"
		],
	  	"potentialAction": {
	    	"@type": "SearchAction",
	    	"target": "https://www.elastic.co/search?q={query_string}",
	    	"query-input": "required name=query_string"
	  	}
	}
</script>	

            <script type="text/javascript" src="docs.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script type='text/javascript' src='https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js'></script>

            </body>
        


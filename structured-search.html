
<!DOCTYPE HTML>
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Structured Search</title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch: The Definitive Guide" /><link rel="up" href="search-in-depth.html" title="Search in Depth" /><link rel="prev" href="search-in-depth.html" title="Search in Depth" /><link rel="next" href="full-text-search.html" title="Full-Text Search" />
  
 	<meta http-equiv="content-type" content="text/html; charset=utf-8" />

 	<!-- RTP tag --> 
	<script type='text/javascript' async>
	(function(c,h,a,f,i,e){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
	 c[a].a=i;c[a].e=e;var g=h.createElement("script");g.async=true;g.type="text/javascript";
	 g.src=f+'?aid='+i;var b=h.getElementsByTagName("script")[0];b.parentNode.insertBefore(g,b);
	 })(window,document,"rtp","//sjrtp2-cdn.marketo.com/rtp-api/v1/rtp.js","elasticco");
	 
	rtp('send','view');
	rtp('get', 'campaign',true);
	</script>
	<!-- End of RTP tag -->
	
	
 	<link rel="apple-touch-icon" sizes="57x57"  href="https://www.elastic.co/apple-icon-57x57.png?change=123">
<link rel="apple-touch-icon" sizes="60x60"  href="https://www.elastic.co/apple-icon-60x60.png?change=123">
<link rel="apple-touch-icon" sizes="72x72"  href="https://www.elastic.co/apple-icon-72x72.png?change=123">
<link rel="apple-touch-icon" sizes="76x76"  href="https://www.elastic.co/apple-icon-76x76.png?change=123">
<link rel="apple-touch-icon" sizes="114x114"  href="https://www.elastic.co/apple-icon-114x114.png?change=123">
<link rel="apple-touch-icon" sizes="120x120"  href="https://www.elastic.co/apple-icon-120x120.png?change=123">
<link rel="apple-touch-icon" sizes="144x144"  href="https://www.elastic.co/apple-icon-144x144.png?change=123">
<link rel="apple-touch-icon" sizes="152x152"  href="https://www.elastic.co/apple-icon-152x152.png?change=123">
<link rel="apple-touch-icon" sizes="180x180"  href="https://www.elastic.co/apple-icon-180x180.png?change=123">
<link rel="icon" type="image/png" sizes="192x192"   href="https://www.elastic.co/android-icon-192x192.png?change=123">
<link rel="icon" type="image/png" sizes="32x32"  href="https://www.elastic.co/favicon-32x32.png?change=123">
<link rel="icon" type="image/png" sizes="96x96"  href="https://www.elastic.co/favicon-96x96.png?change=123">
<link rel="icon" type="image/png" sizes="16x16"  href="https://www.elastic.co/favicon-16x16.png?change=123">
<link rel="manifest"  href="https://www.elastic.co/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

<!-- DC tags section -->
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
<link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >
<meta name="DC.title" content="Guide template" >

<!-- end DC tags -->

	<meta name="description" content="" />

	<link rel="canonical" href="" />

	<meta property="og:image" content="https://www.elastic.co/static/img/elastic-logo-200.png" />
	


	
	<link type="text/css" rel="stylesheet" href="https://static-www.elastic.co/static/css/skel.css?q=100" />
	<link type="text/css" rel="stylesheet" href="https://static-www.elastic.co/static/css/style.css?q=100" />	
	<script src="https://static-www.elastic.co/static/js/skel.min.js?q=100"></script>
	
		<script type="text/javascript">form_name = "" ; cdn_url="https://static-www.elastic.co";cdn_slug = "100"</script>
	
	<script src="https://static-www.elastic.co/static/js/init.js?q=100"></script>
	<script src="https://static-www.elastic.co/static/js/jquery.min.js?q=100"></script>
	<script src="https://static-www.elastic.co/static/js/jquery.cookie.js?q=100"></script>
	<!--<script type="text/javascript">
	    (function() {
	        var path = '//easy.myfonts.net/v2/js?sid=10336(font-family=Avenir+35+Light)&sid=10338(font-family=Avenir+55+Roman)&sid=10340(font-family=Avenir+85+Heavy)&sid=10344(font-family=Avenir+65+Medium)&key=nAD6PCOPrX',
	            protocol = ('https:' == document.location.protocol ? 'https:' : 'http:'),
	            trial = document.createElement('script');
	        trial.type = 'text/javascript';
	        trial.async = true;
	        trial.src = protocol + path;
	        var head = document.getElementsByTagName("head")[0];
	        head.appendChild(trial);
	    })();
	</script>-->

	
	<link type="text/css" rel="stylesheet"  href="https://www.elastic.co/static/css/prettify.css" />
	<script type="text/javascript"  src="https://www.elastic.co/static/js/prettify.js"></script>



<link rel="stylesheet" type="text/css" href="styles.css" />

</head>
<body >
	<!-- Google Tag Manager -->
	<script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5"
													  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-58RLH5');</script>
	<!-- End Google Tag Manager -->
	
	<div class="header-cont">
		<div id="header-wrapper">
			


	<script  src="https://www.elastic.co/static/js/jquery.tokeninput.js?change=123"></script>
	<link rel="stylesheet" type="text/css"  href="https://www.elastic.co/static/css/token-input.css">

<div class="shortcuts-wrapper">
	<div class="container">
		<!-- Shortcuts -->
		<nav id="shortcuts">
			<ul class="links">
				
					<li class="shortcut-1">
						<a href="/downloads" id="header_downloads" >
							<span class="txt">downloads</span>	
						</a>
					</li>
				
					<li class="shortcut-2">
						<a href="/guide" id="header_guide" >
							<span class="txt">docs</span>	
						</a>
					</li>
				
					<li class="shortcut-3">
						<a href="/subscriptions" id="header_subscriptions" >
							<span class="txt">support</span>	
						</a>
					</li>
				
					<li class="shortcut-4">
						<a href="https://discuss.elastic.co" id="header_discuss" target="_blank">
							<span class="txt">discuss</span>	
						</a>
					</li>
				
					<li class="shortcut-5">
						<a href="/contact" id="header_contact" >
							<span class="txt">contact</span>	
						</a>
					</li>
				
			</ul>
		</nav>
		<div class="languages-wrapper">
			<div class="global-language">
				<ul class="language">
					<!-- <li class="active-language"><a class="active" href="#">EN</a></li> -->
					
						<li><a href="#">EN</a></li>
					
				</ul>
				<ul class="all-languages">
					
						
						<li><a href="/guide_template">English</a></li>
					
						
						<li><a href="/fr/guide_template">French</a></li>
					
						
						<li><a href="/de/guide_template">German</a></li>
					
						
						<li><a href="/jp/guide_template">Japanese</a></li>
					
						
						<li><a href="/kr/guide_template">Korean</a></li>
					
				</ul>
			</div>
		</div>
	</div>
</div>
<div class="container w100">
	<div class="row 0%">
		<div class="12u">
			

<section class="first-container desktop-main-nav">
	<div class="row 0%">
		<div class="11u 6u(small) 6u(xsmall)">
			<div id="elastic">
				<h1>
					<a href="/">
						<div id="elastic-logo">
						<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 400 130" preserveAspectRatio="xMinYMin meet" enable-background="new 0 0 400 130" xml:space="preserve">
    <g>
    	<g>
    		<path fill="#FFFFFF" d="M122.5,67.8c0-10.3-6.4-19.2-15.9-22.7c0.4-2.2,0.6-4.3,0.6-6.6c0-19.1-15.5-34.6-34.6-34.6
    			c-11.1,0-21.5,5.3-28,14.4c-3.2-2.5-7.1-3.8-11.2-3.8c-10.1,0-18.4,8.2-18.4,18.4c0,2.2,0.4,4.4,1.1,6.4C6.5,42.6,0,51.8,0,62
    			c0,10.3,6.4,19.3,16,22.8c-0.4,2.1-0.6,4.3-0.6,6.6c0,19,15.5,34.5,34.5,34.5c11.2,0,21.5-5.4,28-14.4c3.2,2.5,7.2,3.9,11.3,3.9
    			c10.1,0,18.4-8.2,18.4-18.4c0-2.2-0.4-4.4-1.1-6.4C115.9,87.2,122.5,78,122.5,67.8z"/>
    		<g>
    			<path fill="#F4BD19" d="M47.9,56.3l27.3,12.5l27.6-24.2c0.4-2,0.6-4,0.6-6.1c0-17-13.8-30.8-30.8-30.8c-10.2,0-19.7,5-25.4,13.4
    				l-4.6,23.8L47.9,56.3z"/>
    		</g>
    		<g>
    			<path fill="#3CBEB1" d="M19.6,85.2c-0.4,2-0.6,4.1-0.6,6.2c0,17,13.9,30.9,30.9,30.9c10.3,0,19.8-5.1,25.6-13.5L80,85l-6.1-11.6
    				L46.5,60.9L19.6,85.2z"/>
    		</g>
    		<g>
    			<path fill="#E9478C" d="M19.4,37.9l18.7,4.4L42.3,21c-2.6-2-5.7-3-9-3c-8.1,0-14.8,6.6-14.8,14.8C18.5,34.5,18.8,36.3,19.4,37.9z
    				"/>
    		</g>
    		<g>
    			<path fill="#2C458F" d="M17.8,42.4C9.4,45.1,3.6,53.2,3.6,62c0,8.6,5.3,16.3,13.3,19.3l26.3-23.8l-4.8-10.3L17.8,42.4z"/>
    		</g>
    		<g>
    			<path fill="#95C63D" d="M80.3,108.7c2.6,2,5.7,3.1,8.9,3.1c8.1,0,14.8-6.6,14.8-14.8c0-1.8-0.3-3.5-0.9-5.1l-18.7-4.4L80.3,108.7
    				z"/>
    		</g>
    		<g>
    			<path fill="#176655" d="M84.1,82.6l20.6,4.8c8.4-2.8,14.2-10.8,14.2-19.6c0-8.6-5.3-16.2-13.3-19.3l-27,23.6L84.1,82.6z"/>
    		</g>
    	</g>
    	<path d="M162.8,76.3c0,0.1,0,0.6,0.1,1.4c0.1,0.8,0.3,1.8,0.6,3c0.3,1.1,0.8,2.4,1.4,3.7c0.6,1.3,1.4,2.5,2.5,3.6
    		c1,1.1,2.3,2,3.8,2.7c1.5,0.7,3.4,1.1,5.6,1.1c1.8,0,3.3-0.1,4.6-0.4c1.3-0.3,2.4-0.7,3.4-1.3c1-0.6,1.9-1.3,2.7-2.2
    		c0.8-0.9,1.6-1.9,2.4-3.1c0.5-0.7,1-1.2,1.6-1.5c0.6-0.3,1.2-0.4,1.8-0.4c1,0,2,0.4,2.8,1.1c0.9,0.7,1.3,1.7,1.3,2.8
    		c0,0.7-0.4,1.7-1.1,3.1c-0.7,1.4-1.9,2.8-3.6,4.1c-1.6,1.4-3.7,2.6-6.3,3.6c-2.6,1-5.7,1.5-9.5,1.5c-3.8,0-7.2-0.7-10.2-2.1
    		c-3-1.4-5.5-3.2-7.5-5.6c-2-2.3-3.6-5-4.7-8.1c-1.1-3.1-1.6-6.3-1.6-9.7c0-3.5,0.5-6.8,1.6-9.9c1.1-3.1,2.7-5.8,4.7-8.1
    		c2-2.3,4.5-4.1,7.4-5.5c2.9-1.3,6.1-2,9.6-2c3.3,0,6.3,0.5,9.2,1.5c2.8,1,5.3,2.4,7.4,4.3c2.1,1.9,3.7,4.1,5,6.8
    		c1.2,2.7,1.8,5.8,1.8,9.2c0,2.1-0.5,3.7-1.6,4.8c-1,1.1-2.2,1.6-3.6,1.6H162.8z M170.9,56.4c-1.5,0.6-2.7,1.4-3.7,2.4
    		c-1,0.9-1.8,2-2.4,3.1c-0.6,1.1-1,2.2-1.3,3.2c-0.3,1-0.5,1.8-0.5,2.5c-0.1,0.7-0.1,1.1-0.1,1.2h27.9c0-1.8-0.3-3.5-0.9-5.1
    		c-0.6-1.6-1.5-3-2.6-4.3c-1.2-1.2-2.7-2.2-4.5-3c-1.8-0.7-4-1.1-6.5-1.1C174.2,55.5,172.4,55.8,170.9,56.4z"/>
    	<path d="M214.3,94.6c0,1.3-0.4,2.3-1.3,3.2c-0.9,0.9-1.9,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2V35.1
    		c0-1.3,0.4-2.3,1.3-3.2c0.9-0.9,2-1.3,3.2-1.3c1.3,0,2.3,0.4,3.2,1.3c0.9,0.9,1.3,1.9,1.3,3.2V94.6z"/>
    	<path d="M229.8,63.5c-0.6,0.3-1.2,0.5-1.9,0.5c-1.2,0-2.2-0.4-3.2-1.1c-1-0.7-1.5-1.8-1.5-3.1c0-0.5,0.1-1.1,0.4-1.9
    		c0.5-1.2,1.2-2.4,2.1-3.6c0.9-1.2,2-2.2,3.5-3.1s3.3-1.7,5.4-2.2c2.2-0.5,4.8-0.8,7.9-0.8c5.9,0,10.5,1.2,14,3.5
    		c3.5,2.3,5.2,5.8,5.2,10.3v32.8c0,1.3-0.4,2.3-1.3,3.2c-0.9,0.9-1.9,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2v-2
    		c-1.2,2-4.7,4.5-7.5,5.3c-2.8,0.8-5.7,1.2-8.8,1.2c-2,0-3.9-0.3-5.9-0.8c-2-0.5-3.8-1.4-5.3-2.5c-1.6-1.1-2.9-2.6-3.8-4.3
    		c-1-1.7-1.5-3.8-1.5-6.2c0-2.8,0.5-5.7,1.6-7.5c1.1-1.9,2.6-3.4,4.4-4.6c1.8-1.2,3.9-2.1,6.3-2.8c2.4-0.6,4.9-1.1,7.5-1.4
    		c3-0.3,5.4-0.7,7.2-1.2c1.7-0.4,3-0.9,3.9-1.5c0.9-0.6,1.4-1.2,1.6-2c0.2-0.7,0.3-1.6,0.3-2.5c0-1.1-0.3-2-0.9-2.8
    		c-0.6-0.8-1.4-1.5-2.4-2c-1-0.5-2.1-0.9-3.3-1.2s-2.4-0.4-3.5-0.4c-2.1,0-3.7,0.2-5,0.5c-1.3,0.3-2.3,0.8-3.1,1.4
    		c-0.8,0.6-1.5,1.3-1.9,2.1c-0.5,0.8-0.9,1.6-1.3,2.5C230.9,62.6,230.4,63.1,229.8,63.5z M250.6,74.4c-1.1,0.3-2.4,0.6-3.8,0.8
    		c-1.5,0.2-3,0.4-4.6,0.6c-1.6,0.2-3.1,0.5-4.6,0.9c-1.5,0.3-2.8,0.8-4,1.5c-1.2,0.7-2.2,1.5-2.9,2.5c-0.7,1-1.1,3-1.1,4.6
    		c0,1.3,0.3,2.3,0.8,3.1c0.5,0.8,1.2,1.5,2.1,2c0.9,0.5,1.8,0.8,2.9,1c1.1,0.2,2.2,0.3,3.3,0.3c1.7,0,3.3-0.2,5-0.6
    		c1.7-0.4,3.2-1,4.5-1.9s2.4-2,3.3-3.5c0.8-1.4,1.2-3.8,1.2-5.9v-6.1L250.6,74.4z"/>
    	<path d="M307.6,90.9c-1.1,2-2.7,3.6-4.6,4.8s-4.1,2.1-6.6,2.7c-2.5,0.5-5.2,0.8-7.9,0.8c-3.9,0-7.2-0.6-9.9-1.8
    		c-2.7-1.2-4.9-2.6-6.5-4.1c-1.7-1.6-2.9-3.1-3.7-4.7c-0.7-1.6-1.1-2.7-1.1-3.5c0-1.3,0.5-2.4,1.4-3.2c0.9-0.8,2-1.2,3.1-1.2
    		c0.7,0,1.3,0.2,2,0.6c0.6,0.4,1.1,1,1.5,1.9c1,2.5,2.5,4.5,4.7,6.2c2.2,1.7,5.2,2.5,9.3,2.5c1.8,0,3.4-0.2,4.7-0.6
    		c1.3-0.4,2.4-1,3.2-1.7c0.8-0.7,1.4-1.5,1.9-2.4c0.4-0.9,0.6-1.8,0.6-2.8c0-2-0.8-3.4-2.3-4.4c-1.5-1-3.5-1.7-5.8-2.3
    		c-2.3-0.6-4.8-1.1-7.5-1.6c-2.7-0.5-5.2-1.2-7.5-2.2c-2.3-0.9-4.2-2.3-5.8-4c-1.6-1.8-2.3-4.2-2.3-7.3c0-4.5,1.6-8,4.9-10.5
    		c3.3-2.5,7.8-3.8,13.7-3.8c3.3,0,6,0.3,8.3,1c2.2,0.7,4.1,1.6,5.5,2.7c0.6,0.5,1.2,1,1.8,1.7c0.6,0.7,1.2,1.4,1.8,2.2
    		c0.6,0.8,1,1.5,1.4,2.3c0.4,0.7,0.6,1.4,0.6,2c0,1.3-0.5,2.4-1.6,3.1c-1,0.8-2.2,1.2-3.4,1.2c-0.7,0-1.5-0.1-2.1-0.6
    		c-0.6-0.6-1-1.3-1.3-1.8c-0.5-1.1-1.1-2-1.7-2.8c-0.5-0.8-1.2-1.5-2-2c-0.8-0.5-1.8-0.9-3-1.2c-1.2-0.3-2.7-0.4-4.4-0.4
    		c-3.5,0-6,0.6-7.6,1.7c-1.6,1.1-2.4,2.5-2.4,4.2c0,1.3,0.5,2.3,1.4,3.1c0.9,0.8,2.1,1.4,3.7,2c1.5,0.5,3.3,1,5.2,1.4
    		c2,0.4,3.9,0.8,5.9,1.3c2,0.5,4,1.1,5.9,1.7c1.9,0.7,3.7,1.6,5.2,2.7c1.5,1.1,2.7,2.5,3.7,4.1c0.9,1.6,1.4,3.6,1.4,6
    		C309.4,86.4,308.8,88.9,307.6,90.9z"/>
    	<path d="M327.4,48.8h4.7c1.1,0,2,0.4,2.8,1.2c0.8,0.8,1.2,1.7,1.2,2.8c0,1.1-0.4,2.1-1.2,2.8s-1.7,1.1-2.8,1.1h-4.7v37.9
    		c0,1.3-0.4,2.3-1.3,3.2c-0.9,0.9-2,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2V56.7h-4.6c-1.1,0-2-0.4-2.8-1.1
    		c-0.8-0.7-1.2-1.7-1.2-2.8c0-1.1,0.4-2,1.2-2.8c0.8-0.8,1.7-1.2,2.8-1.2h4.6V39c0-1.3,0.4-2.3,1.3-3.2s1.9-1.3,3.2-1.3
    		c1.3,0,2.3,0.4,3.2,1.3s1.3,1.9,1.3,3.2V48.8z"/>
    	<path d="M341.5,32.1c1-1,2.2-1.5,3.7-1.5c1.4,0,2.6,0.5,3.6,1.5c1,1,1.5,2.2,1.5,3.6c0,1.4-0.5,2.6-1.5,3.6c-1,1-2.2,1.5-3.6,1.5
    		c-1.4,0-2.7-0.5-3.7-1.5c-1-1-1.5-2.2-1.5-3.6C340,34.2,340.5,33,341.5,32.1z M349.6,94.6c0,1.3-0.4,2.3-1.3,3.2
    		c-0.9,0.9-1.9,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2V53.3c0-1.3,0.4-2.3,1.3-3.2c0.9-0.9,2-1.3,3.2-1.3
    		c1.3,0,2.3,0.4,3.2,1.3c0.9,0.9,1.3,2,1.3,3.2V94.6z"/>
    	<path d="M369.1,97.3c-2.9-1.2-5.4-3-7.5-5.2c-2.1-2.2-3.8-4.9-5-8.1c-1.2-3.1-1.8-6.6-1.8-10.4c0-3.8,0.6-7.3,1.8-10.5
    		c1.2-3.1,2.9-5.8,5-8.1c2.1-2.2,4.6-4,7.5-5.2c2.9-1.2,6-1.9,9.4-1.9c3.4,0,6.4,0.5,9,1.5c2.5,1,4.6,2.2,6.2,3.6
    		c1.6,1.4,3.2,2.9,4,4.4c0.5,0.9,0.9,1.5,0.9,2.6c0,1.3-0.5,2.3-1.4,3.1c-0.9,0.7-2,1.1-3.1,1.1c-0.8,0-1.6-0.2-2.2-0.6
    		c-0.7-0.4-1.2-1.3-1.8-2.1c-1-1.4-0.5-0.6-1.1-1.5c-0.7-0.9-1.5-1.6-2.5-2.3c-1-0.7-2.2-1.2-3.5-1.6c-1.4-0.4-2.8-0.6-4.4-0.6
    		c-1.8,0-3.5,0.3-5.3,1c-1.8,0.7-3.3,1.7-4.7,3.1c-1.4,1.4-2.5,3.3-3.4,5.6s-1.3,5.1-1.3,8.4c0,3.3,0.4,6.1,1.3,8.4s2,4.2,3.4,5.6
    		c1.4,1.4,3,2.5,4.7,3.1c1.8,0.7,3.5,1,5.3,1c1.6,0,3.1-0.2,4.4-0.6c1.3-0.4,2.5-0.9,3.5-1.6c1-0.7,1.8-1.5,2.5-2.3
    		c0.7-0.9,1.1-1.8,1.4-2.7c0.3-1,0.8-1.7,1.5-2.1c0.7-0.4,1.4-0.6,2.2-0.6c1.1,0,2.2,0.4,3.1,1.1c0.9,0.7,1.4,1.7,1.4,3
    		c0,0.6-0.3,1.7-0.9,3.1c-0.6,1.5-1.6,2.9-3.1,4.4c-1.5,1.5-3.5,2.8-6.2,4c-2.6,1.1-6,1.7-10,1.7C375.1,99.2,372,98.5,369.1,97.3z"
    		/>
    </g>
</svg>
						</div>
					</a>
				</h1>
			</div>
			<nav id="nav">
				<ul>
					
					<li>
						
							
						
						<a href="/products" id="nav_products"   >Products</a>
						
						<ul class="dropdown">
							
								<li><a href="/products/elasticsearch" id="nav_elasticsearch" >elasticsearch</a></li>								
							
								<li><a href="/found" id="nav_hosted-elasticsearch" >elasticsearch as a service</a></li>								
							
								<li><a href="/products/logstash" id="nav_logstash" >logstash</a></li>								
							
								<li><a href="/products/kibana" id="nav_kibana" >kibana</a></li>								
							
								<li><a href="/products/beats" id="nav_beats" >beats</a></li>								
							
								<li><a href="/products/watcher" id="nav_watcher" >watcher</a></li>								
							
								<li><a href="/products/shield" id="nav_shield" >shield</a></li>								
							
								<li><a href="/products/marvel" id="nav_marvel" >marvel</a></li>								
							
								<li><a href="/products/hadoop" id="nav_hadoop" >hadoop</a></li>								
							
								<li><a href="/downloads" id="nav_downloads" >downloads</a></li>								
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/subscriptions" id="nav_subscriptions"   >Subscriptions</a>
						
						<ul class="dropdown">
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/learn" id="nav_learn"   >Learn</a>
						
						<ul class="dropdown">
							
								<li><a href="/guide" id="nav_guide" >docs</a></li>								
							
								<li><a href="/videos" id="nav_videos" >videos</a></li>								
							
								<li><a href="/training" id="nav_training" >training</a></li>								
							
								<li><a href="/services" id="nav_services" >services</a></li>								
							
								<li><a href="/blog" id="nav_learn_blog" >blog</a></li>								
							
								<li><a href="/elasticon" id="nav_learn_elasticon" >elastic{ON}</a></li>								
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/community" id="nav_community"   >Community</a>
						
						<ul class="dropdown">
							
								<li><a href="/community/meetups" id="nav_meetups" >meetups</a></li>								
							
								<li><a href="https://discuss.elastic.co" id="nav_discuss" target="_blank">discuss</a></li>								
							
								<li><a href="/community/codeofconduct" id="nav_codeofconduct" >code of conduct</a></li>								
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/use-cases" id="nav_usecases"   >Use Cases</a>
						
						<ul class="dropdown">
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/blog" id="nav_blog"   >Blog</a>
						
						<ul class="dropdown">
							
								<li><a href="/blog/category/news" id="blog_news" >News</a></li>								
							
								<li><a href="/blog/category/engineering" id="blog_engineering" >Engineering</a></li>								
							
								<li><a href="/blog/category/user-stories" id="blog_user-stories" >User Stories</a></li>								
							
								<li><a href="/blog/category/releases" id="blog_releases" >Releases</a></li>								
							
								<li><a href="/blog/archive" id="blog_archive" >Archive</a></li>								
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/about" id="nav_about"   >About</a>
						
						<ul class="dropdown">
							
								<li><a href="/about/leadership" id="nav_leadership" >leadership</a></li>								
							
								<li><a href="/about/board" id="nav_board" >board of directors</a></li>								
							
								<li><a href="/about/careers" id="nav_careers" >careers</a></li>								
							
								<li><a href="/about/partners" id="nav_partners" >partners</a></li>								
							
								<li><a href="/about/press" id="nav_press" >press</a></li>								
								
						</ul>							
					</li>
					
				</ul>
			</nav>			
			<!-- Searchbar Input box -->
			 <!-- <form method="get" action="/search" name="searchForm" class="header-search-form" id="searchMobileFrm">
			   <input type="text" id="search-header-autocomplete" name="q" class="form-control global-input" placeholder="elastic{search}">
			</form>
			<div class="mobile-auto-complete"></div> -->  
		</div>
		<div class="1u 6u(small) 6u(xsmall)">
			<div id="searchbar">
				<a href="#" class="button icon"></a>
			</div>
			<!-- <div class="nav-auto-complete"></div> -->
		</div>
	</div>
</section>
<div class="mobile-menu-wrapper">
	<div class="row 0%">
		<div class="8u 6u(small) 6u(xsmall)">
			<div id="elastic">
				<h1>
					<a href="/">
						<div id="elastic-logo">
						<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 400 130" preserveAspectRatio="xMinYMin meet" enable-background="new 0 0 400 130" xml:space="preserve">
    <g>
    	<g>
    		<path fill="#FFFFFF" d="M122.5,67.8c0-10.3-6.4-19.2-15.9-22.7c0.4-2.2,0.6-4.3,0.6-6.6c0-19.1-15.5-34.6-34.6-34.6
    			c-11.1,0-21.5,5.3-28,14.4c-3.2-2.5-7.1-3.8-11.2-3.8c-10.1,0-18.4,8.2-18.4,18.4c0,2.2,0.4,4.4,1.1,6.4C6.5,42.6,0,51.8,0,62
    			c0,10.3,6.4,19.3,16,22.8c-0.4,2.1-0.6,4.3-0.6,6.6c0,19,15.5,34.5,34.5,34.5c11.2,0,21.5-5.4,28-14.4c3.2,2.5,7.2,3.9,11.3,3.9
    			c10.1,0,18.4-8.2,18.4-18.4c0-2.2-0.4-4.4-1.1-6.4C115.9,87.2,122.5,78,122.5,67.8z"/>
    		<g>
    			<path fill="#F4BD19" d="M47.9,56.3l27.3,12.5l27.6-24.2c0.4-2,0.6-4,0.6-6.1c0-17-13.8-30.8-30.8-30.8c-10.2,0-19.7,5-25.4,13.4
    				l-4.6,23.8L47.9,56.3z"/>
    		</g>
    		<g>
    			<path fill="#3CBEB1" d="M19.6,85.2c-0.4,2-0.6,4.1-0.6,6.2c0,17,13.9,30.9,30.9,30.9c10.3,0,19.8-5.1,25.6-13.5L80,85l-6.1-11.6
    				L46.5,60.9L19.6,85.2z"/>
    		</g>
    		<g>
    			<path fill="#E9478C" d="M19.4,37.9l18.7,4.4L42.3,21c-2.6-2-5.7-3-9-3c-8.1,0-14.8,6.6-14.8,14.8C18.5,34.5,18.8,36.3,19.4,37.9z
    				"/>
    		</g>
    		<g>
    			<path fill="#2C458F" d="M17.8,42.4C9.4,45.1,3.6,53.2,3.6,62c0,8.6,5.3,16.3,13.3,19.3l26.3-23.8l-4.8-10.3L17.8,42.4z"/>
    		</g>
    		<g>
    			<path fill="#95C63D" d="M80.3,108.7c2.6,2,5.7,3.1,8.9,3.1c8.1,0,14.8-6.6,14.8-14.8c0-1.8-0.3-3.5-0.9-5.1l-18.7-4.4L80.3,108.7
    				z"/>
    		</g>
    		<g>
    			<path fill="#176655" d="M84.1,82.6l20.6,4.8c8.4-2.8,14.2-10.8,14.2-19.6c0-8.6-5.3-16.2-13.3-19.3l-27,23.6L84.1,82.6z"/>
    		</g>
    	</g>
    	<path d="M162.8,76.3c0,0.1,0,0.6,0.1,1.4c0.1,0.8,0.3,1.8,0.6,3c0.3,1.1,0.8,2.4,1.4,3.7c0.6,1.3,1.4,2.5,2.5,3.6
    		c1,1.1,2.3,2,3.8,2.7c1.5,0.7,3.4,1.1,5.6,1.1c1.8,0,3.3-0.1,4.6-0.4c1.3-0.3,2.4-0.7,3.4-1.3c1-0.6,1.9-1.3,2.7-2.2
    		c0.8-0.9,1.6-1.9,2.4-3.1c0.5-0.7,1-1.2,1.6-1.5c0.6-0.3,1.2-0.4,1.8-0.4c1,0,2,0.4,2.8,1.1c0.9,0.7,1.3,1.7,1.3,2.8
    		c0,0.7-0.4,1.7-1.1,3.1c-0.7,1.4-1.9,2.8-3.6,4.1c-1.6,1.4-3.7,2.6-6.3,3.6c-2.6,1-5.7,1.5-9.5,1.5c-3.8,0-7.2-0.7-10.2-2.1
    		c-3-1.4-5.5-3.2-7.5-5.6c-2-2.3-3.6-5-4.7-8.1c-1.1-3.1-1.6-6.3-1.6-9.7c0-3.5,0.5-6.8,1.6-9.9c1.1-3.1,2.7-5.8,4.7-8.1
    		c2-2.3,4.5-4.1,7.4-5.5c2.9-1.3,6.1-2,9.6-2c3.3,0,6.3,0.5,9.2,1.5c2.8,1,5.3,2.4,7.4,4.3c2.1,1.9,3.7,4.1,5,6.8
    		c1.2,2.7,1.8,5.8,1.8,9.2c0,2.1-0.5,3.7-1.6,4.8c-1,1.1-2.2,1.6-3.6,1.6H162.8z M170.9,56.4c-1.5,0.6-2.7,1.4-3.7,2.4
    		c-1,0.9-1.8,2-2.4,3.1c-0.6,1.1-1,2.2-1.3,3.2c-0.3,1-0.5,1.8-0.5,2.5c-0.1,0.7-0.1,1.1-0.1,1.2h27.9c0-1.8-0.3-3.5-0.9-5.1
    		c-0.6-1.6-1.5-3-2.6-4.3c-1.2-1.2-2.7-2.2-4.5-3c-1.8-0.7-4-1.1-6.5-1.1C174.2,55.5,172.4,55.8,170.9,56.4z"/>
    	<path d="M214.3,94.6c0,1.3-0.4,2.3-1.3,3.2c-0.9,0.9-1.9,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2V35.1
    		c0-1.3,0.4-2.3,1.3-3.2c0.9-0.9,2-1.3,3.2-1.3c1.3,0,2.3,0.4,3.2,1.3c0.9,0.9,1.3,1.9,1.3,3.2V94.6z"/>
    	<path d="M229.8,63.5c-0.6,0.3-1.2,0.5-1.9,0.5c-1.2,0-2.2-0.4-3.2-1.1c-1-0.7-1.5-1.8-1.5-3.1c0-0.5,0.1-1.1,0.4-1.9
    		c0.5-1.2,1.2-2.4,2.1-3.6c0.9-1.2,2-2.2,3.5-3.1s3.3-1.7,5.4-2.2c2.2-0.5,4.8-0.8,7.9-0.8c5.9,0,10.5,1.2,14,3.5
    		c3.5,2.3,5.2,5.8,5.2,10.3v32.8c0,1.3-0.4,2.3-1.3,3.2c-0.9,0.9-1.9,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2v-2
    		c-1.2,2-4.7,4.5-7.5,5.3c-2.8,0.8-5.7,1.2-8.8,1.2c-2,0-3.9-0.3-5.9-0.8c-2-0.5-3.8-1.4-5.3-2.5c-1.6-1.1-2.9-2.6-3.8-4.3
    		c-1-1.7-1.5-3.8-1.5-6.2c0-2.8,0.5-5.7,1.6-7.5c1.1-1.9,2.6-3.4,4.4-4.6c1.8-1.2,3.9-2.1,6.3-2.8c2.4-0.6,4.9-1.1,7.5-1.4
    		c3-0.3,5.4-0.7,7.2-1.2c1.7-0.4,3-0.9,3.9-1.5c0.9-0.6,1.4-1.2,1.6-2c0.2-0.7,0.3-1.6,0.3-2.5c0-1.1-0.3-2-0.9-2.8
    		c-0.6-0.8-1.4-1.5-2.4-2c-1-0.5-2.1-0.9-3.3-1.2s-2.4-0.4-3.5-0.4c-2.1,0-3.7,0.2-5,0.5c-1.3,0.3-2.3,0.8-3.1,1.4
    		c-0.8,0.6-1.5,1.3-1.9,2.1c-0.5,0.8-0.9,1.6-1.3,2.5C230.9,62.6,230.4,63.1,229.8,63.5z M250.6,74.4c-1.1,0.3-2.4,0.6-3.8,0.8
    		c-1.5,0.2-3,0.4-4.6,0.6c-1.6,0.2-3.1,0.5-4.6,0.9c-1.5,0.3-2.8,0.8-4,1.5c-1.2,0.7-2.2,1.5-2.9,2.5c-0.7,1-1.1,3-1.1,4.6
    		c0,1.3,0.3,2.3,0.8,3.1c0.5,0.8,1.2,1.5,2.1,2c0.9,0.5,1.8,0.8,2.9,1c1.1,0.2,2.2,0.3,3.3,0.3c1.7,0,3.3-0.2,5-0.6
    		c1.7-0.4,3.2-1,4.5-1.9s2.4-2,3.3-3.5c0.8-1.4,1.2-3.8,1.2-5.9v-6.1L250.6,74.4z"/>
    	<path d="M307.6,90.9c-1.1,2-2.7,3.6-4.6,4.8s-4.1,2.1-6.6,2.7c-2.5,0.5-5.2,0.8-7.9,0.8c-3.9,0-7.2-0.6-9.9-1.8
    		c-2.7-1.2-4.9-2.6-6.5-4.1c-1.7-1.6-2.9-3.1-3.7-4.7c-0.7-1.6-1.1-2.7-1.1-3.5c0-1.3,0.5-2.4,1.4-3.2c0.9-0.8,2-1.2,3.1-1.2
    		c0.7,0,1.3,0.2,2,0.6c0.6,0.4,1.1,1,1.5,1.9c1,2.5,2.5,4.5,4.7,6.2c2.2,1.7,5.2,2.5,9.3,2.5c1.8,0,3.4-0.2,4.7-0.6
    		c1.3-0.4,2.4-1,3.2-1.7c0.8-0.7,1.4-1.5,1.9-2.4c0.4-0.9,0.6-1.8,0.6-2.8c0-2-0.8-3.4-2.3-4.4c-1.5-1-3.5-1.7-5.8-2.3
    		c-2.3-0.6-4.8-1.1-7.5-1.6c-2.7-0.5-5.2-1.2-7.5-2.2c-2.3-0.9-4.2-2.3-5.8-4c-1.6-1.8-2.3-4.2-2.3-7.3c0-4.5,1.6-8,4.9-10.5
    		c3.3-2.5,7.8-3.8,13.7-3.8c3.3,0,6,0.3,8.3,1c2.2,0.7,4.1,1.6,5.5,2.7c0.6,0.5,1.2,1,1.8,1.7c0.6,0.7,1.2,1.4,1.8,2.2
    		c0.6,0.8,1,1.5,1.4,2.3c0.4,0.7,0.6,1.4,0.6,2c0,1.3-0.5,2.4-1.6,3.1c-1,0.8-2.2,1.2-3.4,1.2c-0.7,0-1.5-0.1-2.1-0.6
    		c-0.6-0.6-1-1.3-1.3-1.8c-0.5-1.1-1.1-2-1.7-2.8c-0.5-0.8-1.2-1.5-2-2c-0.8-0.5-1.8-0.9-3-1.2c-1.2-0.3-2.7-0.4-4.4-0.4
    		c-3.5,0-6,0.6-7.6,1.7c-1.6,1.1-2.4,2.5-2.4,4.2c0,1.3,0.5,2.3,1.4,3.1c0.9,0.8,2.1,1.4,3.7,2c1.5,0.5,3.3,1,5.2,1.4
    		c2,0.4,3.9,0.8,5.9,1.3c2,0.5,4,1.1,5.9,1.7c1.9,0.7,3.7,1.6,5.2,2.7c1.5,1.1,2.7,2.5,3.7,4.1c0.9,1.6,1.4,3.6,1.4,6
    		C309.4,86.4,308.8,88.9,307.6,90.9z"/>
    	<path d="M327.4,48.8h4.7c1.1,0,2,0.4,2.8,1.2c0.8,0.8,1.2,1.7,1.2,2.8c0,1.1-0.4,2.1-1.2,2.8s-1.7,1.1-2.8,1.1h-4.7v37.9
    		c0,1.3-0.4,2.3-1.3,3.2c-0.9,0.9-2,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2V56.7h-4.6c-1.1,0-2-0.4-2.8-1.1
    		c-0.8-0.7-1.2-1.7-1.2-2.8c0-1.1,0.4-2,1.2-2.8c0.8-0.8,1.7-1.2,2.8-1.2h4.6V39c0-1.3,0.4-2.3,1.3-3.2s1.9-1.3,3.2-1.3
    		c1.3,0,2.3,0.4,3.2,1.3s1.3,1.9,1.3,3.2V48.8z"/>
    	<path d="M341.5,32.1c1-1,2.2-1.5,3.7-1.5c1.4,0,2.6,0.5,3.6,1.5c1,1,1.5,2.2,1.5,3.6c0,1.4-0.5,2.6-1.5,3.6c-1,1-2.2,1.5-3.6,1.5
    		c-1.4,0-2.7-0.5-3.7-1.5c-1-1-1.5-2.2-1.5-3.6C340,34.2,340.5,33,341.5,32.1z M349.6,94.6c0,1.3-0.4,2.3-1.3,3.2
    		c-0.9,0.9-1.9,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2V53.3c0-1.3,0.4-2.3,1.3-3.2c0.9-0.9,2-1.3,3.2-1.3
    		c1.3,0,2.3,0.4,3.2,1.3c0.9,0.9,1.3,2,1.3,3.2V94.6z"/>
    	<path d="M369.1,97.3c-2.9-1.2-5.4-3-7.5-5.2c-2.1-2.2-3.8-4.9-5-8.1c-1.2-3.1-1.8-6.6-1.8-10.4c0-3.8,0.6-7.3,1.8-10.5
    		c1.2-3.1,2.9-5.8,5-8.1c2.1-2.2,4.6-4,7.5-5.2c2.9-1.2,6-1.9,9.4-1.9c3.4,0,6.4,0.5,9,1.5c2.5,1,4.6,2.2,6.2,3.6
    		c1.6,1.4,3.2,2.9,4,4.4c0.5,0.9,0.9,1.5,0.9,2.6c0,1.3-0.5,2.3-1.4,3.1c-0.9,0.7-2,1.1-3.1,1.1c-0.8,0-1.6-0.2-2.2-0.6
    		c-0.7-0.4-1.2-1.3-1.8-2.1c-1-1.4-0.5-0.6-1.1-1.5c-0.7-0.9-1.5-1.6-2.5-2.3c-1-0.7-2.2-1.2-3.5-1.6c-1.4-0.4-2.8-0.6-4.4-0.6
    		c-1.8,0-3.5,0.3-5.3,1c-1.8,0.7-3.3,1.7-4.7,3.1c-1.4,1.4-2.5,3.3-3.4,5.6s-1.3,5.1-1.3,8.4c0,3.3,0.4,6.1,1.3,8.4s2,4.2,3.4,5.6
    		c1.4,1.4,3,2.5,4.7,3.1c1.8,0.7,3.5,1,5.3,1c1.6,0,3.1-0.2,4.4-0.6c1.3-0.4,2.5-0.9,3.5-1.6c1-0.7,1.8-1.5,2.5-2.3
    		c0.7-0.9,1.1-1.8,1.4-2.7c0.3-1,0.8-1.7,1.5-2.1c0.7-0.4,1.4-0.6,2.2-0.6c1.1,0,2.2,0.4,3.1,1.1c0.9,0.7,1.4,1.7,1.4,3
    		c0,0.6-0.3,1.7-0.9,3.1c-0.6,1.5-1.6,2.9-3.1,4.4c-1.5,1.5-3.5,2.8-6.2,4c-2.6,1.1-6,1.7-10,1.7C375.1,99.2,372,98.5,369.1,97.3z"
    		/>
    </g>
</svg>
						</div>
					</a>
				</h1>
			</div>
		</div>
		<div class="4u 6u(small) 6u(xsmall) text-right">
			<!-- <div class="mobile-menu-wrapper"> -->
				<ul class="m-shortcuts">
					
					<li><a href="#" class="m-search" id="header-search"></a></li>
					
					<li><a href="/guide" class="m-docs" id="mobile-docs"></a></li>
					
					<li><a href="/contact" class="m-contact" id="mobile-contact"></a></li>
					
				</ul>	
				<nav class="nav-menu">
					<div class="menu-button">
						<span></span>
					</div>
					<div class="nav-menu-list-wrap">
						<div class="nav-menu-list">
							
								<h3><a href="/products" id="nav_products" >Products</a></h3>

								
								<ul>
									
									<li><a href="/products/elasticsearch" id="nav_elasticsearch" >elasticsearch</a></li>
									
									<li><a href="/found" id="nav_hosted-elasticsearch" >elasticsearch as a service</a></li>
									
									<li><a href="/products/logstash" id="nav_logstash" >logstash</a></li>
									
									<li><a href="/products/kibana" id="nav_kibana" >kibana</a></li>
									
									<li><a href="/products/beats" id="nav_beats" >beats</a></li>
									
									<li><a href="/products/watcher" id="nav_watcher" >watcher</a></li>
									
									<li><a href="/products/shield" id="nav_shield" >shield</a></li>
									
									<li><a href="/products/marvel" id="nav_marvel" >marvel</a></li>
									
									<li><a href="/products/hadoop" id="nav_hadoop" >hadoop</a></li>
									
									<li><a href="/downloads" id="nav_downloads" >downloads</a></li>
									
								</ul>
								
							
								<h3><a href="/subscriptions" id="nav_subscriptions" >Subscriptions</a></h3>

								
							
								<h3><a href="/learn" id="nav_learn" >Learn</a></h3>

								
								<ul>
									
									<li><a href="/guide" id="nav_guide" >docs</a></li>
									
									<li><a href="/videos" id="nav_videos" >videos</a></li>
									
									<li><a href="/training" id="nav_training" >training</a></li>
									
									<li><a href="/services" id="nav_services" >services</a></li>
									
									<li><a href="/blog" id="nav_learn_blog" >blog</a></li>
									
									<li><a href="/elasticon" id="nav_learn_elasticon" >elastic{ON}</a></li>
									
								</ul>
								
							
								<h3><a href="/community" id="nav_community" >Community</a></h3>

								
								<ul>
									
									<li><a href="/community/meetups" id="nav_meetups" >meetups</a></li>
									
									<li><a href="/https:/discuss.elastic.co" id="nav_discuss" target="_blank">discuss</a></li>
									
									<li><a href="/community/codeofconduct" id="nav_codeofconduct" >code of conduct</a></li>
									
								</ul>
								
							
								<h3><a href="/use-cases" id="nav_usecases" >Use Cases</a></h3>

								
							
								<h3><a href="/blog" id="nav_blog" >Blog</a></h3>

								
								<ul>
									
									<li><a href="/blog/category/news" id="blog_news" >News</a></li>
									
									<li><a href="/blog/category/engineering" id="blog_engineering" >Engineering</a></li>
									
									<li><a href="/blog/category/user-stories" id="blog_user-stories" >User Stories</a></li>
									
									<li><a href="/blog/category/releases" id="blog_releases" >Releases</a></li>
									
									<li><a href="/blog/archive" id="blog_archive" >Archive</a></li>
									
								</ul>
								
							
								<h3><a href="/about" id="nav_about" >About</a></h3>

								
								<ul>
									
									<li><a href="/about/leadership" id="nav_leadership" >leadership</a></li>
									
									<li><a href="/about/board" id="nav_board" >board of directors</a></li>
									
									<li><a href="/about/careers" id="nav_careers" >careers</a></li>
									
									<li><a href="/about/partners" id="nav_partners" >partners</a></li>
									
									<li><a href="/about/press" id="nav_press" >press</a></li>
									
								</ul>
								
							
						</div>
					</div>
				</nav>
			<!-- </div> -->
		</div>
	</div>
</div>
<!-- Mobile Menu -->


		</div>
	</div>
</div>
<div class="header-search-wrapper">	
	<div class="container">
		<div class="big-search">
			<i class="big-search-icon"></i>
			<form method="get" action="/search" autocomplete="on" name="searchForm" id="searchfrm">
				<ul class="tags-wrapper">
					<li class="search-field"><input type="text" class="form-control global-input" id="autocomplete" name="q"></li>
				</ul>
			</form>
			<a href="#" class="header-search-cancel"></a>
		</div>
		<div class="nav-auto-complete"></div>
	</div>
</div>
<style>	
	
	
		.m-shortcuts li a.m-search {
			background: url("https://static-www.elastic.co/assets/blt174b13be89ff803c/m-search-icon.png?q=100") no-repeat scroll center center rgba(0, 0, 0, 0);
			background-size: contain;}
	
		.m-shortcuts li a.m-docs {
			background: url("https://static-www.elastic.co/assets/blt5ba03f594a7d610a/m-guide-icon.png?q=100") no-repeat scroll center center rgba(0, 0, 0, 0);
			background-size: contain;}
	
		.m-shortcuts li a.m-contact {
			background: url("https://static-www.elastic.co/assets/blt38c3e853c4b1174d/m-contact-icon.png?q=100") no-repeat scroll center center rgba(0, 0, 0, 0);
			background-size: contain;}
		
</style>
		</div>
	</div>
  	<div id="content">
  		
  			
            <div id="pageheader">
    <div class="container">
        <header>
            <h1><a href="/learn" title="Learn">Learn</a> |</h1>
            <h2><a href="/guide" title="Docs">Docs</a></h2>
        </header>
    </div>
</div>
<section id="guide">

            <!-- start body -->
<div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch: The Definitive Guide</a></span> » <span class="breadcrumb-link"><a href="search-in-depth.html">Search in Depth </a></span> » <span class="breadcrumb-node">Structured Search</span></div><div class="navheader"><span class="prev"><a href="search-in-depth.html">
              « 
              Search in Depth </a>
           
        </span><span class="next">
           
          <a href="full-text-search.html">Full-Text Search
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="structured-search"></a>Structured Search</h2></div></div></div><p><span class="emphasis"><em>Structured search</em></span> is about interrogating <a id="id-1.5.3.2.2" class="indexterm"></a>data that has inherent structure.
Dates, times, and numbers are all structured: they have a precise  format
that you can perform logical operations on.  Common operations include
comparing ranges of numbers or dates, or determining which of two values is
larger.</p><p>Text can be structured too.  A box of crayons has a discrete set of colors:
<code class="literal">red</code>, <code class="literal">green</code>, <code class="literal">blue</code>.  A blog post may be tagged with keywords
<code class="literal">distributed</code> and <code class="literal">search</code>.  Products in an ecommerce store have Universal
Product Codes (UPCs) or some other identifier that requires strict and
structured formatting.</p><p>With structured search, the answer to your question is <span class="emphasis"><em>always</em></span> a yes or no;
something either belongs in the set or it does not.  Structured search does
not worry about document relevance or scoring; it simply includes or
excludes documents.</p><p>This should make sense logically.  A number can’t be <span class="emphasis"><em>more</em></span> in a range than
any other number that falls in the same range.  It is either in the range—or it isn’t.  Similarly, for structured text, a value is either equal or it
isn’t. There is no concept of <span class="emphasis"><em>more similar</em></span>.</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_finding_exact_values"></a>Finding Exact Values</h2></div></div></div><p>When working with exact values,<a id="id-1.5.3.6.2.1" class="indexterm"></a>
<a id="id-1.5.3.6.2.2" class="indexterm"></a><a id="id-1.5.3.6.2.3" class="indexterm"></a>
<a id="id-1.5.3.6.2.4" class="indexterm"></a> you will be working with filters. Filters are
important because they are very, very fast.  Filters do not calculate
relevance (avoiding the entire scoring phase) and are easily cached. We’ll
talk about the performance benefits of filters later in <a class="xref" href="structured-search.html#filter-caching" title="All About Caching">All About Caching</a>,
but for now, just keep in mind that you should use filters as often as you
can.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_term_filter_with_numbers"></a>term Filter with Numbers</h3></div></div></div><p>We are going to explore the <code class="literal">term</code> filter <a id="id-1.5.3.6.3.2.2" class="indexterm"></a>
<a id="id-1.5.3.6.3.2.3" class="indexterm"></a><a id="id-1.5.3.6.3.2.4" class="indexterm"></a>
<a id="id-1.5.3.6.3.2.5" class="indexterm"></a>
<a id="id-1.5.3.6.3.2.6" class="indexterm"></a>first because you will use it often.
This filter is capable of handling numbers, Booleans, dates, and text.</p><p>Let’s look at an example using numbers first by indexing some products.  These
documents have a <code class="literal">price</code> and a <code class="literal">productID</code>:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">POST /my_store/products/_bulk
{ "index": { "_id": 1 }}
{ "price" : 10, "productID" : "XHDK-A-1293-#fJ3" }
{ "index": { "_id": 2 }}
{ "price" : 20, "productID" : "KDKE-B-9947-#kL5" }
{ "index": { "_id": 3 }}
{ "price" : 30, "productID" : "JODL-X-1937-#pV7" }
{ "index": { "_id": 4 }}
{ "price" : 30, "productID" : "QQPX-R-3956-#aD8" }</pre></div><div class="sense_widget" data-snippet="snippets/080_Structured_Search/05_Term_number.json"></div><p>Our goal is to find all products with a certain price.  You may be familiar
with SQL if you are coming from a relational database background.  If we
expressed this query as an SQL query, it would look like this:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sql">SELECT document
FROM   products
WHERE  price = 20</pre></div><p>In the Elasticsearch query DSL, we use a <code class="literal">term</code> filter to accomplish the same
thing.  The <code class="literal">term</code> filter will look for the exact value that we specify.  By
itself, a <code class="literal">term</code> filter is simple. It accepts a field name and the value
that we wish to find:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">{
    "term" : {
        "price" : 20
    }
}</pre></div><p>The <code class="literal">term</code> filter isn’t very useful on its own, though.  As discussed in
<a class="xref" href="full-body-search.html#query-dsl-intro" title="Query DSL">Query DSL</a>, the <code class="literal">search</code> API expects a <code class="literal">query</code>, not a <code class="literal">filter</code>. To
use our <code class="literal">term</code> filter, <a id="id-1.5.3.6.3.10.7" class="indexterm"></a>we need to wrap it with a
<a class="link" href="full-body-search.html#filtered-query" title="Filtering a Query"><code class="literal">filtered</code> query</a>:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">GET /my_store/products/_search
{
    "query" : {
        "filtered" : { <a id="CO41-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
            "query" : {
                "match_all" : {} <a id="CO41-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
            },
            "filter" : {
                "term" : { <a id="CO41-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
                    "price" : 20
                }
            }
        }
    }
}</pre></div><div class="sense_widget" data-snippet="snippets/080_Structured_Search/05_Term_number.json"></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO41-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The <code class="literal">filtered</code> query accepts both a <code class="literal">query</code> and a <code class="literal">filter</code>.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO41-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
A <code class="literal">match_all</code> is used to return all matching documents.<a id="id-1.5.3.6.3.13.2.1.2" class="indexterm"></a>  This is the default
behavior, so in future examples we will simply omit the <code class="literal">query</code> section.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO41-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The <code class="literal">term</code> filter that we saw previously.  Notice how it is placed inside
the <code class="literal">filter</code> clause.
</p></td></tr></table></div><p>Once executed, the search results from this query are exactly what you would
expect: only document 2 is returned as a hit (because only <code class="literal">2</code> had a price
of <code class="literal">20</code>):</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-json">"hits" : [
    {
        "_index" : "my_store",
        "_type" :  "products",
        "_id" :    "2",
        "_score" : 1.0, <a id="CO42-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
        "_source" : {
          "price" :     20,
          "productID" : "KDKE-B-9947-#kL5"
        }
    }
]</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO42-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Filters do not perform scoring or relevance. The score comes from the
    <code class="literal">match_all</code> query, which treats all docs as equal, so all results receive
    a neutral score of <code class="literal">1</code>.
</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_term_filter_with_text"></a>term Filter with Text</h3></div></div></div><p>As mentioned at the top of <a id="id-1.5.3.6.4.2.1" class="indexterm"></a>
<a id="id-1.5.3.6.4.2.2" class="indexterm"></a>
<a id="id-1.5.3.6.4.2.3" class="indexterm"></a><a id="id-1.5.3.6.4.2.4" class="indexterm"></a>
<a id="id-1.5.3.6.4.2.5" class="indexterm"></a>this section, the <code class="literal">term</code> filter can match strings
just as easily as numbers.  Instead of price, let’s try to find products that
have a certain UPC identification code. To do this with SQL, we might use a
query like this:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sql">SELECT product
FROM   products
WHERE  productID = "XHDK-A-1293-#fJ3"</pre></div><p>Translated into the query DSL, we can try a similar query with the <code class="literal">term</code>
filter, like so:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">GET /my_store/products/_search
{
    "query" : {
        "filtered" : {
            "filter" : {
                "term" : {
                    "productID" : "XHDK-A-1293-#fJ3"
                }
            }
        }
    }
}</pre></div><div class="sense_widget" data-snippet="snippets/080_Structured_Search/05_Term_text.json"></div><p>Except there is a little hiccup: we don’t get any results back!  Why is
that? The problem isn’t with the <code class="literal">term</code> query; it is with the way
the data has been indexed. <a id="id-1.5.3.6.4.7.2" class="indexterm"></a> If we use the <code class="literal">analyze</code> API (<a class="xref" href="mapping-analysis.html#analyze-api" title="Testing Analyzers">Testing Analyzers</a>), we
can see that our UPC has been tokenized into smaller tokens:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">GET /my_store/_analyze?field=productID
XHDK-A-1293-#fJ3</pre></div><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">{
  "tokens" : [ {
    "token" :        "xhdk",
    "start_offset" : 0,
    "end_offset" :   4,
    "type" :         "&lt;ALPHANUM&gt;",
    "position" :     1
  }, {
    "token" :        "a",
    "start_offset" : 5,
    "end_offset" :   6,
    "type" :         "&lt;ALPHANUM&gt;",
    "position" :     2
  }, {
    "token" :        "1293",
    "start_offset" : 7,
    "end_offset" :   11,
    "type" :         "&lt;NUM&gt;",
    "position" :     3
  }, {
    "token" :        "fj3",
    "start_offset" : 13,
    "end_offset" :   16,
    "type" :         "&lt;ALPHANUM&gt;",
    "position" :     4
  } ]
}</pre></div><div class="sense_widget" data-snippet="snippets/080_Structured_Search/05_Term_text.json"></div><p>There are a few important points here:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
We have four distinct tokens instead of a single token representing the UPC.
</li><li class="listitem">
All letters have been lowercased.
</li><li class="listitem">
We lost the hyphen and the hash (<code class="literal">#</code>) sign.
</li></ul></div><p>So when our <code class="literal">term</code> filter looks for the exact value <code class="literal">XHDK-A-1293-#fJ3</code>, it
doesn’t find anything, because that token does not exist in our inverted index.
Instead, there are the four tokens listed previously.</p><p>Obviously, this is not what we want to happen when dealing with identification
codes, or any kind of precise enumeration.</p><p>To prevent this from happening, we need to tell Elasticsearch that this field
contains an exact value by  setting it to be <code class="literal">not_analyzed</code>.<a id="id-1.5.3.6.4.15.2" class="indexterm"></a> We saw this
originally in <a class="xref" href="mapping-analysis.html#custom-field-mappings" title="Customizing Field Mappings">Customizing Field Mappings</a>.  To do this, we need to first delete
our old index (because it has the incorrect mapping) and create a new one with
the correct mappings:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">DELETE /my_store <a id="CO43-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>

PUT /my_store <a id="CO43-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
{
    "mappings" : {
        "products" : {
            "properties" : {
                "productID" : {
                    "type" : "string",
                    "index" : "not_analyzed" <a id="CO43-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
                }
            }
        }
    }

}</pre></div><div class="sense_widget" data-snippet="snippets/080_Structured_Search/05_Term_text.json"></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO43-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Deleting the index first is required, since we cannot change mappings that
    already exist.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO43-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
With the index deleted, we can re-create it with our custom mapping.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO43-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Here we explicitly say that we don’t want <code class="literal">productID</code> to be analyzed.
</p></td></tr></table></div><p>Now we can go ahead and reindex our documents:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">POST /my_store/products/_bulk
{ "index": { "_id": 1 }}
{ "price" : 10, "productID" : "XHDK-A-1293-#fJ3" }
{ "index": { "_id": 2 }}
{ "price" : 20, "productID" : "KDKE-B-9947-#kL5" }
{ "index": { "_id": 3 }}
{ "price" : 30, "productID" : "JODL-X-1937-#pV7" }
{ "index": { "_id": 4 }}
{ "price" : 30, "productID" : "QQPX-R-3956-#aD8" }</pre></div><div class="sense_widget" data-snippet="snippets/080_Structured_Search/05_Term_text.json"></div><p>Only now will our <code class="literal">term</code> filter work as expected.  Let’s try it again on the
newly indexed data (notice, the query and filter have not changed at all, just
how the data is mapped):</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">GET /my_store/products/_search
{
    "query" : {
        "filtered" : {
            "filter" : {
                "term" : {
                    "productID" : "XHDK-A-1293-#fJ3"
                }
            }
        }
    }
}</pre></div><div class="sense_widget" data-snippet="snippets/080_Structured_Search/05_Term_text.json"></div><p>Since the <code class="literal">productID</code> field is not analyzed, and the <code class="literal">term</code> filter performs no
analysis, the query finds the exact match and returns document 1 as a hit.
Success!</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_internal_filter_operation"></a>Internal Filter Operation</h3></div></div></div><p>Internally, Elasticsearch is<a id="id-1.5.3.6.5.2.1" class="indexterm"></a>
<a id="id-1.5.3.6.5.2.2" class="indexterm"></a>
<a id="id-1.5.3.6.5.2.3" class="indexterm"></a><a id="id-1.5.3.6.5.2.4" class="indexterm"></a>
<a id="id-1.5.3.6.5.2.5" class="indexterm"></a> performing several operations when executing a
filter:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
<span class="emphasis"><em>Find matching docs</em></span>.
</p><p class="simpara">The <code class="literal">term</code> filter looks up the term <code class="literal">XHDK-A-1293-#fJ3</code> in the inverted index
and retrieves the list of documents that contain that term.  In this case,
only document 1 has the term we are looking for.</p></li><li class="listitem"><p class="simpara">
<span class="emphasis"><em>Build a bitset</em></span>.
</p><p class="simpara">The filter then builds a <span class="emphasis"><em>bitset</em></span>--an array of 1s and 0s—that
describes which documents contain the term.  Matching documents receive a  <code class="literal">1</code>
bit.  In our example, the bitset would be <code class="literal">[1,0,0,0]</code>.</p></li><li class="listitem"><p class="simpara">
<span class="emphasis"><em>Cache the bitset</em></span>.
</p><p class="simpara">Last, the bitset is stored in memory, since we can use this in the future
and skip steps 1 and 2.  This adds a lot of performance and makes filters very
fast.</p></li></ol></div><p>When executing a <code class="literal">filtered</code> query, the <code class="literal">filter</code> is executed before the
<code class="literal">query</code>. The resulting bitset is given to the <code class="literal">query</code>, which uses it to simply
skip over any documents that have already been excluded by the filter. This is
one of the ways that filters can improve performance.  Fewer documents
evaluated by the query  means faster response times.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="combining-filters"></a>Combining Filters</h2></div></div></div><p>The previous two examples showed a single filter in use.<a id="id-1.5.3.7.2.1" class="indexterm"></a>
<a id="id-1.5.3.7.2.2" class="indexterm"></a><a id="id-1.5.3.7.2.3" class="indexterm"></a>
<a id="id-1.5.3.7.2.4" class="indexterm"></a> In practice, you
will probably need to filter on multiple values or fields.  For example, how
would you express this SQL in Elasticsearch?</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sql">SELECT product
FROM   products
WHERE  (price = 20 OR productID = "XHDK-A-1293-#fJ3")
  AND  (price != 30)</pre></div><p>In these situations, you will need the <code class="literal">bool</code> filter.<a id="id-1.5.3.7.4.2" class="indexterm"></a>
<a id="id-1.5.3.7.4.3" class="indexterm"></a>
<a id="id-1.5.3.7.4.4" class="indexterm"></a><a id="id-1.5.3.7.4.5" class="indexterm"></a>  This is a <span class="emphasis"><em>compound
filter</em></span> that accepts other filters as arguments, combining them in various
Boolean combinations.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="bool-filter"></a>Bool Filter</h3></div></div></div><p>The <code class="literal">bool</code> filter is composed of three sections:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">{
   "bool" : {
      "must" :     [],
      "should" :   [],
      "must_not" : [],
   }
}</pre></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">must</code>
</span></dt><dd>
   All of these clauses <span class="emphasis"><em>must</em></span> match. The equivalent of <code class="literal">AND</code>.
</dd><dt><span class="term">
<code class="literal">must_not</code>
</span></dt><dd>
   All of these clauses <span class="emphasis"><em>must not</em></span> match. The equivalent of <code class="literal">NOT</code>.
</dd><dt><span class="term">
<code class="literal">should</code>
</span></dt><dd>
   At least one of these clauses must match. The equivalent of <code class="literal">OR</code>.
</dd></dl></div><p>And that’s it!<a id="id-1.5.3.7.5.5.1" class="indexterm"></a>
<a id="id-1.5.3.7.5.5.2" class="indexterm"></a><a id="id-1.5.3.7.5.5.3" class="indexterm"></a>
<a id="id-1.5.3.7.5.5.4" class="indexterm"></a><a id="id-1.5.3.7.5.5.5" class="indexterm"></a>
<a id="id-1.5.3.7.5.5.6" class="indexterm"></a> When you need multiple filters, simply place them into the
different sections of the <code class="literal">bool</code> filter.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>Each section of the <code class="literal">bool</code> filter is optional (for example, you can have a <code class="literal">must</code>
clause and nothing else), and each section can contain a single filter or an
array of filters.</p></div></div><p>To replicate the preceding SQL example, we will take the two <code class="literal">term</code> filters that
we used<a id="id-1.5.3.7.5.7.2" class="indexterm"></a>
<a id="id-1.5.3.7.5.7.3" class="indexterm"></a><a id="id-1.5.3.7.5.7.4" class="indexterm"></a>
<a id="id-1.5.3.7.5.7.5" class="indexterm"></a> previously and place them inside the <code class="literal">should</code> clause of a <code class="literal">bool</code>
filter, and add another clause to deal with the <code class="literal">NOT</code> condition:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">GET /my_store/products/_search
{
   "query" : {
      "filtered" : { <a id="CO44-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
         "filter" : {
            "bool" : {
              "should" : [
                 { "term" : {"price" : 20}}, <a id="CO44-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
                 { "term" : {"productID" : "XHDK-A-1293-#fJ3"}} <a id="CO44-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
              ],
              "must_not" : {
                 "term" : {"price" : 30} <a id="CO44-4"></a><span><img src="images/icons/callouts/4.png" alt="" /></span>
              }
           }
         }
      }
   }
}</pre></div><div class="sense_widget" data-snippet="snippets/080_Structured_Search/10_Bool_filter.json"></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO44-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Note that we still need to use a <code class="literal">filtered</code> query to wrap everything.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO44-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> <a href="#CO44-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
These two <code class="literal">term</code> filters are <span class="emphasis"><em>children</em></span> of the <code class="literal">bool</code> filter, and since they
    are placed inside the <code class="literal">should</code> clause, at least one of them needs to match.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO44-4"><span><img src="images/icons/callouts/4.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
If a product has a price of <code class="literal">30</code>, it is automatically excluded because it
    matches a <code class="literal">must_not</code> clause.
</p></td></tr></table></div><p>Our search results return two hits, each document satisfying a different clause
in the <code class="literal">bool</code> filter:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-json">"hits" : [
    {
        "_id" :     "1",
        "_score" :  1.0,
        "_source" : {
          "price" :     10,
          "productID" : "XHDK-A-1293-#fJ3" <a id="CO45-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
        }
    },
    {
        "_id" :     "2",
        "_score" :  1.0,
        "_source" : {
          "price" :     20, <a id="CO45-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
          "productID" : "KDKE-B-9947-#kL5"
        }
    }
]</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO45-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Matches the <code class="literal">term</code> filter for <code class="literal">productID = "XHDK-A-1293-#fJ3"</code>
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO45-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Matches the <code class="literal">term</code> filter for <code class="literal">price = 20</code>
</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_nesting_boolean_filters"></a>Nesting Boolean Filters</h3></div></div></div><p>Even though <code class="literal">bool</code> is a compound filter and accepts children filters, it is
important to understand that <code class="literal">bool</code> is just a filter itself.<a id="id-1.5.3.7.6.2.3" class="indexterm"></a>
<a id="id-1.5.3.7.6.2.4" class="indexterm"></a>
<a id="id-1.5.3.7.6.2.5" class="indexterm"></a><a id="id-1.5.3.7.6.2.6" class="indexterm"></a>
<a id="id-1.5.3.7.6.2.7" class="indexterm"></a>  This means you
can nest <code class="literal">bool</code> filters inside other <code class="literal">bool</code> filters, giving you the
ability to make arbitrarily complex Boolean logic.</p><p>Given this SQL statement:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sql">SELECT document
FROM   products
WHERE  productID      = "KDKE-B-9947-#kL5"
  OR (     productID = "JODL-X-1937-#pV7"
       AND price     = 30 )</pre></div><p>We can translate it into a pair of nested <code class="literal">bool</code> filters:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">GET /my_store/products/_search
{
   "query" : {
      "filtered" : {
         "filter" : {
            "bool" : {
              "should" : [
                { "term" : {"productID" : "KDKE-B-9947-#kL5"}}, <a id="CO46-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
                { "bool" : { <a id="CO46-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
                  "must" : [
                    { "term" : {"productID" : "JODL-X-1937-#pV7"}}, <a id="CO46-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
                    { "term" : {"price" : 30}} <a id="CO46-4"></a><span><img src="images/icons/callouts/4.png" alt="" /></span>
                  ]
                }}
              ]
           }
         }
      }
   }
}</pre></div><div class="sense_widget" data-snippet="snippets/080_Structured_Search/10_Bool_filter.json"></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO46-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> <a href="#CO46-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Because the <code class="literal">term</code> and the <code class="literal">bool</code> are sibling clauses inside the first
    Boolean <code class="literal">should</code>, at least one of these filters must match for a document
    to be a hit.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO46-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> <a href="#CO46-4"><span><img src="images/icons/callouts/4.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
These two <code class="literal">term</code> clauses are siblings in a <code class="literal">must</code> clause, so they both
    have to match for a document to be returned as a hit.
</p></td></tr></table></div><p>The results show us two documents, one matching each of the <code class="literal">should</code> clauses:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-json">"hits" : [
    {
        "_id" :     "2",
        "_score" :  1.0,
        "_source" : {
          "price" :     20,
          "productID" : "KDKE-B-9947-#kL5" <a id="CO47-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
        }
    },
    {
        "_id" :     "3",
        "_score" :  1.0,
        "_source" : {
          "price" :      30, <a id="CO47-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
          "productID" : "JODL-X-1937-#pV7" <a id="CO47-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
        }
    }
]</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO47-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
This <code class="literal">productID</code> matches the <code class="literal">term</code> in the first <code class="literal">bool</code>.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO47-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> <a href="#CO47-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
These two fields match the <code class="literal">term</code> filters in the nested <code class="literal">bool</code>.
</p></td></tr></table></div><p>This was a simple example, but it demonstrates how Boolean filters can be
used as building blocks to construct complex logical conditions.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_finding_multiple_exact_values"></a>Finding Multiple Exact Values</h2></div></div></div><p>The <code class="literal">term</code> filter is useful for finding a single value, but often you’ll  want
to search for multiple values.<a id="id-1.5.3.8.2.2" class="indexterm"></a>
<a id="id-1.5.3.8.2.3" class="indexterm"></a><a id="id-1.5.3.8.2.4" class="indexterm"></a>
<a id="id-1.5.3.8.2.5" class="indexterm"></a>  What if you want to find documents that have a
price of $20 or $30?</p><p>Rather than using multiple <code class="literal">term</code> filters, you can instead use a single <code class="literal">terms</code>
filter (note the <span class="emphasis"><em>s</em></span> at the end).  The <code class="literal">terms</code> filter<a id="id-1.5.3.8.3.5" class="indexterm"></a> is simply the plural
version of the singular <code class="literal">term</code> filter.</p><p>It looks nearly identical to a vanilla <code class="literal">term</code> too.  Instead of
specifying a single price, we are now specifying an array of values:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">{
    "terms" : {
        "price" : [20, 30]
    }
}</pre></div><p>And like the <code class="literal">term</code> filter, we will place it inside a <code class="literal">filtered</code> query to
<a id="id-1.5.3.8.6.3" class="indexterm"></a>
<a id="id-1.5.3.8.6.4" class="indexterm"></a> use it:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">GET /my_store/products/_search
{
    "query" : {
        "filtered" : {
            "filter" : {
                "terms" : { <a id="CO48-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
                    "price" : [20, 30]
                }
            }
        }
    }
}</pre></div><div class="sense_widget" data-snippet="snippets/080_Structured_Search/15_Terms_filter.json"></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO48-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The <code class="literal">terms</code> filter as seen previously, but placed inside the <code class="literal">filtered</code> query
</p></td></tr></table></div><p>The query will return the second, third, and fourth documents:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-json">"hits" : [
    {
        "_id" :    "2",
        "_score" : 1.0,
        "_source" : {
          "price" :     20,
          "productID" : "KDKE-B-9947-#kL5"
        }
    },
    {
        "_id" :    "3",
        "_score" : 1.0,
        "_source" : {
          "price" :     30,
          "productID" : "JODL-X-1937-#pV7"
        }
    },
    {
        "_id":     "4",
        "_score":  1.0,
        "_source": {
           "price":     30,
           "productID": "QQPX-R-3956-#aD8"
        }
     }
]</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_contains_but_does_not_equal"></a>Contains, but Does Not Equal</h3></div></div></div><p>It is important to understand that <code class="literal">term</code> and <code class="literal">terms</code> are <span class="emphasis"><em>contains</em></span> operations,
not <span class="emphasis"><em>equals</em></span>.<a id="id-1.5.3.8.12.2.5" class="indexterm"></a>
<a id="id-1.5.3.8.12.2.6" class="indexterm"></a><a id="id-1.5.3.8.12.2.7" class="indexterm"></a>
<a id="id-1.5.3.8.12.2.8" class="indexterm"></a><a id="id-1.5.3.8.12.2.9" class="indexterm"></a>
<a id="id-1.5.3.8.12.2.10" class="indexterm"></a>  What does that mean?</p><p>If you have a term filter for <code class="literal">{ "term" : { "tags" : "search" } }</code>, it will match
<span class="emphasis"><em>both</em></span> of the following documents:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">{ "tags" : ["search"] }
{ "tags" : ["search", "open_source"] } <a id="CO49-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO49-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
This document is returned, even though it has terms other than <code class="literal">search</code>.
</p></td></tr></table></div><p>Recall how the <code class="literal">term</code> filter works: it checks the inverted index for all
documents that contain a term, and then constructs a bitset.  In our simple
example, we have the following inverted index:</p><div class="informaltable"><table cellpadding="4px" border="1" width="50%"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><tbody><tr><td align="left" valign="top"><p>Token</p></td><td align="left" valign="top"><p>DocIDs</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">open_source</code></p></td><td align="left" valign="top"><p><code class="literal">2</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">search</code></p></td><td align="left" valign="top"><p><code class="literal">1</code>,<code class="literal">2</code></p></td></tr></tbody></table></div><p>When a <code class="literal">term</code> filter is executed for the token <code class="literal">search</code>, it goes straight to the
corresponding entry in the inverted index and extracts the associated doc IDs.
As you can see, both document 1 and document 2 contain the token in the inverted index.
Therefore, they are both returned as a result.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>The nature of an inverted index also means that entire field equality is rather
difficult to calculate.  How would you determine whether a particular document
contains <span class="emphasis"><em>only</em></span> your request term?  You would have to find the term in
the inverted index, extract the document IDs, and then scan <span class="emphasis"><em>every row in the
inverted index</em></span>, looking for those IDs to see whether a doc has any other terms.</p><p>As you might imagine, that would be tremendously inefficient and expensive.
For that reason, <code class="literal">term</code> and <code class="literal">terms</code> are <span class="emphasis"><em>must contain</em></span> operations, not
<span class="emphasis"><em>must equal exactly</em></span>.</p></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_equals_exactly"></a>Equals Exactly</h3></div></div></div><p>If you do want that behavior—entire field equality—the best way to
accomplish it involves indexing a secondary field. <a id="id-1.5.3.8.13.2.1" class="indexterm"></a>
<a id="id-1.5.3.8.13.2.2" class="indexterm"></a> In this field, you index the
number of values that your field contains.  Using our two previous documents,
we now include a field that maintains the number of tags:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">{ "tags" : ["search"], "tag_count" : 1 }
{ "tags" : ["search", "open_source"], "tag_count" : 2 }</pre></div><div class="sense_widget" data-snippet="snippets/080_Structured_Search/20_Exact.json"></div><p>Once you have the count information indexed, you can construct a <code class="literal">bool</code> filter
that enforces the appropriate number of terms:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">GET /my_index/my_type/_search
{
    "query": {
        "filtered" : {
            "filter" : {
                 "bool" : {
                    "must" : [
                        { "term" : { "tags" : "search" } }, <a id="CO50-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
                        { "term" : { "tag_count" : 1 } } <a id="CO50-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
                    ]
                }
            }
        }
    }
}</pre></div><div class="sense_widget" data-snippet="snippets/080_Structured_Search/20_Exact.json"></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO50-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Find all documents that have the term <code class="literal">search</code>.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO50-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
But make sure the document has only one tag.
</p></td></tr></table></div><p>This query will now match only the document that has a single tag that is
<code class="literal">search</code>, rather than any document that contains <code class="literal">search</code>.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_ranges"></a>Ranges</h2></div></div></div><p>When dealing with numbers in this chapter, we have so far searched for only
exact numbers. <a id="id-1.5.3.9.2.1" class="indexterm"></a>
<a id="id-1.5.3.9.2.2" class="indexterm"></a> In practice,  filtering on ranges is often more useful.  For
example, you might want to find all products with a price greater than $20 and less than $40.</p><p>In SQL terms, a range can be expressed as follows:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sql">SELECT document
FROM   products
WHERE  price BETWEEN 20 AND 40</pre></div><p>Elasticsearch has a <code class="literal">range</code> filter, <a id="id-1.5.3.9.5.2" class="indexterm"></a>
<a id="id-1.5.3.9.5.3" class="indexterm"></a>which, unsurprisingly, allows you to
filter ranges:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">"range" : {
    "price" : {
        "gt" : 20,
        "lt" : 40
    }
}</pre></div><p>The <code class="literal">range</code> filter supports both inclusive and exclusive ranges, through
combinations of the following options:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<code class="literal">gt</code>: <code class="literal">&gt;</code> greater than
</li><li class="listitem">
<code class="literal">lt</code>: <code class="literal">&lt;</code> less than
</li><li class="listitem">
<code class="literal">gte</code>: <code class="literal">&gt;=</code> greater than or equal to
</li><li class="listitem">
<code class="literal">lte</code>: <code class="literal">&lt;=</code> less than or equal to
</li></ul></div><p><strong>Here is an example range filter: </strong>
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">GET /my_store/products/_search
{
    "query" : {
        "filtered" : {
            "filter" : {
                "range" : {
                    "price" : {
                        "gte" : 20,
                        "lt"  : 40
                    }
                }
            }
        }
    }
}</pre></div><p>
</p><div class="sense_widget" data-snippet="snippets/080_Structured_Search/25_Range_filter.json"></div><p>If you need <a id="id-1.5.3.9.11.1" class="indexterm"></a>an unbounded range (for example, just &gt;20), omit one of the
boundaries:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">"range" : {
    "price" : {
        "gt" : 20
    }
}</pre></div><div class="sense_widget" data-snippet="snippets/080_Structured_Search/25_Range_filter.json"></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_ranges_on_dates"></a>Ranges on Dates</h3></div></div></div><p>The <code class="literal">range</code> filter can be used on date <a id="id-1.5.3.9.14.2.2" class="indexterm"></a><a id="id-1.5.3.9.14.2.3" class="indexterm"></a>
<a id="id-1.5.3.9.14.2.4" class="indexterm"></a>fields too:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">"range" : {
    "timestamp" : {
        "gt" : "2014-01-01 00:00:00",
        "lt" : "2014-01-07 00:00:00"
    }
}</pre></div><p>When used on date fields, the <code class="literal">range</code> filter <a id="id-1.5.3.9.14.4.2" class="indexterm"></a>supports <span class="emphasis"><em>date math</em></span> operations.
For example, if we want to find all documents that have a timestamp sometime
in the last hour:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">"range" : {
    "timestamp" : {
        "gt" : "now-1h"
    }
}</pre></div><p>This filter will now constantly find all documents with a timestamp greater
than the current time minus 1 hour, making the filter a <span class="emphasis"><em>sliding window</em></span>
across your documents.</p><p>Date math can also be applied to actual dates, rather than a placeholder like
now. Just add a double pipe (<code class="literal">||</code>) after the date and follow it with a date
math expression:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">"range" : {
    "timestamp" : {
        "gt" : "2014-01-01 00:00:00",
        "lt" : "2014-01-01 00:00:00||+1M" <a id="CO51-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
    }
}</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO51-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Less than January 1, 2014 plus one month
</p></td></tr></table></div><p>Date math is <span class="emphasis"><em>calendar aware</em></span>, so it knows the number of days in each month,
days in a year, and so forth.  More details about working with dates can be found in
the <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-date-format.html" target="_top">date format reference documentation</a>.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_ranges_on_strings"></a>Ranges on Strings</h3></div></div></div><p>The <code class="literal">range</code> filter can also operate on string fields.<a id="id-1.5.3.9.15.2.2" class="indexterm"></a>
<a id="id-1.5.3.9.15.2.3" class="indexterm"></a><a id="id-1.5.3.9.15.2.4" class="indexterm"></a>
<a id="id-1.5.3.9.15.2.5" class="indexterm"></a><a id="id-1.5.3.9.15.2.6" class="indexterm"></a>  String ranges are
calculated <span class="emphasis"><em>lexicographically</em></span>  or alphabetically.  For example, these values
are sorted in lexicographic order:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
5, 50, 6, B, C, a, ab, abb, abc, b
</li></ul></div><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>Terms in the inverted index are sorted in lexicographical order, which is why
string ranges use this order.</p></div></div><p>If we want a range from <code class="literal">a</code> up to but not including <code class="literal">b</code>, we can use the same
<code class="literal">range</code> filter syntax:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">"range" : {
    "title" : {
        "gte" : "a",
        "lt" :  "b"
    }
}</pre></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Be Careful of Cardinality</strong></p></div></div></div><p>Numeric and date fields are indexed in such a way that ranges are efficient
to calculate.<a id="id-1.5.3.9.15.7.2.1" class="indexterm"></a>
<a id="id-1.5.3.9.15.7.2.2" class="indexterm"></a>  This is not the case for string fields, however.  To perform
a range on a string field, Elasticsearch is effectively performing a <code class="literal">term</code>
filter for every term that falls in the range.  This is much slower than
a date or numeric range.</p><p>String ranges are fine on a field with <span class="emphasis"><em>low cardinality</em></span>—a small number of
unique terms.  But the more unique terms you have, the slower the string range
will be.</p></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_dealing_with_null_values"></a>Dealing with Null Values</h2></div></div></div><p>Think back to our earlier example, where documents have a field named <code class="literal">tags</code>.
This is a multivalue field.<a id="id-1.5.3.10.2.2" class="indexterm"></a>
<a id="id-1.5.3.10.2.3" class="indexterm"></a><a id="id-1.5.3.10.2.4" class="indexterm"></a>  A document may have one tag, many tags, or
potentially no tags at all. If a field has no values, how is it stored in an
inverted index?</p><p>That’s a trick question, because the answer is, it isn’t stored at all. Let’s
look at that inverted index from the previous section:</p><div class="informaltable"><table cellpadding="4px" border="1" width="50%"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><tbody><tr><td align="left" valign="top"><p>Token</p></td><td align="left" valign="top"><p>DocIDs</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">open_source</code></p></td><td align="left" valign="top"><p><code class="literal">2</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">search</code></p></td><td align="left" valign="top"><p><code class="literal">1</code>,<code class="literal">2</code></p></td></tr></tbody></table></div><p>How would you store a field that doesn’t exist in that data structure?  You
can’t!  An inverted index is simply a list of tokens and the documents that
contain them.  If a field doesn’t exist, it doesn’t hold any tokens, which
means it won’t be represented in an inverted index data structure.</p><p>Ultimately, this<a id="id-1.5.3.10.6.1" class="indexterm"></a>
<a id="id-1.5.3.10.6.2" class="indexterm"></a><a id="id-1.5.3.10.6.3" class="indexterm"></a>
<a id="id-1.5.3.10.6.4" class="indexterm"></a> means that a <code class="literal">null</code>, <code class="literal">[]</code> (an empty
array), and <code class="literal">[null]</code> are all equivalent. They simply don’t exist in the
inverted index!</p><p>Obviously, the world is not simple, and data is often missing fields, or contains
explicit nulls or empty arrays. To deal with these situations, Elasticsearch has
a few tools to work with null or missing values.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_exists_filter"></a>exists Filter</h3></div></div></div><p>The first tool in your arsenal is the <code class="literal">exists</code> filter.<a id="id-1.5.3.10.8.2.2" class="indexterm"></a>
<a id="id-1.5.3.10.8.2.3" class="indexterm"></a><a id="id-1.5.3.10.8.2.4" class="indexterm"></a>  This filter will return
documents that have any value in the specified field. Let’s use the tagging example
and index some example documents:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">POST /my_index/posts/_bulk
{ "index": { "_id": "1"              }}
{ "tags" : ["search"]                }  <a id="CO52-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
{ "index": { "_id": "2"              }}
{ "tags" : ["search", "open_source"] }  <a id="CO52-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
{ "index": { "_id": "3"              }}
{ "other_field" : "some data"        }  <a id="CO52-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
{ "index": { "_id": "4"              }}
{ "tags" : null                      }  <a id="CO52-4"></a><span><img src="images/icons/callouts/4.png" alt="" /></span>
{ "index": { "_id": "5"              }}
{ "tags" : ["search", null]          }  <a id="CO52-5"></a><span><img src="images/icons/callouts/5.png" alt="" /></span></pre></div><div class="sense_widget" data-snippet="snippets/080_Structured_Search/30_Exists_missing.json"></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO52-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The <code class="literal">tags</code> field has one value.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO52-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The <code class="literal">tags</code> field has two values.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO52-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The <code class="literal">tags</code> field is missing altogether.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO52-4"><span><img src="images/icons/callouts/4.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The <code class="literal">tags</code> field is set to <code class="literal">null</code>.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO52-5"><span><img src="images/icons/callouts/5.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The <code class="literal">tags</code> field has one value and a <code class="literal">null</code>.
</p></td></tr></table></div><p>The resulting inverted index for our <code class="literal">tags</code> field will look like this:</p><div class="informaltable"><table cellpadding="4px" border="1" width="50%"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><tbody><tr><td align="left" valign="top"><p>Token</p></td><td align="left" valign="top"><p>DocIDs</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">open_source</code></p></td><td align="left" valign="top"><p><code class="literal">2</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">search</code></p></td><td align="left" valign="top"><p><code class="literal">1</code>,<code class="literal">2</code>,<code class="literal">5</code></p></td></tr></tbody></table></div><p>Our objective is to find all documents where a tag is set.  We don’t care what
the tag is, so long as it exists within the document.  In SQL parlance,
we would use an <code class="literal">IS NOT NULL</code> query:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sql">SELECT tags
FROM   posts
WHERE  tags IS NOT NULL</pre></div><p>In Elasticsearch, we use the <code class="literal">exists</code> filter:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">GET /my_index/posts/_search
{
    "query" : {
        "filtered" : {
            "filter" : {
                "exists" : { "field" : "tags" }
            }
        }
    }
}</pre></div><div class="sense_widget" data-snippet="snippets/080_Structured_Search/30_Exists_missing.json"></div><p>Our query returns three documents:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-json">"hits" : [
    {
      "_id" :     "1",
      "_score" :  1.0,
      "_source" : { "tags" : ["search"] }
    },
    {
      "_id" :     "5",
      "_score" :  1.0,
      "_source" : { "tags" : ["search", null] } <a id="CO53-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
    },
    {
      "_id" :     "2",
      "_score" :  1.0,
      "_source" : { "tags" : ["search", "open source"] }
    }
]</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO53-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Document 5 is returned even though it contains a <code class="literal">null</code> value. The field
    exists because a real-value tag was indexed, so the <code class="literal">null</code> had no impact
    on the filter.
</p></td></tr></table></div><p>The results are easy to understand.  Any document that has terms in the
<code class="literal">tags</code> field was returned as a hit.  The only two documents that were excluded
were documents 3 and 4.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_missing_filter"></a>missing Filter</h3></div></div></div><p>The <code class="literal">missing</code> filter is essentially<a id="id-1.5.3.10.9.2.2" class="indexterm"></a>
<a id="id-1.5.3.10.9.2.3" class="indexterm"></a><a id="id-1.5.3.10.9.2.4" class="indexterm"></a> the inverse of <code class="literal">exists</code>: it returns
documents where there is <span class="emphasis"><em>no</em></span> value for a particular field, much like this
SQL:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sql">SELECT tags
FROM   posts
WHERE  tags IS  NULL</pre></div><p>Let’s swap the <code class="literal">exists</code> filter for a <code class="literal">missing</code> filter from our previous example:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">GET /my_index/posts/_search
{
    "query" : {
        "filtered" : {
            "filter": {
                "missing" : { "field" : "tags" }
            }
        }
    }
}</pre></div><div class="sense_widget" data-snippet="snippets/080_Structured_Search/30_Exists_missing.json"></div><p>And, as you would expect, we get back the two docs that have no real values
in the <code class="literal">tags</code> field—documents 3 and 4:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-json">"hits" : [
    {
      "_id" :     "3",
      "_score" :  1.0,
      "_source" : { "other_field" : "some data" }
    },
    {
      "_id" :     "4",
      "_score" :  1.0,
      "_source" : { "tags" : null }
    }
]</pre></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>When null Means null</strong></p></div></div></div><p>Sometimes you need to be able to distinguish between a field that doesn’t have
a value, and a field that has been explicitly set to <code class="literal">null</code>. With the default
behavior that we saw previously, this is impossible; the data is lost. Luckily,
there is an option that we can set that replaces explicit  <code class="literal">null</code> values with
a <span class="emphasis"><em>placeholder</em></span> value of our choosing.</p><p>When specifying the mapping for a string, numeric, Boolean, or date field, you
can also set a <code class="literal">null_value</code> that will be used whenever an explicit <code class="literal">null</code>
value is encountered. <a id="id-1.5.3.10.9.9.3.3" class="indexterm"></a> A field without a value will still be excluded from the
inverted index.</p><p>When choosing a suitable <code class="literal">null_value</code>, ensure the following:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
It matches the field’s type.  You can’t use a string <code class="literal">null_value</code> in a
   field of type <code class="literal">date</code>.
</li><li class="listitem">
It is different from the normal values that the field may contain, to
   avoid confusing real values with <code class="literal">null</code> values.
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_exists_missing_on_objects"></a>exists/missing on Objects</h3></div></div></div><p>The <code class="literal">exists</code> and <code class="literal">missing</code> filters <a id="id-1.5.3.10.10.2.3" class="indexterm"></a>
<a id="id-1.5.3.10.10.2.4" class="indexterm"></a><a id="id-1.5.3.10.10.2.5" class="indexterm"></a>
<a id="id-1.5.3.10.10.2.6" class="indexterm"></a><a id="id-1.5.3.10.10.2.7" class="indexterm"></a>
<a id="id-1.5.3.10.10.2.8" class="indexterm"></a>also work on inner objects, not just core
types.  With the following document</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">{
   "name" : {
      "first" : "John",
      "last" :  "Smith"
   }
}</pre></div><p>you can check for the existence of <code class="literal">name.first</code> and <code class="literal">name.last</code> but also just
<code class="literal">name</code>. However, in <a class="xref" href="index-management.html#mapping" title="Types and Mappings">Types and Mappings</a>, we said that an object like the preceding one is
flattened internally into a simple field-value structure, much like this:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">{
   "name.first" : "John",
   "name.last"  : "Smith"
}</pre></div><p>So how can we use an <code class="literal">exists</code> or <code class="literal">missing</code> filter on the <code class="literal">name</code> field, which
doesn’t really exist in the inverted index?</p><p>The reason that it works is that a filter like</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">{
    "exists" : { "field" : "name" }
}</pre></div><p>is really executed as</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">{
    "bool": {
        "should": [
            { "exists": { "field": { "name.first" }}},
            { "exists": { "field": { "name.last"  }}}
        ]
    }
}</pre></div><p>That also means that if <code class="literal">first</code> and <code class="literal">last</code> were both empty, the <code class="literal">name</code>
namespace would not exist.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="filter-caching"></a>All About Caching</h2></div></div></div><p>Earlier in this chapter (<a class="xref" href="structured-search.html#_internal_filter_operation" title="Internal Filter Operation">Internal Filter Operation</a>), we briefly discussed
how filters are calculated.<a id="id-1.5.3.11.2.2" class="indexterm"></a>
<a id="id-1.5.3.11.2.3" class="indexterm"></a><a id="id-1.5.3.11.2.4" class="indexterm"></a>
<a id="id-1.5.3.11.2.5" class="indexterm"></a><a id="id-1.5.3.11.2.6" class="indexterm"></a><a id="id-1.5.3.11.2.7" class="indexterm"></a>
<a id="id-1.5.3.11.2.8" class="indexterm"></a>  At their heart is a bitset representing which
documents match the filter. Elasticsearch aggressively caches these bitsets for later use.  Once cached,
these bitsets can be reused <span class="emphasis"><em>wherever</em></span> the same filter is used, without having
to reevaluate the entire filter again.</p><p>These cached bitsets are “smart”: they are updated incrementally. As you
index new documents, only those new documents need to be added to the existing
bitsets, rather than having to recompute the entire cached filter over and
over. Filters are real-time like the rest of the system; you don’t need to
worry about cache expiry.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_independent_filter_caching"></a>Independent Filter Caching</h3></div></div></div><p>Each filter is calculated and cached independently, regardless of where it is
used.<a id="id-1.5.3.11.4.2.1" class="indexterm"></a>
<a id="id-1.5.3.11.4.2.2" class="indexterm"></a> If two different queries use the same filter, the same filter bitset
will be reused.  Likewise, if a single query uses the same filter in multiple
places, only one bitset is calculated and then reused.</p><p>Let’s look at this example query, which looks for emails that are either of the following:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
In the inbox and have not been read
</li><li class="listitem">
<span class="emphasis"><em>Not</em></span> in the inbox but have been marked as important
</li></ul></div><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">"bool": {
   "should": [
      { "bool": {
            "must": [
               { "term": { "folder": "inbox" }}, <a id="CO54-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
               { "term": { "read": false }}
            ]
      }},
      { "bool": {
            "must_not": {
               "term": { "folder": "inbox" } <a id="CO54-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
            },
            "must": {
               "term": { "important": true }
            }
      }}
   ]
}</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO54-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> <a href="#CO54-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
These two filters are identical and will use the same bitset.
</p></td></tr></table></div><p>Even though one of the inbox clauses is a <code class="literal">must</code> clause and the other is a
<code class="literal">must_not</code> clause, the two clauses themselves are identical. This means that
the bitset is calculated once for the first clause that is executed, and then
the cached bitset is used for the other clause.  By the time this query is run
a second time, the inbox filter is already cached and so both clauses will use
the cached bitset.</p><p>This ties in nicely with the composability of the query DSL.  It is easy to
move filters around, or reuse the same filter in multiple places within the
same query.  This isn’t just convenient to the developer—it has direct
performance benefits.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_controlling_caching"></a>Controlling Caching</h3></div></div></div><p>Most <span class="emphasis"><em>leaf filters</em></span>—those dealing directly with fields like the <code class="literal">term</code>
filter—are cached, while<a id="id-1.5.3.11.5.2.3" class="indexterm"></a><a id="id-1.5.3.11.5.2.4" class="indexterm"></a>
<a id="id-1.5.3.11.5.2.5" class="indexterm"></a><a id="id-1.5.3.11.5.2.6" class="indexterm"></a>
<a id="id-1.5.3.11.5.2.7" class="indexterm"></a> compound filters, like the <code class="literal">bool</code> filter, are not.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>Leaf filters have to consult the inverted index on disk, so it makes sense to
cache them. Compound filters, on the other hand, use fast bit logic to combine
the bitsets resulting from their inner clauses, so it is efficient to
recalculate them every time.</p></div></div><p>Certain leaf filters, however, are not cached by default, because it
doesn’t make sense to do so:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
Script filters
</span></dt><dd>
The results<a id="id-1.5.3.11.5.5.1.2.1.1" class="indexterm"></a> from <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-script-query.html" target="_top">https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-script-query.html</a> cannot
be cached because the meaning of the script is opaque to Elasticsearch.
</dd><dt><span class="term">
Geo-filters
</span></dt><dd>
The geolocation filters, which<a id="id-1.5.3.11.5.5.2.2.1.1" class="indexterm"></a> we cover in more detail in <a class="xref" href="geoloc.html" title="Geolocation">Geolocation </a>, are
usually used to filter results based on the geolocation of a specific user.
Since each user has a unique geolocation, it is unlikely that geo-filters will be reused, so it makes no sense to cache them.
</dd><dt><span class="term">
Date ranges
</span></dt><dd>
Date ranges that <a id="id-1.5.3.11.5.5.3.2.1.1" class="indexterm"></a>
<a id="id-1.5.3.11.5.5.3.2.1.2" class="indexterm"></a><a id="id-1.5.3.11.5.5.3.2.1.3" class="indexterm"></a>
<a id="id-1.5.3.11.5.5.3.2.1.4" class="indexterm"></a>use the <code class="literal">now</code> function (for example <code class="literal">"now-1h"</code>), result in values
accurate to the millisecond. Every time the filter is run, <code class="literal">now</code> returns a new
time. Older filters will never be reused, so caching is disabled by default.
However, when using <code class="literal">now</code> with rounding (for example, <code class="literal">now/d</code> rounds to the nearest day),
caching is enabled by default.
</dd></dl></div><p>Sometimes the default caching strategy is not correct. Perhaps you have a
complicated <code class="literal">bool</code> expression that is reused several times in the same query.
Or you have a filter on a <code class="literal">date</code> field that will never be reused.  The default
caching strategy <a id="id-1.5.3.11.5.6.3" class="indexterm"></a><a id="id-1.5.3.11.5.6.4" class="indexterm"></a>
<a id="id-1.5.3.11.5.6.5" class="indexterm"></a>can be overridden on almost any filter by setting the
<code class="literal">_cache</code> flag:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">{
    "range" : {
        "timestamp" : {
            "gt" : "2014-01-02 16:15:14" <a id="CO55-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
        },
        "_cache": false <a id="CO55-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
    }
}</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO55-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
It is unlikely that we will reuse this exact timestamp.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO55-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Disable caching of this filter.
</p></td></tr></table></div><p>Later chapters provide examples of when it can make sense to
override the default caching strategy.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_filter_order"></a>Filter Order</h2></div></div></div><p>The order of filters in a <code class="literal">bool</code> clause is important for performance.<a id="id-1.5.3.12.2.2" class="indexterm"></a>
<a id="id-1.5.3.12.2.3" class="indexterm"></a><a id="id-1.5.3.12.2.4" class="indexterm"></a>
<a id="id-1.5.3.12.2.5" class="indexterm"></a> More-specific filters should be placed before less-specific filters in order to
exclude as many documents as possible, as early as possible.</p><p>If Clause A could match 10 million documents, and Clause B could match
only 100 documents, then Clause B should be placed before Clause A.</p><p>Cached filters are very fast, so they should be placed before filters that
are not cacheable.<a id="id-1.5.3.12.4.1" class="indexterm"></a>
<a id="id-1.5.3.12.4.2" class="indexterm"></a>  Imagine that we have an index that contains one month’s
worth of log events. However, we’re mostly interested only in log events from
the previous hour:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">GET /logs/2014-01/_search
{
    "query" : {
        "filtered" : {
            "filter" : {
                "range" : {
                    "timestamp" : {
                        "gt" : "now-1h"
                    }
                }
            }
        }
    }
}</pre></div><p>This filter is not cached because it uses the <code class="literal">now</code> function,<a id="id-1.5.3.12.6.2" class="indexterm"></a>
<a id="id-1.5.3.12.6.3" class="indexterm"></a> the value of
which changes every millisecond. That means that we have to examine one
month’s worth of log events every time we run this query!</p><p>We could make this much more efficient by combining it with a cached filter:
we can exclude most of the month’s data by adding a filter that uses a fixed
point in time, such as midnight last night:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">"bool": {
    "must": [
        { "range" : {
            "timestamp" : {
                "gt" : "now-1h/d" <a id="CO56-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
            }
        }},
        { "range" : {
            "timestamp" : {
                "gt" : "now-1h" <a id="CO56-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
            }
        }}
    ]
}</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO56-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
This filter is cached because it uses <code class="literal">now</code> rounded to midnight.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO56-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
This filter is not cached because it uses <code class="literal">now</code> <span class="emphasis"><em>without</em></span> rounding.
</p></td></tr></table></div><p>The <code class="literal">now-1h/d</code> clause rounds to the previous midnight and so excludes all documents
created before today.  The resulting bitset is cached because <code class="literal">now</code> is used
with rounding, which means that it is executed only once a day, when the value
for <span class="emphasis"><em>midnight-last-night</em></span> changes.  The <code class="literal">now-1h</code> clause isn’t cached because
<code class="literal">now</code> produces a time accurate to the nearest millisecond. However, thanks to
the first filter, this second filter need only check documents that have been
created since midnight.</p><p>The order of these clauses is important. This approach works only because the
<span class="emphasis"><em>since-midnight</em></span> clause comes before the <span class="emphasis"><em>last-hour</em></span> clause. If they were the
other  way around, then the <span class="emphasis"><em>last-hour</em></span> clause would need to examine all
documents in the index, instead of just documents created since midnight.</p></div></div><div class="navfooter"><span class="prev"><a href="search-in-depth.html">
              « 
              Search in Depth </a>
           
        </span><span class="next">
           
          <a href="full-text-search.html">Full-Text Search
               »
            </a></span></div>
<!-- end body -->

            </section>

            <div id="rtpcontainer"
        >
	<h3>Top Videos</h3>
	<ul class="lists">
		<li><a href="https://www.elastic.co/webinars/get-started-with-elasticsearch/?baymax=default&elektra=docs&storm=top-video">Getting Started</a></li>
		<li><a href="http://www.elastic.co/webinars/elasticsearch-performance-optimization-tale-two-tickets/?elektra=docs">Scaling</a></li>
		<li><a href="http://www.elastic.co/webinars/shield-securing-your-data-in-elasticsearch/?elektra=docs">Security</a></li>
	</ul>
</div>


	  	




<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
	<!-- subscribe-newsletter -->
	<div id="subscribe-newsletter">
		<div class="container">
			<div class="row">
				<div class="12u">
					<div class="subscribe-wrapper" id="rtp-newsletter">
						<header>
							<h3>Subscribe to our newsletter</h3>
						</header>
						<div class="subscribe-form">
							<form id="mktoForm_1398" class="container"></form>
							<div class="form_thanks hide">
								
									<p>Thanks for subscribing! We'll keep you updated with new releases.</p>
								
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

  	<!-- Footer -->
	<div id="footer-wrapper">
		<section id="footer" class="container">
			<div class="row">
				<div class="12u">
					<!-- Copyright -->
					<div id="copyright">
	<p>
		© 2016. All Rights Reserved - Elasticsearch
	</p>
	<ul class="links">
		<li>Elasticsearch is a trademark of Elasticsearch BV, registered in the U.S. and in other countries</li>
		<li><a href="/legal/trademarks" id="footer_trademarks">Trademarks</a></li>
		<li><a href="/legal/terms-of-use" id="footer_terms">Terms</a></li>
		<li><a href="/legal/privacy-policy" id="footer_privacy">Privacy</a></li>
	</ul>
	<p>
		Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the <a href="http://www.apache.org/" target="_blank">Apache Software Foundation</a> in the United States and/or other&nbsp;countries.
	</p>
</div><!--<div class="row">
{replace4}
</div>-->
				</div>
			</div>					
		</section>
	</div>
			
	<!-- Social Media -->
	<div id="socialmedia-wrapper">
		<section id="socialmedia" class="container">
			<!-- social icons -->
			<div id="social">
				<ul class="links">
					
						<li class="facebook grayscale"><a href="http://www.facebook.com/elastic.co" target="_blank" id="footer_facebook"></a></li>
					
						<li class="twitter grayscale"><a href="https://www.twitter.com/elastic" target="_blank" id="footer_twitter"></a></li>
					
						<li class="linkedin grayscale"><a href="https://www.linkedin.com/company/elastic-co" target="_blank" id="footer_linkedin"></a></li>
					
						<li class="xing grayscale"><a href="https://www.xing.com/companies/elastic.co" target="_blank" id="footer_xing"></a></li>
					
						<li class="youtube grayscale"><a href="https://www.youtube.com/user/elasticsearch" target="_blank" id="footer_youtube"></a></li>
					
				</ul>
			</div>
		</section>
	</div>


<style type="text/css">
	
		.facebook{background:url("https://static-www.elastic.co/assets/bltda40eebd7c7cae9a/facebook.svg?q=100") no-repeat;}		
	
		.twitter{background:url("https://static-www.elastic.co/assets/bltfd3b1511512f4632/twitter.svg?q=100") no-repeat;}		
	
		.linkedin{background:url("https://static-www.elastic.co/assets/blt6b4f6f8d6b96f814/linkedin.svg?q=100") no-repeat;}		
	
		.xing{background:url("https://static-www.elastic.co/assets/blta76b2ae2b2f10a98/xing.svg?q=100") no-repeat;}		
	
		.youtube{background:url("https://static-www.elastic.co/assets/blt5761648c9581fb53/youtube.svg?q=100") no-repeat;}		
	
</style>

<script>
MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", 1398,function(form){
	form.onSuccess(function(form){
		$('#mktoForm_1398').css('display','none');
		$('#subscribe-newsletter header').hide();
		$('#mktoForm_1398').siblings('.form_thanks').removeClass('hide')
		dataLayer.push({'event': 'mktoFormSubmit'});
	    return false;
  	});
});
</script>	

  	</div>
  	<!-- <div class="preloader">
    	<div class="status"></div>
	</div> -->
  	<style></style>
   	<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";	
</script>
<script src="https://static-www.elastic.co/static/js/jquery.autocomplete.js?q=100"></script>
<script src="https://static-www.elastic.co/static/js/script.js?q=100"></script>


   	
   	
   	
   	<script type="application/ld+json">
	
		
	
	{
	  	"@context": "http://schema.org",
	  	"@type": "Organization",
	  	"name" : "Elastic",
	  	"url": "https://www.elastic.co/",
	  	"logo": "https://www.elastic.co/static/img/elastic-logo-200.png",
		"sameAs" : [ "https://www.facebook.com/elastic.co",
			"https://twitter.com/elastic",
			"https://plus.google.com/105178019064686397293",
			"https://www.youtube.com/user/elasticsearch",
			"https://www.linkedin.com/company/elasticsearch"
		],
	  	"potentialAction": {
	    	"@type": "SearchAction",
	    	"target": "https://www.elastic.co/search?q={query_string}",
	    	"query-input": "required name=query_string"
	  	}
	}
</script>	

            <script type="text/javascript" src="docs.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script type='text/javascript' src='https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js'></script>

            </body>
        


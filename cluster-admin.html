
<!DOCTYPE HTML>
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>모니터링</title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch: The Definitive Guide" /><link rel="up" href="administration.html" title="관리, 모니터링, 배포" /><link rel="prev" href="administration.html" title="관리, 모니터링, 배포" /><link rel="next" href="deploy.html" title="제품의 배포" />
  
 	<meta http-equiv="content-type" content="text/html; charset=utf-8" />

 	<!-- RTP tag --> 
	<script type='text/javascript' async>
	(function(c,h,a,f,i,e){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
	 c[a].a=i;c[a].e=e;var g=h.createElement("script");g.async=true;g.type="text/javascript";
	 g.src=f+'?aid='+i;var b=h.getElementsByTagName("script")[0];b.parentNode.insertBefore(g,b);
	 })(window,document,"rtp","//sjrtp2-cdn.marketo.com/rtp-api/v1/rtp.js","elasticco");
	 
	rtp('send','view');
	rtp('get', 'campaign',true);
	</script>
	<!-- End of RTP tag -->
	
	
 	<link rel="apple-touch-icon" sizes="57x57"  href="https://www.elastic.co/apple-icon-57x57.png?change=123">
<link rel="apple-touch-icon" sizes="60x60"  href="https://www.elastic.co/apple-icon-60x60.png?change=123">
<link rel="apple-touch-icon" sizes="72x72"  href="https://www.elastic.co/apple-icon-72x72.png?change=123">
<link rel="apple-touch-icon" sizes="76x76"  href="https://www.elastic.co/apple-icon-76x76.png?change=123">
<link rel="apple-touch-icon" sizes="114x114"  href="https://www.elastic.co/apple-icon-114x114.png?change=123">
<link rel="apple-touch-icon" sizes="120x120"  href="https://www.elastic.co/apple-icon-120x120.png?change=123">
<link rel="apple-touch-icon" sizes="144x144"  href="https://www.elastic.co/apple-icon-144x144.png?change=123">
<link rel="apple-touch-icon" sizes="152x152"  href="https://www.elastic.co/apple-icon-152x152.png?change=123">
<link rel="apple-touch-icon" sizes="180x180"  href="https://www.elastic.co/apple-icon-180x180.png?change=123">
<link rel="icon" type="image/png" sizes="192x192"   href="https://www.elastic.co/android-icon-192x192.png?change=123">
<link rel="icon" type="image/png" sizes="32x32"  href="https://www.elastic.co/favicon-32x32.png?change=123">
<link rel="icon" type="image/png" sizes="96x96"  href="https://www.elastic.co/favicon-96x96.png?change=123">
<link rel="icon" type="image/png" sizes="16x16"  href="https://www.elastic.co/favicon-16x16.png?change=123">
<link rel="manifest"  href="https://www.elastic.co/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

<!-- DC tags section -->
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
<link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >
<meta name="DC.title" content="Guide template" >

<!-- end DC tags -->

	<meta name="description" content="" />

	<link rel="canonical" href="" />

	<meta property="og:image" content="https://www.elastic.co/static/img/elastic-logo-200.png" />
	


	
	<link type="text/css" rel="stylesheet" href="https://static-www.elastic.co/static/css/skel.css?q=100" />
	<link type="text/css" rel="stylesheet" href="https://static-www.elastic.co/static/css/style.css?q=100" />	
	<script src="https://static-www.elastic.co/static/js/skel.min.js?q=100"></script>
	
		<script type="text/javascript">form_name = "" ; cdn_url="https://static-www.elastic.co";cdn_slug = "100"</script>
	
	<script src="https://static-www.elastic.co/static/js/init.js?q=100"></script>
	<script src="https://static-www.elastic.co/static/js/jquery.min.js?q=100"></script>
	<script src="https://static-www.elastic.co/static/js/jquery.cookie.js?q=100"></script>
	<!--<script type="text/javascript">
	    (function() {
	        var path = '//easy.myfonts.net/v2/js?sid=10336(font-family=Avenir+35+Light)&sid=10338(font-family=Avenir+55+Roman)&sid=10340(font-family=Avenir+85+Heavy)&sid=10344(font-family=Avenir+65+Medium)&key=nAD6PCOPrX',
	            protocol = ('https:' == document.location.protocol ? 'https:' : 'http:'),
	            trial = document.createElement('script');
	        trial.type = 'text/javascript';
	        trial.async = true;
	        trial.src = protocol + path;
	        var head = document.getElementsByTagName("head")[0];
	        head.appendChild(trial);
	    })();
	</script>-->

	
	<link type="text/css" rel="stylesheet"  href="https://www.elastic.co/static/css/prettify.css" />
	<script type="text/javascript"  src="https://www.elastic.co/static/js/prettify.js"></script>



<link rel="stylesheet" type="text/css" href="styles.css" />

</head>
<body >
	<!-- Google Tag Manager -->
	<script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5"
													  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-58RLH5');</script>
	<!-- End Google Tag Manager -->
	
	<div class="header-cont">
		<div id="header-wrapper">
			


	<script  src="https://www.elastic.co/static/js/jquery.tokeninput.js?change=123"></script>
	<link rel="stylesheet" type="text/css"  href="https://www.elastic.co/static/css/token-input.css">

<div class="shortcuts-wrapper">
	<div class="container">
		<!-- Shortcuts -->
		<nav id="shortcuts">
			<ul class="links">
				
					<li class="shortcut-1">
						<a href="/downloads" id="header_downloads" >
							<span class="txt">downloads</span>	
						</a>
					</li>
				
					<li class="shortcut-2">
						<a href="/guide" id="header_guide" >
							<span class="txt">docs</span>	
						</a>
					</li>
				
					<li class="shortcut-3">
						<a href="/subscriptions" id="header_subscriptions" >
							<span class="txt">support</span>	
						</a>
					</li>
				
					<li class="shortcut-4">
						<a href="https://discuss.elastic.co" id="header_discuss" target="_blank">
							<span class="txt">discuss</span>	
						</a>
					</li>
				
					<li class="shortcut-5">
						<a href="/contact" id="header_contact" >
							<span class="txt">contact</span>	
						</a>
					</li>
				
			</ul>
		</nav>
		<div class="languages-wrapper">
			<div class="global-language">
				<ul class="language">
					<!-- <li class="active-language"><a class="active" href="#">EN</a></li> -->
					
						<li><a href="#">EN</a></li>
					
				</ul>
				<ul class="all-languages">
					
						
						<li><a href="/guide_template">English</a></li>
					
						
						<li><a href="/fr/guide_template">French</a></li>
					
						
						<li><a href="/de/guide_template">German</a></li>
					
						
						<li><a href="/jp/guide_template">Japanese</a></li>
					
						
						<li><a href="/kr/guide_template">Korean</a></li>
					
				</ul>
			</div>
		</div>
	</div>
</div>
<div class="container w100">
	<div class="row 0%">
		<div class="12u">
			

<section class="first-container desktop-main-nav">
	<div class="row 0%">
		<div class="11u 6u(small) 6u(xsmall)">
			<div id="elastic">
				<h1>
					<a href="/">
						<div id="elastic-logo">
						<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 400 130" preserveAspectRatio="xMinYMin meet" enable-background="new 0 0 400 130" xml:space="preserve">
    <g>
    	<g>
    		<path fill="#FFFFFF" d="M122.5,67.8c0-10.3-6.4-19.2-15.9-22.7c0.4-2.2,0.6-4.3,0.6-6.6c0-19.1-15.5-34.6-34.6-34.6
    			c-11.1,0-21.5,5.3-28,14.4c-3.2-2.5-7.1-3.8-11.2-3.8c-10.1,0-18.4,8.2-18.4,18.4c0,2.2,0.4,4.4,1.1,6.4C6.5,42.6,0,51.8,0,62
    			c0,10.3,6.4,19.3,16,22.8c-0.4,2.1-0.6,4.3-0.6,6.6c0,19,15.5,34.5,34.5,34.5c11.2,0,21.5-5.4,28-14.4c3.2,2.5,7.2,3.9,11.3,3.9
    			c10.1,0,18.4-8.2,18.4-18.4c0-2.2-0.4-4.4-1.1-6.4C115.9,87.2,122.5,78,122.5,67.8z"/>
    		<g>
    			<path fill="#F4BD19" d="M47.9,56.3l27.3,12.5l27.6-24.2c0.4-2,0.6-4,0.6-6.1c0-17-13.8-30.8-30.8-30.8c-10.2,0-19.7,5-25.4,13.4
    				l-4.6,23.8L47.9,56.3z"/>
    		</g>
    		<g>
    			<path fill="#3CBEB1" d="M19.6,85.2c-0.4,2-0.6,4.1-0.6,6.2c0,17,13.9,30.9,30.9,30.9c10.3,0,19.8-5.1,25.6-13.5L80,85l-6.1-11.6
    				L46.5,60.9L19.6,85.2z"/>
    		</g>
    		<g>
    			<path fill="#E9478C" d="M19.4,37.9l18.7,4.4L42.3,21c-2.6-2-5.7-3-9-3c-8.1,0-14.8,6.6-14.8,14.8C18.5,34.5,18.8,36.3,19.4,37.9z
    				"/>
    		</g>
    		<g>
    			<path fill="#2C458F" d="M17.8,42.4C9.4,45.1,3.6,53.2,3.6,62c0,8.6,5.3,16.3,13.3,19.3l26.3-23.8l-4.8-10.3L17.8,42.4z"/>
    		</g>
    		<g>
    			<path fill="#95C63D" d="M80.3,108.7c2.6,2,5.7,3.1,8.9,3.1c8.1,0,14.8-6.6,14.8-14.8c0-1.8-0.3-3.5-0.9-5.1l-18.7-4.4L80.3,108.7
    				z"/>
    		</g>
    		<g>
    			<path fill="#176655" d="M84.1,82.6l20.6,4.8c8.4-2.8,14.2-10.8,14.2-19.6c0-8.6-5.3-16.2-13.3-19.3l-27,23.6L84.1,82.6z"/>
    		</g>
    	</g>
    	<path d="M162.8,76.3c0,0.1,0,0.6,0.1,1.4c0.1,0.8,0.3,1.8,0.6,3c0.3,1.1,0.8,2.4,1.4,3.7c0.6,1.3,1.4,2.5,2.5,3.6
    		c1,1.1,2.3,2,3.8,2.7c1.5,0.7,3.4,1.1,5.6,1.1c1.8,0,3.3-0.1,4.6-0.4c1.3-0.3,2.4-0.7,3.4-1.3c1-0.6,1.9-1.3,2.7-2.2
    		c0.8-0.9,1.6-1.9,2.4-3.1c0.5-0.7,1-1.2,1.6-1.5c0.6-0.3,1.2-0.4,1.8-0.4c1,0,2,0.4,2.8,1.1c0.9,0.7,1.3,1.7,1.3,2.8
    		c0,0.7-0.4,1.7-1.1,3.1c-0.7,1.4-1.9,2.8-3.6,4.1c-1.6,1.4-3.7,2.6-6.3,3.6c-2.6,1-5.7,1.5-9.5,1.5c-3.8,0-7.2-0.7-10.2-2.1
    		c-3-1.4-5.5-3.2-7.5-5.6c-2-2.3-3.6-5-4.7-8.1c-1.1-3.1-1.6-6.3-1.6-9.7c0-3.5,0.5-6.8,1.6-9.9c1.1-3.1,2.7-5.8,4.7-8.1
    		c2-2.3,4.5-4.1,7.4-5.5c2.9-1.3,6.1-2,9.6-2c3.3,0,6.3,0.5,9.2,1.5c2.8,1,5.3,2.4,7.4,4.3c2.1,1.9,3.7,4.1,5,6.8
    		c1.2,2.7,1.8,5.8,1.8,9.2c0,2.1-0.5,3.7-1.6,4.8c-1,1.1-2.2,1.6-3.6,1.6H162.8z M170.9,56.4c-1.5,0.6-2.7,1.4-3.7,2.4
    		c-1,0.9-1.8,2-2.4,3.1c-0.6,1.1-1,2.2-1.3,3.2c-0.3,1-0.5,1.8-0.5,2.5c-0.1,0.7-0.1,1.1-0.1,1.2h27.9c0-1.8-0.3-3.5-0.9-5.1
    		c-0.6-1.6-1.5-3-2.6-4.3c-1.2-1.2-2.7-2.2-4.5-3c-1.8-0.7-4-1.1-6.5-1.1C174.2,55.5,172.4,55.8,170.9,56.4z"/>
    	<path d="M214.3,94.6c0,1.3-0.4,2.3-1.3,3.2c-0.9,0.9-1.9,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2V35.1
    		c0-1.3,0.4-2.3,1.3-3.2c0.9-0.9,2-1.3,3.2-1.3c1.3,0,2.3,0.4,3.2,1.3c0.9,0.9,1.3,1.9,1.3,3.2V94.6z"/>
    	<path d="M229.8,63.5c-0.6,0.3-1.2,0.5-1.9,0.5c-1.2,0-2.2-0.4-3.2-1.1c-1-0.7-1.5-1.8-1.5-3.1c0-0.5,0.1-1.1,0.4-1.9
    		c0.5-1.2,1.2-2.4,2.1-3.6c0.9-1.2,2-2.2,3.5-3.1s3.3-1.7,5.4-2.2c2.2-0.5,4.8-0.8,7.9-0.8c5.9,0,10.5,1.2,14,3.5
    		c3.5,2.3,5.2,5.8,5.2,10.3v32.8c0,1.3-0.4,2.3-1.3,3.2c-0.9,0.9-1.9,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2v-2
    		c-1.2,2-4.7,4.5-7.5,5.3c-2.8,0.8-5.7,1.2-8.8,1.2c-2,0-3.9-0.3-5.9-0.8c-2-0.5-3.8-1.4-5.3-2.5c-1.6-1.1-2.9-2.6-3.8-4.3
    		c-1-1.7-1.5-3.8-1.5-6.2c0-2.8,0.5-5.7,1.6-7.5c1.1-1.9,2.6-3.4,4.4-4.6c1.8-1.2,3.9-2.1,6.3-2.8c2.4-0.6,4.9-1.1,7.5-1.4
    		c3-0.3,5.4-0.7,7.2-1.2c1.7-0.4,3-0.9,3.9-1.5c0.9-0.6,1.4-1.2,1.6-2c0.2-0.7,0.3-1.6,0.3-2.5c0-1.1-0.3-2-0.9-2.8
    		c-0.6-0.8-1.4-1.5-2.4-2c-1-0.5-2.1-0.9-3.3-1.2s-2.4-0.4-3.5-0.4c-2.1,0-3.7,0.2-5,0.5c-1.3,0.3-2.3,0.8-3.1,1.4
    		c-0.8,0.6-1.5,1.3-1.9,2.1c-0.5,0.8-0.9,1.6-1.3,2.5C230.9,62.6,230.4,63.1,229.8,63.5z M250.6,74.4c-1.1,0.3-2.4,0.6-3.8,0.8
    		c-1.5,0.2-3,0.4-4.6,0.6c-1.6,0.2-3.1,0.5-4.6,0.9c-1.5,0.3-2.8,0.8-4,1.5c-1.2,0.7-2.2,1.5-2.9,2.5c-0.7,1-1.1,3-1.1,4.6
    		c0,1.3,0.3,2.3,0.8,3.1c0.5,0.8,1.2,1.5,2.1,2c0.9,0.5,1.8,0.8,2.9,1c1.1,0.2,2.2,0.3,3.3,0.3c1.7,0,3.3-0.2,5-0.6
    		c1.7-0.4,3.2-1,4.5-1.9s2.4-2,3.3-3.5c0.8-1.4,1.2-3.8,1.2-5.9v-6.1L250.6,74.4z"/>
    	<path d="M307.6,90.9c-1.1,2-2.7,3.6-4.6,4.8s-4.1,2.1-6.6,2.7c-2.5,0.5-5.2,0.8-7.9,0.8c-3.9,0-7.2-0.6-9.9-1.8
    		c-2.7-1.2-4.9-2.6-6.5-4.1c-1.7-1.6-2.9-3.1-3.7-4.7c-0.7-1.6-1.1-2.7-1.1-3.5c0-1.3,0.5-2.4,1.4-3.2c0.9-0.8,2-1.2,3.1-1.2
    		c0.7,0,1.3,0.2,2,0.6c0.6,0.4,1.1,1,1.5,1.9c1,2.5,2.5,4.5,4.7,6.2c2.2,1.7,5.2,2.5,9.3,2.5c1.8,0,3.4-0.2,4.7-0.6
    		c1.3-0.4,2.4-1,3.2-1.7c0.8-0.7,1.4-1.5,1.9-2.4c0.4-0.9,0.6-1.8,0.6-2.8c0-2-0.8-3.4-2.3-4.4c-1.5-1-3.5-1.7-5.8-2.3
    		c-2.3-0.6-4.8-1.1-7.5-1.6c-2.7-0.5-5.2-1.2-7.5-2.2c-2.3-0.9-4.2-2.3-5.8-4c-1.6-1.8-2.3-4.2-2.3-7.3c0-4.5,1.6-8,4.9-10.5
    		c3.3-2.5,7.8-3.8,13.7-3.8c3.3,0,6,0.3,8.3,1c2.2,0.7,4.1,1.6,5.5,2.7c0.6,0.5,1.2,1,1.8,1.7c0.6,0.7,1.2,1.4,1.8,2.2
    		c0.6,0.8,1,1.5,1.4,2.3c0.4,0.7,0.6,1.4,0.6,2c0,1.3-0.5,2.4-1.6,3.1c-1,0.8-2.2,1.2-3.4,1.2c-0.7,0-1.5-0.1-2.1-0.6
    		c-0.6-0.6-1-1.3-1.3-1.8c-0.5-1.1-1.1-2-1.7-2.8c-0.5-0.8-1.2-1.5-2-2c-0.8-0.5-1.8-0.9-3-1.2c-1.2-0.3-2.7-0.4-4.4-0.4
    		c-3.5,0-6,0.6-7.6,1.7c-1.6,1.1-2.4,2.5-2.4,4.2c0,1.3,0.5,2.3,1.4,3.1c0.9,0.8,2.1,1.4,3.7,2c1.5,0.5,3.3,1,5.2,1.4
    		c2,0.4,3.9,0.8,5.9,1.3c2,0.5,4,1.1,5.9,1.7c1.9,0.7,3.7,1.6,5.2,2.7c1.5,1.1,2.7,2.5,3.7,4.1c0.9,1.6,1.4,3.6,1.4,6
    		C309.4,86.4,308.8,88.9,307.6,90.9z"/>
    	<path d="M327.4,48.8h4.7c1.1,0,2,0.4,2.8,1.2c0.8,0.8,1.2,1.7,1.2,2.8c0,1.1-0.4,2.1-1.2,2.8s-1.7,1.1-2.8,1.1h-4.7v37.9
    		c0,1.3-0.4,2.3-1.3,3.2c-0.9,0.9-2,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2V56.7h-4.6c-1.1,0-2-0.4-2.8-1.1
    		c-0.8-0.7-1.2-1.7-1.2-2.8c0-1.1,0.4-2,1.2-2.8c0.8-0.8,1.7-1.2,2.8-1.2h4.6V39c0-1.3,0.4-2.3,1.3-3.2s1.9-1.3,3.2-1.3
    		c1.3,0,2.3,0.4,3.2,1.3s1.3,1.9,1.3,3.2V48.8z"/>
    	<path d="M341.5,32.1c1-1,2.2-1.5,3.7-1.5c1.4,0,2.6,0.5,3.6,1.5c1,1,1.5,2.2,1.5,3.6c0,1.4-0.5,2.6-1.5,3.6c-1,1-2.2,1.5-3.6,1.5
    		c-1.4,0-2.7-0.5-3.7-1.5c-1-1-1.5-2.2-1.5-3.6C340,34.2,340.5,33,341.5,32.1z M349.6,94.6c0,1.3-0.4,2.3-1.3,3.2
    		c-0.9,0.9-1.9,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2V53.3c0-1.3,0.4-2.3,1.3-3.2c0.9-0.9,2-1.3,3.2-1.3
    		c1.3,0,2.3,0.4,3.2,1.3c0.9,0.9,1.3,2,1.3,3.2V94.6z"/>
    	<path d="M369.1,97.3c-2.9-1.2-5.4-3-7.5-5.2c-2.1-2.2-3.8-4.9-5-8.1c-1.2-3.1-1.8-6.6-1.8-10.4c0-3.8,0.6-7.3,1.8-10.5
    		c1.2-3.1,2.9-5.8,5-8.1c2.1-2.2,4.6-4,7.5-5.2c2.9-1.2,6-1.9,9.4-1.9c3.4,0,6.4,0.5,9,1.5c2.5,1,4.6,2.2,6.2,3.6
    		c1.6,1.4,3.2,2.9,4,4.4c0.5,0.9,0.9,1.5,0.9,2.6c0,1.3-0.5,2.3-1.4,3.1c-0.9,0.7-2,1.1-3.1,1.1c-0.8,0-1.6-0.2-2.2-0.6
    		c-0.7-0.4-1.2-1.3-1.8-2.1c-1-1.4-0.5-0.6-1.1-1.5c-0.7-0.9-1.5-1.6-2.5-2.3c-1-0.7-2.2-1.2-3.5-1.6c-1.4-0.4-2.8-0.6-4.4-0.6
    		c-1.8,0-3.5,0.3-5.3,1c-1.8,0.7-3.3,1.7-4.7,3.1c-1.4,1.4-2.5,3.3-3.4,5.6s-1.3,5.1-1.3,8.4c0,3.3,0.4,6.1,1.3,8.4s2,4.2,3.4,5.6
    		c1.4,1.4,3,2.5,4.7,3.1c1.8,0.7,3.5,1,5.3,1c1.6,0,3.1-0.2,4.4-0.6c1.3-0.4,2.5-0.9,3.5-1.6c1-0.7,1.8-1.5,2.5-2.3
    		c0.7-0.9,1.1-1.8,1.4-2.7c0.3-1,0.8-1.7,1.5-2.1c0.7-0.4,1.4-0.6,2.2-0.6c1.1,0,2.2,0.4,3.1,1.1c0.9,0.7,1.4,1.7,1.4,3
    		c0,0.6-0.3,1.7-0.9,3.1c-0.6,1.5-1.6,2.9-3.1,4.4c-1.5,1.5-3.5,2.8-6.2,4c-2.6,1.1-6,1.7-10,1.7C375.1,99.2,372,98.5,369.1,97.3z"
    		/>
    </g>
</svg>
						</div>
					</a>
				</h1>
			</div>
			<nav id="nav">
				<ul>
					
					<li>
						
							
						
						<a href="/products" id="nav_products"   >Products</a>
						
						<ul class="dropdown">
							
								<li><a href="/products/elasticsearch" id="nav_elasticsearch" >elasticsearch</a></li>								
							
								<li><a href="/found" id="nav_hosted-elasticsearch" >elasticsearch as a service</a></li>								
							
								<li><a href="/products/logstash" id="nav_logstash" >logstash</a></li>								
							
								<li><a href="/products/kibana" id="nav_kibana" >kibana</a></li>								
							
								<li><a href="/products/beats" id="nav_beats" >beats</a></li>								
							
								<li><a href="/products/watcher" id="nav_watcher" >watcher</a></li>								
							
								<li><a href="/products/shield" id="nav_shield" >shield</a></li>								
							
								<li><a href="/products/marvel" id="nav_marvel" >marvel</a></li>								
							
								<li><a href="/products/hadoop" id="nav_hadoop" >hadoop</a></li>								
							
								<li><a href="/downloads" id="nav_downloads" >downloads</a></li>								
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/subscriptions" id="nav_subscriptions"   >Subscriptions</a>
						
						<ul class="dropdown">
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/learn" id="nav_learn"   >Learn</a>
						
						<ul class="dropdown">
							
								<li><a href="/guide" id="nav_guide" >docs</a></li>								
							
								<li><a href="/videos" id="nav_videos" >videos</a></li>								
							
								<li><a href="/training" id="nav_training" >training</a></li>								
							
								<li><a href="/services" id="nav_services" >services</a></li>								
							
								<li><a href="/blog" id="nav_learn_blog" >blog</a></li>								
							
								<li><a href="/elasticon" id="nav_learn_elasticon" >elastic{ON}</a></li>								
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/community" id="nav_community"   >Community</a>
						
						<ul class="dropdown">
							
								<li><a href="/community/meetups" id="nav_meetups" >meetups</a></li>								
							
								<li><a href="https://discuss.elastic.co" id="nav_discuss" target="_blank">discuss</a></li>								
							
								<li><a href="/community/codeofconduct" id="nav_codeofconduct" >code of conduct</a></li>								
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/use-cases" id="nav_usecases"   >Use Cases</a>
						
						<ul class="dropdown">
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/blog" id="nav_blog"   >Blog</a>
						
						<ul class="dropdown">
							
								<li><a href="/blog/category/news" id="blog_news" >News</a></li>								
							
								<li><a href="/blog/category/engineering" id="blog_engineering" >Engineering</a></li>								
							
								<li><a href="/blog/category/user-stories" id="blog_user-stories" >User Stories</a></li>								
							
								<li><a href="/blog/category/releases" id="blog_releases" >Releases</a></li>								
							
								<li><a href="/blog/archive" id="blog_archive" >Archive</a></li>								
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/about" id="nav_about"   >About</a>
						
						<ul class="dropdown">
							
								<li><a href="/about/leadership" id="nav_leadership" >leadership</a></li>								
							
								<li><a href="/about/board" id="nav_board" >board of directors</a></li>								
							
								<li><a href="/about/careers" id="nav_careers" >careers</a></li>								
							
								<li><a href="/about/partners" id="nav_partners" >partners</a></li>								
							
								<li><a href="/about/press" id="nav_press" >press</a></li>								
								
						</ul>							
					</li>
					
				</ul>
			</nav>			
			<!-- Searchbar Input box -->
			 <!-- <form method="get" action="/search" name="searchForm" class="header-search-form" id="searchMobileFrm">
			   <input type="text" id="search-header-autocomplete" name="q" class="form-control global-input" placeholder="elastic{search}">
			</form>
			<div class="mobile-auto-complete"></div> -->  
		</div>
		<div class="1u 6u(small) 6u(xsmall)">
			<div id="searchbar">
				<a href="#" class="button icon"></a>
			</div>
			<!-- <div class="nav-auto-complete"></div> -->
		</div>
	</div>
</section>
<div class="mobile-menu-wrapper">
	<div class="row 0%">
		<div class="8u 6u(small) 6u(xsmall)">
			<div id="elastic">
				<h1>
					<a href="/">
						<div id="elastic-logo">
						<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 400 130" preserveAspectRatio="xMinYMin meet" enable-background="new 0 0 400 130" xml:space="preserve">
    <g>
    	<g>
    		<path fill="#FFFFFF" d="M122.5,67.8c0-10.3-6.4-19.2-15.9-22.7c0.4-2.2,0.6-4.3,0.6-6.6c0-19.1-15.5-34.6-34.6-34.6
    			c-11.1,0-21.5,5.3-28,14.4c-3.2-2.5-7.1-3.8-11.2-3.8c-10.1,0-18.4,8.2-18.4,18.4c0,2.2,0.4,4.4,1.1,6.4C6.5,42.6,0,51.8,0,62
    			c0,10.3,6.4,19.3,16,22.8c-0.4,2.1-0.6,4.3-0.6,6.6c0,19,15.5,34.5,34.5,34.5c11.2,0,21.5-5.4,28-14.4c3.2,2.5,7.2,3.9,11.3,3.9
    			c10.1,0,18.4-8.2,18.4-18.4c0-2.2-0.4-4.4-1.1-6.4C115.9,87.2,122.5,78,122.5,67.8z"/>
    		<g>
    			<path fill="#F4BD19" d="M47.9,56.3l27.3,12.5l27.6-24.2c0.4-2,0.6-4,0.6-6.1c0-17-13.8-30.8-30.8-30.8c-10.2,0-19.7,5-25.4,13.4
    				l-4.6,23.8L47.9,56.3z"/>
    		</g>
    		<g>
    			<path fill="#3CBEB1" d="M19.6,85.2c-0.4,2-0.6,4.1-0.6,6.2c0,17,13.9,30.9,30.9,30.9c10.3,0,19.8-5.1,25.6-13.5L80,85l-6.1-11.6
    				L46.5,60.9L19.6,85.2z"/>
    		</g>
    		<g>
    			<path fill="#E9478C" d="M19.4,37.9l18.7,4.4L42.3,21c-2.6-2-5.7-3-9-3c-8.1,0-14.8,6.6-14.8,14.8C18.5,34.5,18.8,36.3,19.4,37.9z
    				"/>
    		</g>
    		<g>
    			<path fill="#2C458F" d="M17.8,42.4C9.4,45.1,3.6,53.2,3.6,62c0,8.6,5.3,16.3,13.3,19.3l26.3-23.8l-4.8-10.3L17.8,42.4z"/>
    		</g>
    		<g>
    			<path fill="#95C63D" d="M80.3,108.7c2.6,2,5.7,3.1,8.9,3.1c8.1,0,14.8-6.6,14.8-14.8c0-1.8-0.3-3.5-0.9-5.1l-18.7-4.4L80.3,108.7
    				z"/>
    		</g>
    		<g>
    			<path fill="#176655" d="M84.1,82.6l20.6,4.8c8.4-2.8,14.2-10.8,14.2-19.6c0-8.6-5.3-16.2-13.3-19.3l-27,23.6L84.1,82.6z"/>
    		</g>
    	</g>
    	<path d="M162.8,76.3c0,0.1,0,0.6,0.1,1.4c0.1,0.8,0.3,1.8,0.6,3c0.3,1.1,0.8,2.4,1.4,3.7c0.6,1.3,1.4,2.5,2.5,3.6
    		c1,1.1,2.3,2,3.8,2.7c1.5,0.7,3.4,1.1,5.6,1.1c1.8,0,3.3-0.1,4.6-0.4c1.3-0.3,2.4-0.7,3.4-1.3c1-0.6,1.9-1.3,2.7-2.2
    		c0.8-0.9,1.6-1.9,2.4-3.1c0.5-0.7,1-1.2,1.6-1.5c0.6-0.3,1.2-0.4,1.8-0.4c1,0,2,0.4,2.8,1.1c0.9,0.7,1.3,1.7,1.3,2.8
    		c0,0.7-0.4,1.7-1.1,3.1c-0.7,1.4-1.9,2.8-3.6,4.1c-1.6,1.4-3.7,2.6-6.3,3.6c-2.6,1-5.7,1.5-9.5,1.5c-3.8,0-7.2-0.7-10.2-2.1
    		c-3-1.4-5.5-3.2-7.5-5.6c-2-2.3-3.6-5-4.7-8.1c-1.1-3.1-1.6-6.3-1.6-9.7c0-3.5,0.5-6.8,1.6-9.9c1.1-3.1,2.7-5.8,4.7-8.1
    		c2-2.3,4.5-4.1,7.4-5.5c2.9-1.3,6.1-2,9.6-2c3.3,0,6.3,0.5,9.2,1.5c2.8,1,5.3,2.4,7.4,4.3c2.1,1.9,3.7,4.1,5,6.8
    		c1.2,2.7,1.8,5.8,1.8,9.2c0,2.1-0.5,3.7-1.6,4.8c-1,1.1-2.2,1.6-3.6,1.6H162.8z M170.9,56.4c-1.5,0.6-2.7,1.4-3.7,2.4
    		c-1,0.9-1.8,2-2.4,3.1c-0.6,1.1-1,2.2-1.3,3.2c-0.3,1-0.5,1.8-0.5,2.5c-0.1,0.7-0.1,1.1-0.1,1.2h27.9c0-1.8-0.3-3.5-0.9-5.1
    		c-0.6-1.6-1.5-3-2.6-4.3c-1.2-1.2-2.7-2.2-4.5-3c-1.8-0.7-4-1.1-6.5-1.1C174.2,55.5,172.4,55.8,170.9,56.4z"/>
    	<path d="M214.3,94.6c0,1.3-0.4,2.3-1.3,3.2c-0.9,0.9-1.9,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2V35.1
    		c0-1.3,0.4-2.3,1.3-3.2c0.9-0.9,2-1.3,3.2-1.3c1.3,0,2.3,0.4,3.2,1.3c0.9,0.9,1.3,1.9,1.3,3.2V94.6z"/>
    	<path d="M229.8,63.5c-0.6,0.3-1.2,0.5-1.9,0.5c-1.2,0-2.2-0.4-3.2-1.1c-1-0.7-1.5-1.8-1.5-3.1c0-0.5,0.1-1.1,0.4-1.9
    		c0.5-1.2,1.2-2.4,2.1-3.6c0.9-1.2,2-2.2,3.5-3.1s3.3-1.7,5.4-2.2c2.2-0.5,4.8-0.8,7.9-0.8c5.9,0,10.5,1.2,14,3.5
    		c3.5,2.3,5.2,5.8,5.2,10.3v32.8c0,1.3-0.4,2.3-1.3,3.2c-0.9,0.9-1.9,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2v-2
    		c-1.2,2-4.7,4.5-7.5,5.3c-2.8,0.8-5.7,1.2-8.8,1.2c-2,0-3.9-0.3-5.9-0.8c-2-0.5-3.8-1.4-5.3-2.5c-1.6-1.1-2.9-2.6-3.8-4.3
    		c-1-1.7-1.5-3.8-1.5-6.2c0-2.8,0.5-5.7,1.6-7.5c1.1-1.9,2.6-3.4,4.4-4.6c1.8-1.2,3.9-2.1,6.3-2.8c2.4-0.6,4.9-1.1,7.5-1.4
    		c3-0.3,5.4-0.7,7.2-1.2c1.7-0.4,3-0.9,3.9-1.5c0.9-0.6,1.4-1.2,1.6-2c0.2-0.7,0.3-1.6,0.3-2.5c0-1.1-0.3-2-0.9-2.8
    		c-0.6-0.8-1.4-1.5-2.4-2c-1-0.5-2.1-0.9-3.3-1.2s-2.4-0.4-3.5-0.4c-2.1,0-3.7,0.2-5,0.5c-1.3,0.3-2.3,0.8-3.1,1.4
    		c-0.8,0.6-1.5,1.3-1.9,2.1c-0.5,0.8-0.9,1.6-1.3,2.5C230.9,62.6,230.4,63.1,229.8,63.5z M250.6,74.4c-1.1,0.3-2.4,0.6-3.8,0.8
    		c-1.5,0.2-3,0.4-4.6,0.6c-1.6,0.2-3.1,0.5-4.6,0.9c-1.5,0.3-2.8,0.8-4,1.5c-1.2,0.7-2.2,1.5-2.9,2.5c-0.7,1-1.1,3-1.1,4.6
    		c0,1.3,0.3,2.3,0.8,3.1c0.5,0.8,1.2,1.5,2.1,2c0.9,0.5,1.8,0.8,2.9,1c1.1,0.2,2.2,0.3,3.3,0.3c1.7,0,3.3-0.2,5-0.6
    		c1.7-0.4,3.2-1,4.5-1.9s2.4-2,3.3-3.5c0.8-1.4,1.2-3.8,1.2-5.9v-6.1L250.6,74.4z"/>
    	<path d="M307.6,90.9c-1.1,2-2.7,3.6-4.6,4.8s-4.1,2.1-6.6,2.7c-2.5,0.5-5.2,0.8-7.9,0.8c-3.9,0-7.2-0.6-9.9-1.8
    		c-2.7-1.2-4.9-2.6-6.5-4.1c-1.7-1.6-2.9-3.1-3.7-4.7c-0.7-1.6-1.1-2.7-1.1-3.5c0-1.3,0.5-2.4,1.4-3.2c0.9-0.8,2-1.2,3.1-1.2
    		c0.7,0,1.3,0.2,2,0.6c0.6,0.4,1.1,1,1.5,1.9c1,2.5,2.5,4.5,4.7,6.2c2.2,1.7,5.2,2.5,9.3,2.5c1.8,0,3.4-0.2,4.7-0.6
    		c1.3-0.4,2.4-1,3.2-1.7c0.8-0.7,1.4-1.5,1.9-2.4c0.4-0.9,0.6-1.8,0.6-2.8c0-2-0.8-3.4-2.3-4.4c-1.5-1-3.5-1.7-5.8-2.3
    		c-2.3-0.6-4.8-1.1-7.5-1.6c-2.7-0.5-5.2-1.2-7.5-2.2c-2.3-0.9-4.2-2.3-5.8-4c-1.6-1.8-2.3-4.2-2.3-7.3c0-4.5,1.6-8,4.9-10.5
    		c3.3-2.5,7.8-3.8,13.7-3.8c3.3,0,6,0.3,8.3,1c2.2,0.7,4.1,1.6,5.5,2.7c0.6,0.5,1.2,1,1.8,1.7c0.6,0.7,1.2,1.4,1.8,2.2
    		c0.6,0.8,1,1.5,1.4,2.3c0.4,0.7,0.6,1.4,0.6,2c0,1.3-0.5,2.4-1.6,3.1c-1,0.8-2.2,1.2-3.4,1.2c-0.7,0-1.5-0.1-2.1-0.6
    		c-0.6-0.6-1-1.3-1.3-1.8c-0.5-1.1-1.1-2-1.7-2.8c-0.5-0.8-1.2-1.5-2-2c-0.8-0.5-1.8-0.9-3-1.2c-1.2-0.3-2.7-0.4-4.4-0.4
    		c-3.5,0-6,0.6-7.6,1.7c-1.6,1.1-2.4,2.5-2.4,4.2c0,1.3,0.5,2.3,1.4,3.1c0.9,0.8,2.1,1.4,3.7,2c1.5,0.5,3.3,1,5.2,1.4
    		c2,0.4,3.9,0.8,5.9,1.3c2,0.5,4,1.1,5.9,1.7c1.9,0.7,3.7,1.6,5.2,2.7c1.5,1.1,2.7,2.5,3.7,4.1c0.9,1.6,1.4,3.6,1.4,6
    		C309.4,86.4,308.8,88.9,307.6,90.9z"/>
    	<path d="M327.4,48.8h4.7c1.1,0,2,0.4,2.8,1.2c0.8,0.8,1.2,1.7,1.2,2.8c0,1.1-0.4,2.1-1.2,2.8s-1.7,1.1-2.8,1.1h-4.7v37.9
    		c0,1.3-0.4,2.3-1.3,3.2c-0.9,0.9-2,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2V56.7h-4.6c-1.1,0-2-0.4-2.8-1.1
    		c-0.8-0.7-1.2-1.7-1.2-2.8c0-1.1,0.4-2,1.2-2.8c0.8-0.8,1.7-1.2,2.8-1.2h4.6V39c0-1.3,0.4-2.3,1.3-3.2s1.9-1.3,3.2-1.3
    		c1.3,0,2.3,0.4,3.2,1.3s1.3,1.9,1.3,3.2V48.8z"/>
    	<path d="M341.5,32.1c1-1,2.2-1.5,3.7-1.5c1.4,0,2.6,0.5,3.6,1.5c1,1,1.5,2.2,1.5,3.6c0,1.4-0.5,2.6-1.5,3.6c-1,1-2.2,1.5-3.6,1.5
    		c-1.4,0-2.7-0.5-3.7-1.5c-1-1-1.5-2.2-1.5-3.6C340,34.2,340.5,33,341.5,32.1z M349.6,94.6c0,1.3-0.4,2.3-1.3,3.2
    		c-0.9,0.9-1.9,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2V53.3c0-1.3,0.4-2.3,1.3-3.2c0.9-0.9,2-1.3,3.2-1.3
    		c1.3,0,2.3,0.4,3.2,1.3c0.9,0.9,1.3,2,1.3,3.2V94.6z"/>
    	<path d="M369.1,97.3c-2.9-1.2-5.4-3-7.5-5.2c-2.1-2.2-3.8-4.9-5-8.1c-1.2-3.1-1.8-6.6-1.8-10.4c0-3.8,0.6-7.3,1.8-10.5
    		c1.2-3.1,2.9-5.8,5-8.1c2.1-2.2,4.6-4,7.5-5.2c2.9-1.2,6-1.9,9.4-1.9c3.4,0,6.4,0.5,9,1.5c2.5,1,4.6,2.2,6.2,3.6
    		c1.6,1.4,3.2,2.9,4,4.4c0.5,0.9,0.9,1.5,0.9,2.6c0,1.3-0.5,2.3-1.4,3.1c-0.9,0.7-2,1.1-3.1,1.1c-0.8,0-1.6-0.2-2.2-0.6
    		c-0.7-0.4-1.2-1.3-1.8-2.1c-1-1.4-0.5-0.6-1.1-1.5c-0.7-0.9-1.5-1.6-2.5-2.3c-1-0.7-2.2-1.2-3.5-1.6c-1.4-0.4-2.8-0.6-4.4-0.6
    		c-1.8,0-3.5,0.3-5.3,1c-1.8,0.7-3.3,1.7-4.7,3.1c-1.4,1.4-2.5,3.3-3.4,5.6s-1.3,5.1-1.3,8.4c0,3.3,0.4,6.1,1.3,8.4s2,4.2,3.4,5.6
    		c1.4,1.4,3,2.5,4.7,3.1c1.8,0.7,3.5,1,5.3,1c1.6,0,3.1-0.2,4.4-0.6c1.3-0.4,2.5-0.9,3.5-1.6c1-0.7,1.8-1.5,2.5-2.3
    		c0.7-0.9,1.1-1.8,1.4-2.7c0.3-1,0.8-1.7,1.5-2.1c0.7-0.4,1.4-0.6,2.2-0.6c1.1,0,2.2,0.4,3.1,1.1c0.9,0.7,1.4,1.7,1.4,3
    		c0,0.6-0.3,1.7-0.9,3.1c-0.6,1.5-1.6,2.9-3.1,4.4c-1.5,1.5-3.5,2.8-6.2,4c-2.6,1.1-6,1.7-10,1.7C375.1,99.2,372,98.5,369.1,97.3z"
    		/>
    </g>
</svg>
						</div>
					</a>
				</h1>
			</div>
		</div>
		<div class="4u 6u(small) 6u(xsmall) text-right">
			<!-- <div class="mobile-menu-wrapper"> -->
				<ul class="m-shortcuts">
					
					<li><a href="#" class="m-search" id="header-search"></a></li>
					
					<li><a href="/guide" class="m-docs" id="mobile-docs"></a></li>
					
					<li><a href="/contact" class="m-contact" id="mobile-contact"></a></li>
					
				</ul>	
				<nav class="nav-menu">
					<div class="menu-button">
						<span></span>
					</div>
					<div class="nav-menu-list-wrap">
						<div class="nav-menu-list">
							
								<h3><a href="/products" id="nav_products" >Products</a></h3>

								
								<ul>
									
									<li><a href="/products/elasticsearch" id="nav_elasticsearch" >elasticsearch</a></li>
									
									<li><a href="/found" id="nav_hosted-elasticsearch" >elasticsearch as a service</a></li>
									
									<li><a href="/products/logstash" id="nav_logstash" >logstash</a></li>
									
									<li><a href="/products/kibana" id="nav_kibana" >kibana</a></li>
									
									<li><a href="/products/beats" id="nav_beats" >beats</a></li>
									
									<li><a href="/products/watcher" id="nav_watcher" >watcher</a></li>
									
									<li><a href="/products/shield" id="nav_shield" >shield</a></li>
									
									<li><a href="/products/marvel" id="nav_marvel" >marvel</a></li>
									
									<li><a href="/products/hadoop" id="nav_hadoop" >hadoop</a></li>
									
									<li><a href="/downloads" id="nav_downloads" >downloads</a></li>
									
								</ul>
								
							
								<h3><a href="/subscriptions" id="nav_subscriptions" >Subscriptions</a></h3>

								
							
								<h3><a href="/learn" id="nav_learn" >Learn</a></h3>

								
								<ul>
									
									<li><a href="/guide" id="nav_guide" >docs</a></li>
									
									<li><a href="/videos" id="nav_videos" >videos</a></li>
									
									<li><a href="/training" id="nav_training" >training</a></li>
									
									<li><a href="/services" id="nav_services" >services</a></li>
									
									<li><a href="/blog" id="nav_learn_blog" >blog</a></li>
									
									<li><a href="/elasticon" id="nav_learn_elasticon" >elastic{ON}</a></li>
									
								</ul>
								
							
								<h3><a href="/community" id="nav_community" >Community</a></h3>

								
								<ul>
									
									<li><a href="/community/meetups" id="nav_meetups" >meetups</a></li>
									
									<li><a href="/https:/discuss.elastic.co" id="nav_discuss" target="_blank">discuss</a></li>
									
									<li><a href="/community/codeofconduct" id="nav_codeofconduct" >code of conduct</a></li>
									
								</ul>
								
							
								<h3><a href="/use-cases" id="nav_usecases" >Use Cases</a></h3>

								
							
								<h3><a href="/blog" id="nav_blog" >Blog</a></h3>

								
								<ul>
									
									<li><a href="/blog/category/news" id="blog_news" >News</a></li>
									
									<li><a href="/blog/category/engineering" id="blog_engineering" >Engineering</a></li>
									
									<li><a href="/blog/category/user-stories" id="blog_user-stories" >User Stories</a></li>
									
									<li><a href="/blog/category/releases" id="blog_releases" >Releases</a></li>
									
									<li><a href="/blog/archive" id="blog_archive" >Archive</a></li>
									
								</ul>
								
							
								<h3><a href="/about" id="nav_about" >About</a></h3>

								
								<ul>
									
									<li><a href="/about/leadership" id="nav_leadership" >leadership</a></li>
									
									<li><a href="/about/board" id="nav_board" >board of directors</a></li>
									
									<li><a href="/about/careers" id="nav_careers" >careers</a></li>
									
									<li><a href="/about/partners" id="nav_partners" >partners</a></li>
									
									<li><a href="/about/press" id="nav_press" >press</a></li>
									
								</ul>
								
							
						</div>
					</div>
				</nav>
			<!-- </div> -->
		</div>
	</div>
</div>
<!-- Mobile Menu -->


		</div>
	</div>
</div>
<div class="header-search-wrapper">	
	<div class="container">
		<div class="big-search">
			<i class="big-search-icon"></i>
			<form method="get" action="/search" autocomplete="on" name="searchForm" id="searchfrm">
				<ul class="tags-wrapper">
					<li class="search-field"><input type="text" class="form-control global-input" id="autocomplete" name="q"></li>
				</ul>
			</form>
			<a href="#" class="header-search-cancel"></a>
		</div>
		<div class="nav-auto-complete"></div>
	</div>
</div>
<style>	
	
	
		.m-shortcuts li a.m-search {
			background: url("https://static-www.elastic.co/assets/blt174b13be89ff803c/m-search-icon.png?q=100") no-repeat scroll center center rgba(0, 0, 0, 0);
			background-size: contain;}
	
		.m-shortcuts li a.m-docs {
			background: url("https://static-www.elastic.co/assets/blt5ba03f594a7d610a/m-guide-icon.png?q=100") no-repeat scroll center center rgba(0, 0, 0, 0);
			background-size: contain;}
	
		.m-shortcuts li a.m-contact {
			background: url("https://static-www.elastic.co/assets/blt38c3e853c4b1174d/m-contact-icon.png?q=100") no-repeat scroll center center rgba(0, 0, 0, 0);
			background-size: contain;}
		
</style>
		</div>
	</div>
  	<div id="content">
  		
  			
            <div id="pageheader">
    <div class="container">
        <header>
            <h1><a href="/learn" title="Learn">Learn</a> |</h1>
            <h2><a href="/guide" title="Docs">Docs</a></h2>
        </header>
    </div>
</div>
<section id="guide">

            <!-- start body -->
<div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch: The Definitive Guide</a></span> » <span class="breadcrumb-link"><a href="administration.html">관리, 모니터링, 배포 </a></span> » <span class="breadcrumb-node">모니터링</span></div><div class="navheader"><span class="prev"><a href="administration.html">
              « 
              관리, 모니터링, 배포 </a>
           
        </span><span class="next">
           
          <a href="deploy.html">제품의 배포
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="cluster-admin"></a>모니터링</h2></div></div></div><p>Elasticsearch는 흔히 node의 cluster로 배포된다.<a id="id-1.10.3.2.1" class="indexterm"></a>
<a id="id-1.10.3.2.2" class="indexterm"></a>
cluster내에 저장된 데이터와 상호작용하는 것 보다는, cluster 자체를 관리하고
모니터하는 다양한 API가 있다.</p><p>Elasticsearch에 있는 대부분의 기능처럼, 작업은 정적인 구성 파일을 수정하는 것보다는,
API를 통해 수행되어야 한다는 대단히 중요한 설계 목표가 있다. 이것은 cluster 확장에서
특히 중요하다. 비록 provisioning 시스템(Puppet, Chef, Ansible 같은)이 있더라도,
하나의 HTTP API 호출이 수백 개의 물리적인 machine에 새로운 설정을 추가하는 것보다는
훨씬 간단하다.</p><p>그렇기 때문에, 이 장에서는 동적으로 cluster를 수정하고, 조정하고, 설정할 수 있는
다양한 API에 대해 이야기할 것이다. 또한, 상태와 성능을 모니터할 수 있도록
cluster 자체에 대한 통계를 제공하는 API를 다룰 것이다.</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_모니터링을_위한_marvel"></a>모니터링을 위한 marvel</h2></div></div></div><p>책의 앞부분(<a class="xref" href="intro.html#marvel" title="Installing Marvel">Installing Marvel</a>)에서, <a id="id-1.10.3.5.2.2" class="indexterm"></a>
<a id="id-1.10.3.5.2.3" class="indexterm"></a><a id="id-1.10.3.5.2.4" class="indexterm"></a>
<a id="id-1.10.3.5.2.5" class="indexterm"></a>
<a id="id-1.10.3.5.2.6" class="indexterm"></a> 책 전반에 걸쳐 대화형 코드 예제가 활성화되어 있기 때문에,
Elasticsearch를 위한 관리하고 모니터하는 tool인, marvel의 설치를 권장했다.</p><p>만약 marvel을 설치하지 않았다면, 지금 설치하기를 권장한다. 이 장에서는 더 많은 통계를
출력하는 다수의 API를 소개할 것이다. 이 통계들은 heap 메모리의 사용량과 garbage collection의
수에서부터 열려 있는 file descriptors까지, 모든 것을 추적한다. 이 통계는 오작동하는
cluster의 디버깅에 매우 유용하다.</p><p>문제는 이런 API들이 단일 데이터 지점을 제공한다는 것이다: <span class="emphasis"><em>현재의 통계</em></span> 가끔은, 추세를
알 수 있도록 과거의 데이터도 보려 한다. 이 순간의 메모리 사용량을 아는 것도 유용하지만,
<span class="emphasis"><em>시간에 따른</em></span> 메모리 사용량을 아는 것이 훨씬 더 유용하다.</p><p>이런 API들의 출력은 cluster가 커질수록, 정말 이해하기가 어렵다. 백 개는 고사하고
한 다스의 node를 가지고 있는 경우에도, JSON을 통해 읽는 것은 매우 지루한 작업이다.</p><p>marvel은 정기적으로 이들 API로 조사하고, Elasticsearch에 데이터를 다시 저장한다.
이것으로, marvel이 통계를 query하고 집계한 다음, 브라우저에 대화형 그래프를 제공한다.
marvel만 할 수 있는 독점 통계는 없다; 누구나 액세스할 수 있는 동일한 stat API를 사용한다.
하지만 marvel은 해당 통계의 수집과 그래프를 많이 간소화하였다.</p><p>marvel을 개발에 사용하는 것은 무료이다. 그러니 여러분은 분명히 시도해봐야 한다.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_cluster_health"></a>Cluster Health</h2></div></div></div><p>An Elasticsearch cluster may consist of a single node with a single index.  Or it<a id="id-1.10.3.6.2.1" class="indexterm"></a><a id="id-1.10.3.6.2.2" class="indexterm"></a>
<a id="id-1.10.3.6.2.3" class="indexterm"></a>
<a id="id-1.10.3.6.2.4" class="indexterm"></a>
may have a hundred data nodes, three dedicated masters, a few dozen client nodes—all operating on a thousand indices (and tens of thousands of shards).</p><p>No matter the scale of the cluster, you’ll want a quick way to assess the status
of your cluster.  The <code class="literal">Cluster Health</code> API fills that role.  You can think of it
as a 10,000-foot view of your cluster.  It can reassure you that everything
is all right, or alert you to a problem somewhere in your cluster.</p><p>Let’s execute a <code class="literal">cluster-health</code> API and see what the response looks like:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-bash">GET _cluster/health</pre></div><p>Like other APIs in Elasticsearch, <code class="literal">cluster-health</code> will return a JSON response.
This makes it convenient to parse for automation and alerting.  The response
contains some critical information about your cluster:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">{
   "cluster_name": "elasticsearch_zach",
   "status": "green",
   "timed_out": false,
   "number_of_nodes": 1,
   "number_of_data_nodes": 1,
   "active_primary_shards": 10,
   "active_shards": 10,
   "relocating_shards": 0,
   "initializing_shards": 0,
   "unassigned_shards": 0
}</pre></div><p>The most important piece of information in the response is the <code class="literal">status</code> field.
The status may be one of three values:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">green</code>
</span></dt><dd>
    All primary and replica shards are allocated. Your cluster is 100%
operational.
</dd><dt><span class="term">
<code class="literal">yellow</code>
</span></dt><dd>
    All primary shards are allocated, but at least one replica is missing.
No data is missing, so search results will still be complete. However,  your
high availability is compromised to some degree.  If <span class="emphasis"><em>more</em></span> shards disappear, you
might lose data.  Think of <code class="literal">yellow</code> as a warning that should prompt investigation.
</dd><dt><span class="term">
<code class="literal">red</code>
</span></dt><dd>
    At least one primary shard (and all of its replicas) are missing. This means
that you are missing data: searches will return partial results, and indexing
into that shard will return an exception.
</dd></dl></div><p>The <code class="literal">green</code>/<code class="literal">yellow</code>/<code class="literal">red</code> status is a great way to glance at your cluster and understand
what’s going on.  The rest of the metrics give you a general summary of your cluster:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<code class="literal">number_of_nodes</code> and <code class="literal">number_of_data_nodes</code> are fairly self-descriptive.
</li><li class="listitem">
<code class="literal">active_primary_shards</code> indicates the number of primary shards in your cluster. This
is an aggregate total across all indices.
</li><li class="listitem">
<code class="literal">active_shards</code> is an aggregate total of <span class="emphasis"><em>all</em></span> shards across all indices, which
includes replica shards.
</li><li class="listitem">
<code class="literal">relocating_shards</code> shows the number of shards that are currently moving from
one node to another node.  This number is often zero, but can increase when
Elasticsearch decides a cluster is not properly balanced, a new node is added,
or a node is taken down, for example.
</li><li class="listitem">
<code class="literal">initializing_shards</code> is a count of shards that are being freshly created. For
example, when you first create an index, the shards will all briefly reside in
<code class="literal">initializing</code> state.  This is typically a transient event, and shards shouldn’t
linger in <code class="literal">initializing</code> too long.  You may also see initializing shards when a
node is first restarted: as shards are loaded from disk, they start as <code class="literal">initializing</code>.
</li><li class="listitem">
<code class="literal">unassigned_shards</code> are shards that exist in the cluster state, but cannot be
found in the cluster itself.  A common source of unassigned shards are unassigned
replicas.  For example, an index with five shards and one replica will have five unassigned
replicas in a single-node cluster.  Unassigned shards will also be present if your
cluster is <code class="literal">red</code> (since primaries are missing).
</li></ul></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_drilling_deeper_finding_problematic_indices"></a>Drilling Deeper: Finding Problematic Indices</h3></div></div></div><p>Imagine something goes wrong one day,<a id="id-1.10.3.6.12.2.1" class="indexterm"></a>
<a id="id-1.10.3.6.12.2.2" class="indexterm"></a> and you notice that your cluster health
looks like this:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">{
   "cluster_name": "elasticsearch_zach",
   "status": "red",
   "timed_out": false,
   "number_of_nodes": 8,
   "number_of_data_nodes": 8,
   "active_primary_shards": 90,
   "active_shards": 180,
   "relocating_shards": 0,
   "initializing_shards": 0,
   "unassigned_shards": 20
}</pre></div><p>OK, so what can we deduce from this health status?  Well, our cluster is <code class="literal">red</code>,
which means we are missing data (primary + replicas).  We know our cluster has
10 nodes, but see only 8 data nodes listed in the health.  Two of our nodes
have gone missing.  We see that there are 20 unassigned shards.</p><p>That’s about all the information we can glean.  The nature of those missing
shards are still a mystery.  Are we missing 20 indices with 1 primary shard each?
Or 1 index with 20 primary shards? Or 10 indices with 1 primary + 1 replica?
Which index?</p><p>To answer these questions, we need to ask <code class="literal">cluster-health</code> for a little more
information by using the <code class="literal">level</code> parameter:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-bash">GET _cluster/health?level=indices</pre></div><p>This parameter will make the <code class="literal">cluster-health</code> API add a list of indices in our
cluster and details about each of those indices (status, number of shards,
unassigned shards, and so forth):</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">{
   "cluster_name": "elasticsearch_zach",
   "status": "red",
   "timed_out": false,
   "number_of_nodes": 8,
   "number_of_data_nodes": 8,
   "active_primary_shards": 90,
   "active_shards": 180,
   "relocating_shards": 0,
   "initializing_shards": 0,
   "unassigned_shards": 20
   "indices": {
      "v1": {
         "status": "green",
         "number_of_shards": 10,
         "number_of_replicas": 1,
         "active_primary_shards": 10,
         "active_shards": 20,
         "relocating_shards": 0,
         "initializing_shards": 0,
         "unassigned_shards": 0
      },
      "v2": {
         "status": "red", <a id="CO306-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
         "number_of_shards": 10,
         "number_of_replicas": 1,
         "active_primary_shards": 0,
         "active_shards": 0,
         "relocating_shards": 0,
         "initializing_shards": 0,
         "unassigned_shards": 20 <a id="CO306-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
      },
      "v3": {
         "status": "green",
         "number_of_shards": 10,
         "number_of_replicas": 1,
         "active_primary_shards": 10,
         "active_shards": 20,
         "relocating_shards": 0,
         "initializing_shards": 0,
         "unassigned_shards": 0
      },
      ....
   }
}</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO306-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
We can now see that the <code class="literal">v2</code> index is the index that has made the cluster <code class="literal">red</code>.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO306-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
And it becomes clear that all 20 missing shards are from this index.
</p></td></tr></table></div><p>Once we ask for the indices output, it becomes immediately clear which index is
having problems: the <code class="literal">v2</code> index.  We also see that the index has 10 primary shards
and one replica, and that all 20 shards are missing.  Presumably these 20 shards
were on the two nodes that are missing from our cluster.</p><p>The <code class="literal">level</code> parameter accepts one more option:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-bash">GET _cluster/health?level=shards</pre></div><p>The <code class="literal">shards</code> option will provide a very verbose output, which lists the status
and location of every shard inside every index.  This output is sometimes useful,
but because of the verbosity can be difficult to work with.  Once you know the index
that is having problems, other APIs that we discuss in this chapter will tend
to be more helpful.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_blocking_for_status_changes"></a>Blocking for Status Changes</h3></div></div></div><p>The <code class="literal">cluster-health</code> API has another neat trick that is useful when building
unit and integration tests, or automated scripts that work with Elasticsearch.
You can specify a <code class="literal">wait_for_status</code> parameter, which will only return after the status is satisfied.  For example:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-bash">GET _cluster/health?wait_for_status=green</pre></div><p>This call will <span class="emphasis"><em>block</em></span> (not return control to your program) until the <code class="literal">cluster-health</code> has turned <code class="literal">green</code>, meaning all primary and replica shards have been allocated.
This is important for automated scripts and tests.</p><p>If you create an index, Elasticsearch must broadcast the change in cluster state
to all nodes.  Those nodes must initialize those new shards, and then respond to the
master that the shards are <code class="literal">Started</code>.  This process is fast, but because network
latency may take 10–20ms.</p><p>If you have an automated script that (a) creates an index and then (b) immediately
attempts to index a document, this operation may fail, because the index has not
been fully initialized yet.  The time between (a) and (b) will likely be less than 1ms—not nearly enough time to account for network latency.</p><p>Rather than sleeping, just have your script/test call <code class="literal">cluster-health</code> with
a <code class="literal">wait_for_status</code> parameter.  As soon as the index is fully created, the <code class="literal">cluster-health</code> will change to <code class="literal">green</code>, the call will return control to your script, and you may
begin indexing.</p><p>Valid options are <code class="literal">green</code>, <code class="literal">yellow</code>, and <code class="literal">red</code>.  The call will return when the
requested status (or one "higher") is reached. For example, if you request <code class="literal">yellow</code>,
a status change to <code class="literal">yellow</code> or <code class="literal">green</code> will unblock the call.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_monitoring_individual_nodes"></a>Monitoring Individual Nodes</h2></div></div></div><p><code class="literal">Cluster-health</code> is at one end of the spectrum—a very high-level overview of
everything in your cluster. <a id="id-1.10.3.7.2.2" class="indexterm"></a>
<a id="id-1.10.3.7.2.3" class="indexterm"></a>
<a id="id-1.10.3.7.2.4" class="indexterm"></a><a id="id-1.10.3.7.2.5" class="indexterm"></a>
<a id="id-1.10.3.7.2.6" class="indexterm"></a> The <code class="literal">node-stats</code> API is at the other end. <a id="id-1.10.3.7.2.8" class="indexterm"></a> It provides
a bewildering array of statistics about each node in your cluster.</p><p><code class="literal">Node-stats</code> provides so many stats that, until you are accustomed to the output,
you may be unsure which metrics are most important to keep an eye on.  We’ll
highlight the most important metrics to monitor (but we encourage you to
log all the metrics provided—or use Marvel—because you’ll never know when
you need one stat or another).</p><p>The <code class="literal">node-stats</code> API can be executed with the following:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-bash">GET _nodes/stats</pre></div><p>Starting at the top of the output, we see the cluster name and our first node:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">{
   "cluster_name": "elasticsearch_zach",
   "nodes": {
      "UNr6ZMf5Qk-YCPA_L18BOQ": {
         "timestamp": 1408474151742,
         "name": "Zach",
         "transport_address": "inet[zacharys-air/192.168.1.131:9300]",
         "host": "zacharys-air",
         "ip": [
            "inet[zacharys-air/192.168.1.131:9300]",
            "NONE"
         ],
...</pre></div><p>The nodes are listed in a hash, with the key being the UUID of the node.  Some
information about the node’s network properties are displayed (such as transport address,
and host). These values are useful for debugging discovery problems, where
nodes won’t join the cluster. Often you’ll see that the port being used is wrong,
or the node is binding to the wrong IP address/interface.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_indices_section"></a>indices Section</h3></div></div></div><p>The <code class="literal">indices</code> section lists aggregate statistics<a id="id-1.10.3.7.9.2.2" class="indexterm"></a>
<a id="id-1.10.3.7.9.2.3" class="indexterm"></a> for all the indices that reside
on this particular node:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">    "indices": {
        "docs": {
           "count": 6163666,
           "deleted": 0
        },
        "store": {
           "size_in_bytes": 2301398179,
           "throttle_time_in_millis": 122850
        },</pre></div><p>The returned statistics are grouped into the following sections:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<code class="literal">docs</code> shows how many documents reside on
this node, as well as the number of deleted docs that haven’t been purged
from segments yet.
</li><li class="listitem">
The <code class="literal">store</code> portion indicates how much physical storage is consumed by the node.
This metric includes both primary and replica shards.  If the throttle time is
large, it may be an indicator that your disk throttling is set too low
(discussed in <a class="xref" href="post_deploy.html#segments-and-merging" title="Segments and Merging">Segments and Merging</a>).
</li></ul></div><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">        "indexing": {
           "index_total": 803441,
           "index_time_in_millis": 367654,
           "index_current": 99,
           "delete_total": 0,
           "delete_time_in_millis": 0,
           "delete_current": 0
        },
        "get": {
           "total": 6,
           "time_in_millis": 2,
           "exists_total": 5,
           "exists_time_in_millis": 2,
           "missing_total": 1,
           "missing_time_in_millis": 0,
           "current": 0
        },
        "search": {
           "open_contexts": 0,
           "query_total": 123,
           "query_time_in_millis": 531,
           "query_current": 0,
           "fetch_total": 3,
           "fetch_time_in_millis": 55,
           "fetch_current": 0
        },
        "merges": {
           "current": 0,
           "current_docs": 0,
           "current_size_in_bytes": 0,
           "total": 1128,
           "total_time_in_millis": 21338523,
           "total_docs": 7241313,
           "total_size_in_bytes": 5724869463
        },</pre></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
<code class="literal">indexing</code> shows the number of docs that have been indexed.  This value is a monotonically
increasing counter; it doesn’t decrease when docs are deleted.  Also note that it
is incremented anytime an <span class="emphasis"><em>index</em></span> operation happens internally, which includes
things like updates.
</p><p class="simpara">Also listed are times for indexing, the number of docs currently being indexed,
and similar statistics for deletes.</p></li><li class="listitem">
<code class="literal">get</code> shows statistics about get-by-ID statistics.  This includes <code class="literal">GET</code> and
<code class="literal">HEAD</code> requests for a single document.
</li><li class="listitem"><p class="simpara">
<code class="literal">search</code> describes the number of active searches (<code class="literal">open_contexts</code>), number of
queries total, and the amount of time spent on queries since the node was
started.  The ratio between <code class="literal">query_time_in_millis / query_total</code> can be used as a
rough indicator for how efficient your queries are.  The larger the ratio,
the more time each query is taking, and you should consider tuning or optimization.
</p><p class="simpara">The fetch statistics detail the second half of the query process (the <span class="emphasis"><em>fetch</em></span> in
query-then-fetch).  If more time is spent in fetch than query, this can be an
indicator of slow disks or very large documents being fetched, or
potentially search requests with paginations that are too large (for example, <code class="literal">size: 10000</code>).</p></li><li class="listitem"><p class="simpara">
<code class="literal">merges</code> contains information about Lucene segment merges.  It will tell you
the number of merges that are currently active, the number of docs involved, the cumulative
size of segments being merged, and the amount of time spent on merges in total.
</p><p class="simpara">Merge statistics can be important if your cluster is write heavy.  Merging consumes
a large amount of disk I/O and CPU resources.  If your index is write heavy and
you see large merge numbers, be sure to read <a class="xref" href="post_deploy.html#indexing-performance" title="Indexing Performance Tips">Indexing Performance Tips</a>.</p><p class="simpara">Note: updates and deletes will contribute to large merge numbers too, since they
cause segment <span class="emphasis"><em>fragmentation</em></span> that needs to be merged out eventually.</p></li></ul></div><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">        "filter_cache": {
           "memory_size_in_bytes": 48,
           "evictions": 0
        },
        "id_cache": {
           "memory_size_in_bytes": 0
        },
        "fielddata": {
           "memory_size_in_bytes": 0,
           "evictions": 0
        },
        "segments": {
           "count": 319,
           "memory_in_bytes": 65812120
        },
        ...</pre></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
<code class="literal">filter_cache</code> indicates the amount of memory used by the cached filter bitsets,
and the number of times a filter has been evicted.  A large number of evictions
<span class="emphasis"><em>could</em></span> indicate that you need to increase the filter cache size, or that
your filters are not caching well (for example, they are churning heavily because of high cardinality,
such as caching <code class="literal">now</code> date expressions).
</p><p class="simpara">However, evictions are a difficult metric to evaluate.  Filters are cached on a
per-segment basis, and evicting a filter from a small segment is much less
expensive than evicting a filter from a large segment.  It’s possible that you have many evictions, but they all occur on small segments, which means they have
little impact on query performance.</p><p class="simpara">Use the eviction metric as a rough guideline.  If you see a large number, investigate
your filters to make sure they are caching well.  Filters that constantly evict,
even on small segments, will be much less effective than properly cached filters.</p></li><li class="listitem">
<code class="literal">id_cache</code> shows the memory usage by parent/child mappings.  When you use
parent/children, the <code class="literal">id_cache</code> maintains an in-memory join table that maintains
the relationship.  This statistic will show you how much memory is being used.
There is little you can do to affect this memory usage, since it has a fairly linear
relationship with the number of parent/child docs.  It is heap-resident, however,
so it’s a good idea to keep an eye on it.
</li><li class="listitem">
<code class="literal">field_data</code> displays the memory used by fielddata,<a id="id-1.10.3.7.9.9.3.1.2" class="indexterm"></a>
<a id="id-1.10.3.7.9.9.3.1.3" class="indexterm"></a> which is used for aggregations,
sorting, and more.  There is also an eviction count.  Unlike <code class="literal">filter_cache</code>, the eviction
count here is useful:  it should be zero or very close.  Since field data
is not a cache, any eviction is costly and should be avoided.  If you see
evictions here, you need to reevaluate your memory situation, fielddata limits,
queries, or all three.
</li><li class="listitem"><p class="simpara">
<code class="literal">segments</code> will tell you the number of Lucene segments this node currently serves.<a id="id-1.10.3.7.9.9.4.1.2" class="indexterm"></a>
<a id="id-1.10.3.7.9.9.4.1.3" class="indexterm"></a>
This can be an important number.  Most indices should have around 50–150 segments,
even if they are terabytes in size with billions of documents.  Large numbers
of segments can indicate a problem with merging (for example, merging is not keeping up
with segment creation).  Note that this statistic is the aggregate total of all
indices on the node, so keep that in mind.
</p><p class="simpara">The <code class="literal">memory</code> statistic gives you an idea of the amount of memory being used by the
Lucene segments themselves.<a id="id-1.10.3.7.9.9.4.2.2" class="indexterm"></a>
<a id="id-1.10.3.7.9.9.4.2.3" class="indexterm"></a>  This includes low-level data structures such as
posting lists, dictionaries, and bloom filters.  A very large number of segments
will increase the amount of overhead lost to these data structures, and the memory
usage can be a handy metric to gauge that overhead.</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_os_and_process_sections"></a>OS and Process Sections</h3></div></div></div><p>The <code class="literal">OS</code> and <code class="literal">Process</code> sections are fairly self-explanatory and won’t be covered
in great detail.<a id="id-1.10.3.7.10.2.3" class="indexterm"></a>  They list basic resource statistics such as CPU and load.<a id="id-1.10.3.7.10.2.4" class="indexterm"></a>  The
<code class="literal">OS</code> section describes it for the entire <code class="literal">OS</code>, while the <code class="literal">Process</code> section shows just
what the Elasticsearch JVM process is using.</p><p>These are obviously useful metrics, but are often being measured elsewhere in your
monitoring stack. Some stats include the following:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
CPU
</li><li class="listitem">
Load
</li><li class="listitem">
Memory usage
</li><li class="listitem">
Swap usage
</li><li class="listitem">
Open file descriptors
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_jvm_section"></a>JVM Section</h3></div></div></div><p>The <code class="literal">jvm</code> section contains some critical information about the JVM process that
is running Elasticsearch.<a id="id-1.10.3.7.11.2.2" class="indexterm"></a>
<a id="id-1.10.3.7.11.2.3" class="indexterm"></a>  Most important, it contains garbage collection details,
which have a large impact on the stability of your Elasticsearch cluster.</p><div class="sidebar"><a id="garbage_collector_primer"></a><div class="titlepage"><div><div><p class="title"><strong>Garbage Collection Primer</strong></p></div></div></div><p>Before we describe the stats, it is useful to give a crash course in garbage
collection and its impact on Elasticsearch.<a id="id-1.10.3.7.11.3.2.1" class="indexterm"></a>  If you are familar with garbage
collection in the JVM, feel free to skip down.</p><p>Java is a <span class="emphasis"><em>garbage-collected</em></span> language, which means that the programmer does
not manually manage memory allocation and deallocation.  The programmer simply
writes code, and the Java Virtual Machine (JVM) manages the process of allocating
memory as needed, and then later cleaning up that memory when no longer needed.</p><p>When memory is allocated to a JVM process, it is allocated in a big chunk called
the <span class="emphasis"><em>heap</em></span>.  The JVM then breaks the heap into two groups, referred to as
<span class="emphasis"><em>generations</em></span>:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
Young (or Eden)
</span></dt><dd>
    The space where newly instantiated objects are allocated. The
young generation space is often quite small, usually 100 MB–500 MB.  The young-gen
also contains two <span class="emphasis"><em>survivor</em></span> spaces.
</dd><dt><span class="term">
Old
</span></dt><dd>
    The space where older objects are stored.  These objects are expected to be long-lived
and persist for a long time.  The old-gen is often much larger than the young-gen,
and Elasticsearch nodes can see old-gens as large as 30 GB.
</dd></dl></div><p>When an object is instantiated, it is placed into young-gen.  When the young
generation space is full, a young-gen garbage collection (GC) is started.  Objects that are still
"alive" are moved into one of the survivor spaces, and "dead" objects are removed.
If an object has survived several young-gen GCs, it will be "tenured" into the
old generation.</p><p>A similar process happens in the old generation:  when the space becomes full, a
garbage collection is started and dead objects are removed.</p><p>Nothing comes for free, however.  Both the young- and old-generation garbage collectors
have phases that "stop the world."  During this time, the JVM literally halts
execution of the program so it can trace the object graph and collect dead
objects. During this stop-the-world phase, nothing happens.  Requests are not serviced,
pings are not responded to, shards are not relocated.  The world quite literally
stops.</p><p>This isn’t a big deal for the young generation; its small size means GCs execute
quickly.  But the old-gen is quite a bit larger, and a slow GC here could mean
1s or even 15s of pausing—which is unacceptable for server software.</p><p>The garbage collectors in the JVM are <span class="emphasis"><em>very</em></span> sophisticated algorithms and do
a great job minimizing pauses.  And Elasticsearch tries very hard to be <span class="emphasis"><em>garbage-collection friendly</em></span>, by intelligently reusing objects internally, reusing network
buffers, and offering features like <a class="xref" href="controlling-memory.html#doc-values" title="Doc Values">Doc Values</a>.  But ultimately,
GC frequency and duration is a metric that needs to be watched by you, since it
is the number one culprit for cluster instability.</p><p>A cluster that is frequently experiencing long GC will be a cluster that is under
heavy load with not enough memory.  These long GCs will make nodes drop off the
cluster for brief periods.  This instability causes shards to relocate frequently
as Elasticsearch tries to keep the cluster balanced and enough replicas available.  This in
turn increases network traffic and disk I/O, all while your cluster is attempting
to service the normal indexing and query load.</p><p>In short, long GCs are bad and need to be minimized as much as possible.</p></div><p>Because garbage collection is so critical to Elasticsearch, you should become intimately
familiar with this section of the <code class="literal">node-stats</code> API:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">        "jvm": {
            "timestamp": 1408556438203,
            "uptime_in_millis": 14457,
            "mem": {
               "heap_used_in_bytes": 457252160,
               "heap_used_percent": 44,
               "heap_committed_in_bytes": 1038876672,
               "heap_max_in_bytes": 1038876672,
               "non_heap_used_in_bytes": 38680680,
               "non_heap_committed_in_bytes": 38993920,</pre></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
The <code class="literal">jvm</code> section first lists some general stats about heap memory usage.  You
can see how much of the heap is being used, how much is committed (actually allocated
to the process), and the max size the heap is allowed to grow to.  Ideally,
<code class="literal">heap_committed_in_bytes</code> should be identical to <code class="literal">heap_max_in_bytes</code>.  If the
committed size is smaller, the JVM will have to resize the heap eventually—and this is a very expensive process.  If your numbers are not identical, see
<a class="xref" href="deploy.html#heap-sizing" title="Heap: Sizing and Swapping">Heap: Sizing and Swapping</a> for how to configure it correctly.
</p><p class="simpara">The <code class="literal">heap_used_percent</code> metric is a useful number to keep an eye on.  Elasticsearch
is configured to initiate GCs when the heap reaches 75% full.  If your node is
consistently &gt;= 75%, your node is experiencing <span class="emphasis"><em>memory pressure</em></span>.
This is a warning sign that slow GCs may be in your near future.</p><p class="simpara">If the heap usage is consistently &gt;=85%, you are in trouble.  Heaps over 90–95%
are in risk of horrible performance with long 10–30s GCs at best, and out-of-memory
(OOM) exceptions at worst.</p></li></ul></div><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">   "pools": {
      "young": {
         "used_in_bytes": 138467752,
         "max_in_bytes": 279183360,
         "peak_used_in_bytes": 279183360,
         "peak_max_in_bytes": 279183360
      },
      "survivor": {
         "used_in_bytes": 34865152,
         "max_in_bytes": 34865152,
         "peak_used_in_bytes": 34865152,
         "peak_max_in_bytes": 34865152
      },
      "old": {
         "used_in_bytes": 283919256,
         "max_in_bytes": 724828160,
         "peak_used_in_bytes": 283919256,
         "peak_max_in_bytes": 724828160
      }
   }
},</pre></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
The <code class="literal">young</code>, <code class="literal">survivor</code>, and <code class="literal">old</code> sections will give you a breakdown of memory
usage of each generation in the GC.  These stats are handy for keeping an eye on
relative sizes, but are often not overly important when debugging problems.
</li></ul></div><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">"gc": {
   "collectors": {
      "young": {
         "collection_count": 13,
         "collection_time_in_millis": 923
      },
      "old": {
         "collection_count": 0,
         "collection_time_in_millis": 0
      }
   }
}</pre></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
<code class="literal">gc</code> section shows the garbage collection counts and cumulative time for both
young and old generations.  You can safely ignore the young generation counts
for the most part:  this number will usually be large.  That is perfectly
normal.
</p><p class="simpara">In contrast, the old generation collection count should remain small, and
have a small <code class="literal">collection_time_in_millis</code>.  These are cumulative counts, so it is
hard to give an exact number when you should start worrying (for example, a node with a
one-year uptime will have a large count even if it is healthy). This is one of the
reasons that tools such as Marvel are so helpful.  GC counts <span class="emphasis"><em>over time</em></span> are the
important consideration.</p><p class="simpara">Time spent GC’ing is also important.  For example, a certain amount of garbage
is generated while indexing documents.  This is normal and causes a GC every
now and then. These GCs are almost always fast and have little effect on the
node: young generation takes a millisecond or two, and old generation takes
a few hundred milliseconds.  This is much different from 10-second GCs.</p><p class="simpara">Our best advice is to collect collection counts and duration periodically (or use Marvel)
and keep an eye out for frequent GCs.  You can also enable slow-GC logging,
discussed in <a class="xref" href="post_deploy.html#logging" title="Logging">Logging</a>.</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_threadpool_section"></a>Threadpool Section</h3></div></div></div><p>Elasticsearch maintains threadpools internally. <a id="id-1.10.3.7.12.2.1" class="indexterm"></a>
<a id="id-1.10.3.7.12.2.2" class="indexterm"></a> These threadpools
cooperate to get work done, passing work between each other as necessary. In
general, you don’t need to configure or tune the threadpools, but it is sometimes
useful to see their stats so you can gain insight into how your cluster is behaving.</p><p>There are about a dozen threadpools, but they all share the same format:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">  "index": {
     "threads": 1,
     "queue": 0,
     "active": 0,
     "rejected": 0,
     "largest": 1,
     "completed": 1
  }</pre></div><p>Each threadpool lists the number of threads that are configured (<code class="literal">threads</code>),
how many of those threads are actively processing some work (<code class="literal">active</code>), and how
many work units are sitting in a queue (<code class="literal">queue</code>).</p><p>If the queue fills up to its limit, new work units will begin to be rejected, and
you will see that reflected in the <code class="literal">rejected</code> statistic.  This is often a sign
that your cluster is starting to bottleneck on some resources, since a full
queue means your node/cluster is processing at maximum speed but unable to keep
up with the influx of work.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Bulk Rejections</strong></p></div></div></div><p>If you are going to encounter queue rejections, it will most likely be caused
by bulk indexing requests.<a id="id-1.10.3.7.12.7.2.1" class="indexterm"></a>
<a id="id-1.10.3.7.12.7.2.2" class="indexterm"></a>  It is easy to send many bulk requests to Elasticsearch
by using concurrent import processes.  More is better, right?</p><p>In reality, each cluster has a certain limit at which it can not keep up with
ingestion.  Once this threshold is crossed, the queue will quickly fill up, and
new bulks will be rejected.</p><p>This is a <span class="emphasis"><em>good thing</em></span>.  Queue rejections are a useful form of back pressure.  They
let you know that your cluster is at maximum capacity, which is much better than
sticking data into an in-memory queue.  Increasing the queue size doesn’t increase
performance; it just hides the problem.  If your cluster can process only 10,000
docs per second, it doesn’t matter whether the queue is 100 or 10,000,000—your cluster can
still process only 10,000 docs per second.</p><p>The queue simply hides the performance problem and carries a real risk of data-loss.
Anything sitting in a queue is by definition not processed yet.  If the node
goes down, all those requests are lost forever.  Furthermore, the queue eats
up a lot of memory, which is not ideal.</p><p>It is much better to handle queuing in your application by gracefully handling
the back pressure from a full queue.  When you receive bulk rejections, you should take these steps:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
Pause the import thread for 3–5 seconds.
</li><li class="listitem">
Extract the rejected actions from the bulk response, since it is probable that
many of the actions were successful. The bulk response will tell you which succeeded
and which were rejected.
</li><li class="listitem">
Send a new bulk request with just the rejected actions.
</li><li class="listitem">
Repeat from step 1 if rejections are encountered again.
</li></ol></div><p>Using this procedure, your code naturally adapts to the load of your cluster and
naturally backs off.</p><p>Rejections are not errors: they just mean you should try again later.</p></div><p>There are a dozen threadpools.  Most you can safely ignore, but a few
are good to keep an eye on:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">indexing</code>
</span></dt><dd>
    Threadpool for normal indexing requests
</dd><dt><span class="term">
<code class="literal">bulk</code>
</span></dt><dd>
    Bulk requests, which are distinct from the nonbulk indexing requests
</dd><dt><span class="term">
<code class="literal">get</code>
</span></dt><dd>
    Get-by-ID operations
</dd><dt><span class="term">
<code class="literal">search</code>
</span></dt><dd>
    All search and query requests
</dd><dt><span class="term">
<code class="literal">merging</code>
</span></dt><dd>
    Threadpool dedicated to managing Lucene merges
</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_fs_and_network_sections"></a>FS and Network Sections</h3></div></div></div><p>Continuing down the <code class="literal">node-stats</code> API, you’ll see a<a id="id-1.10.3.7.13.2.2" class="indexterm"></a> bunch of statistics about your
filesystem:  free space, data directory paths, disk I/O stats, and more.  If you are
not monitoring free disk space, you can get those stats here.  The disk I/O stats
are also handy, but often more specialized command-line tools (<code class="literal">iostat</code>, for example)
are more useful.</p><p>Obviously, Elasticsearch has a difficult time functioning if you run out of disk
space—so make sure you don’t.</p><p>There are also two sections on <a id="id-1.10.3.7.13.4.1" class="indexterm"></a>
<a id="id-1.10.3.7.13.4.2" class="indexterm"></a>network statistics:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">        "transport": {
            "server_open": 13,
            "rx_count": 11696,
            "rx_size_in_bytes": 1525774,
            "tx_count": 10282,
            "tx_size_in_bytes": 1440101928
         },
         "http": {
            "current_open": 4,
            "total_opened": 23
         },</pre></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<code class="literal">transport</code> shows some basic stats about the <span class="emphasis"><em>transport address</em></span>.  This
relates to inter-node communication (often on port 9300) and any transport client
or node client connections.  Don’t worry if you see many connections here;
Elasticsearch maintains a large number of connections between nodes.
</li><li class="listitem">
<code class="literal">http</code> represents stats about the HTTP port (often 9200).  If you see a very
large <code class="literal">total_opened</code> number that is constantly increasing, that is a sure sign
that one of your HTTP clients is not using keep-alive connections.  Persistent,
keep-alive connections are important for performance, since building up and tearing
down sockets is expensive (and wastes file descriptors).  Make sure your clients
are configured appropriately.
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_circuit_breaker"></a>Circuit Breaker</h3></div></div></div><p>Finally, we come to the last section: stats about the<a id="id-1.10.3.7.14.2.1" class="indexterm"></a> fielddata circuit breaker
(introduced in <a class="xref" href="controlling-memory.html#circuit-breaker" title="자동 차단기">자동 차단기</a>):</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">         "fielddata_breaker": {
            "maximum_size_in_bytes": 623326003,
            "maximum_size": "594.4mb",
            "estimated_size_in_bytes": 0,
            "estimated_size": "0b",
            "overhead": 1.03,
            "tripped": 0
         }</pre></div><p>Here, you can determine the maximum circuit-breaker size (for example, at what
size the circuit breaker will trip if a query attempts to use more memory).  This section
will also let you know the number of times the circuit breaker has been tripped, and
the currently configured overhead.  The overhead is used to pad estimates, because some queries are more difficult to estimate than others.</p><p>The main thing to watch is the <code class="literal">tripped</code> metric.  If this number is large or
consistently increasing, it’s a sign that your queries may need to be optimized
or that you may need to obtain more memory (either per box or by adding more
nodes).<a id="id-1.10.3.7.14.5.2" class="indexterm"></a></p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_cluster_stats"></a>Cluster Stats</h2></div></div></div><p>The <code class="literal">cluster-stats</code> API provides similar output to the <code class="literal">node-stats</code>.<a id="id-1.10.3.8.2.3" class="indexterm"></a>
<a id="id-1.10.3.8.2.4" class="indexterm"></a>
<a id="id-1.10.3.8.2.5" class="indexterm"></a>  There
is one crucial difference: Node Stats shows you statistics per node, while
<code class="literal">cluster-stats</code> shows you the sum total of all nodes in a single metric.</p><p>This provides some useful stats to glance at.  You can see for example, that your entire cluster
is using 50% of the available heap or that filter cache is not evicting heavily.  Its
main use is to provide a quick summary that is more extensive than
the <code class="literal">cluster-health</code>, but less detailed than <code class="literal">node-stats</code>. It is also useful for
clusters that are very large, which makes <code class="literal">node-stats</code> output difficult
to read.</p><p>The API may be invoked as follows:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">GET _cluster/stats</pre></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_index_stats"></a>Index Stats</h2></div></div></div><p>So far, we have been looking at <span class="emphasis"><em>node-centric</em></span> statistics:<a id="id-1.10.3.9.2.2" class="indexterm"></a>
<a id="id-1.10.3.9.2.3" class="indexterm"></a><a id="id-1.10.3.9.2.4" class="indexterm"></a>
<a id="id-1.10.3.9.2.5" class="indexterm"></a>
<a id="id-1.10.3.9.2.6" class="indexterm"></a>  How much memory does
this node have?  How much CPU is being used?  How many searches is this node
servicing?</p><p>Sometimes it is useful to look at statistics from an <span class="emphasis"><em>index-centric</em></span> perspective:
How many search requests is <span class="emphasis"><em>this index</em></span> receiving?  How much time is spent fetching
docs in <span class="emphasis"><em>that index</em></span>?</p><p>To do this, select the index (or indices) that you are interested in and
execute an Index <code class="literal">stats</code> API:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">GET my_index/_stats <a id="CO307-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>

GET my_index,another_index/_stats <a id="CO307-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>

GET _all/_stats <a id="CO307-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO307-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Stats for <code class="literal">my_index</code>.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO307-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Stats for multiple indices can be requested by separating their names with a comma.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO307-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Stats indices can be requested using the special <code class="literal">_all</code> index name.
</p></td></tr></table></div><p>The stats returned will be familar to the <code class="literal">node-stats</code> output: <code class="literal">search</code> <code class="literal">fetch</code> <code class="literal">get</code>
<code class="literal">index</code> <code class="literal">bulk</code> <code class="literal">segment counts</code> and so forth</p><p>Index-centric stats can be useful for identifying or verifying <span class="emphasis"><em>hot</em></span> indices
inside your cluster, or trying to determine why some indices are faster/slower
than others.</p><p>In practice, however, node-centric statistics tend to be more useful.  Entire
nodes tend to bottleneck, not individual indices.  And because indices
are usually spread across multiple nodes, index-centric statistics
are usually not very helpful because they aggregate data from different physical machines
operating in different environments.</p><p>Index-centric stats are a useful tool to keep in your repertoire, but are not usually
the first tool to reach for.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_pending_tasks"></a>Pending Tasks</h2></div></div></div><p>There are certain tasks that only the master can perform, such as creating a new <a id="id-1.10.3.10.2.1" class="indexterm"></a>
<a id="id-1.10.3.10.2.2" class="indexterm"></a>
<a id="id-1.10.3.10.2.3" class="indexterm"></a>
index or moving shards around the cluster.  Since a cluster can have only one
master, only one node can ever process cluster-level metadata changes.  For
99.9999% of the time, this is never a problem.  The queue of metadata changes
remains essentially zero.</p><p>In some <span class="emphasis"><em>rare</em></span> clusters, the number of metadata changes occurs faster than
the master can process them.  This leads to a buildup of pending actions that
are queued.</p><p>The <code class="literal">pending-tasks</code> API <a id="id-1.10.3.10.4.2" class="indexterm"></a>will show you what (if any) cluster-level metadata changes
are pending in the queue:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">GET _cluster/pending_tasks</pre></div><p>Usually, the response will look like this:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">{
   "tasks": []
}</pre></div><p>This means there are no pending tasks.  If you have one of the rare clusters that
bottlenecks on the master node, your pending task list may look like this:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">{
   "tasks": [
      {
         "insert_order": 101,
         "priority": "URGENT",
         "source": "create-index [foo_9], cause [api]",
         "time_in_queue_millis": 86,
         "time_in_queue": "86ms"
      },
      {
         "insert_order": 46,
         "priority": "HIGH",
         "source": "shard-started ([foo_2][1], node[tMTocMvQQgGCkj7QDHl3OA], [P],
         s[INITIALIZING]), reason [after recovery from gateway]",
         "time_in_queue_millis": 842,
         "time_in_queue": "842ms"
      },
      {
         "insert_order": 45,
         "priority": "HIGH",
         "source": "shard-started ([foo_2][0], node[tMTocMvQQgGCkj7QDHl3OA], [P],
         s[INITIALIZING]), reason [after recovery from gateway]",
         "time_in_queue_millis": 858,
         "time_in_queue": "858ms"
      }
  ]
}</pre></div><p>You can see that tasks are assigned a priority (<code class="literal">URGENT</code> is processed before <code class="literal">HIGH</code>,
for example), the order it was inserted, how long the action has been queued and
what the action is trying to perform.  In the preceding list, there is a <code class="literal">create-index</code>
action and two <code class="literal">shard-started</code> actions pending.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>When Should I Worry About Pending Tasks?</strong></p></div></div></div><p>As mentioned, the master node is rarely the bottleneck for clusters.  The only
time it could bottleneck is if the cluster state is both very large
<span class="emphasis"><em>and</em></span> updated frequently.</p><p>For example, if you allow customers to create as many dynamic fields as they wish,
and have a unique index for each customer every day, your cluster state will grow
very large.  The cluster state includes (among other things) a list of all indices,
their types, and the fields for each index.</p><p>So if you have 100,000 customers, and each customer averages 1,000 fields and 90
days of retention—that’s nine billion fields to keep in the cluster state.
Whenever this changes, the nodes must be notified.</p><p>The master must process these changes, which requires nontrivial CPU overhead,
plus the network overhead of pushing the updated cluster state to all nodes.</p><p>It is these clusters that may begin to see cluster-state actions queuing up.
There is no easy solution to this problem, however.  You have three options:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Obtain a beefier master node.  Vertical scaling just delays the inevitable,
unfortunately.
</li><li class="listitem">
Restrict the dynamic nature of the documents in some way, so as to limit the
cluster-state size.
</li><li class="listitem">
Spin up another cluster after a certain threshold has been crossed.
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_cat_api"></a>cat API</h2></div></div></div><p>If you work from the command line often, the <code class="literal">cat</code> APIs will be helpful
to you.<a id="id-1.10.3.11.2.2" class="indexterm"></a><a id="id-1.10.3.11.2.3" class="indexterm"></a>
<a id="id-1.10.3.11.2.4" class="indexterm"></a>
<a id="id-1.10.3.11.2.5" class="indexterm"></a>  Named after the linux <code class="literal">cat</code> command, these APIs are designed to
work like *nix command-line tools.</p><p>They provide statistics that are identical to all the previously discussed APIs
(Health, <code class="literal">node-stats</code>, and so forth), but present the output in tabular form instead of
JSON.  This is <span class="emphasis"><em>very</em></span> convenient for a system administrator, and you just want
to glance over your cluster or find nodes with high memory usage.</p><p>Executing a plain <code class="literal">GET</code> against the <code class="literal">cat</code> endpoint will show you all available
APIs:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-bash">GET /_cat

=^.^=
/_cat/allocation
/_cat/shards
/_cat/shards/{index}
/_cat/master
/_cat/nodes
/_cat/indices
/_cat/indices/{index}
/_cat/segments
/_cat/segments/{index}
/_cat/count
/_cat/count/{index}
/_cat/recovery
/_cat/recovery/{index}
/_cat/health
/_cat/pending_tasks
/_cat/aliases
/_cat/aliases/{alias}
/_cat/thread_pool
/_cat/plugins
/_cat/fielddata
/_cat/fielddata/{fields}</pre></div><p>Many of these APIs should look familiar to you (and yes, that’s a cat at the top
:) ).  Let’s take a look at the Cat Health API:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-bash">GET /_cat/health

1408723713 12:08:33 elasticsearch_zach yellow 1 1 114 114 0 0 114</pre></div><p>The first thing you’ll notice is that the response is plain text in tabular form,
not JSON.  The second thing you’ll notice is that there are no column headers
enabled by default.  This is designed to emulate *nix tools, since it is assumed
that once you become familiar with the output, you no longer want to see
the headers.</p><p>To enable headers, add the <code class="literal">?v</code> parameter:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-bash">GET /_cat/health?v

epoch   time    cluster status node.total node.data shards pri relo init
1408[..] 12[..] el[..]  1         1         114 114    0    0     114
unassign</pre></div><p>Ah, much better.  We now see the timestamp, cluster name, status, the number of
nodes in the cluster, and more—all the same information as the <code class="literal">cluster-health</code>
API.</p><p>Let’s look at <code class="literal">node-stats</code> in the <code class="literal">cat</code> API:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-bash">GET /_cat/nodes?v

host         ip            heap.percent ram.percent load node.role master name
zacharys-air 192.168.1.131           45          72 1.85 d         *      Zach</pre></div><p>We see some stats about the nodes in our cluster, but the output is basic compared
to the full <code class="literal">node-stats</code> output. You can
include many additional metrics, but rather than consulting the documentation, let’s just ask the <code class="literal">cat</code>
API what is available.</p><p>You can do this by adding <code class="literal">?help</code> to any API:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-bash">GET /_cat/nodes?help

id               | id,nodeId               | unique node id
pid              | p                       | process id
host             | h                       | host name
ip               | i                       | ip address
port             | po                      | bound transport port
version          | v                       | es version
build            | b                       | es build hash
jdk              | j                       | jdk version
disk.avail       | d,disk,diskAvail        | available disk space
heap.percent     | hp,heapPercent          | used heap ratio
heap.max         | hm,heapMax              | max configured heap
ram.percent      | rp,ramPercent           | used machine memory ratio
ram.max          | rm,ramMax               | total machine memory
load             | l                       | most recent load avg
uptime           | u                       | node uptime
node.role        | r,role,dc,nodeRole      | d:data node, c:client node
master           | m                       | m:master-eligible, *:current master
...
...</pre></div><p>(Note that the output has been truncated for brevity).</p><p>The first column shows the full name, the second column shows the short name,
and the third column offers a brief description about the parameter. Now that
we know some column names, we can ask for those explicitly by using the <code class="literal">?h</code>
parameter:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-bash">GET /_cat/nodes?v&amp;h=ip,port,heapPercent,heapMax

ip            port heapPercent heapMax
192.168.1.131 9300          53 990.7mb</pre></div><p>Because the <code class="literal">cat</code> API tries to behave like *nix utilities, you can pipe the output
to other tools such as <code class="literal">sort</code> <code class="literal">grep</code> or <code class="literal">awk</code>.  For example, we can find the largest
index in our cluster by using the following:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-bash">% curl 'localhost:9200/_cat/indices?bytes=b' | sort -rnk8

yellow test_names         5 1 3476004 0 376324705 376324705
yellow .marvel-2014.08.19 1 1  263878 0 160777194 160777194
yellow .marvel-2014.08.15 1 1  234482 0 143020770 143020770
yellow .marvel-2014.08.09 1 1  222532 0 138177271 138177271
yellow .marvel-2014.08.18 1 1  225921 0 138116185 138116185
yellow .marvel-2014.07.26 1 1  173423 0 132031505 132031505
yellow .marvel-2014.08.21 1 1  219857 0 128414798 128414798
yellow .marvel-2014.07.27 1 1   75202 0  56320862  56320862
yellow wavelet            5 1    5979 0  54815185  54815185
yellow .marvel-2014.07.28 1 1   57483 0  43006141  43006141
yellow .marvel-2014.07.21 1 1   31134 0  27558507  27558507
yellow .marvel-2014.08.01 1 1   41100 0  27000476  27000476
yellow kibana-int         5 1       2 0     17791     17791
yellow t                  5 1       7 0     15280     15280
yellow website            5 1      12 0     12631     12631
yellow agg_analysis       5 1       5 0      5804      5804
yellow v2                 5 1       2 0      5410      5410
yellow v1                 5 1       2 0      5367      5367
yellow bank               1 1      16 0      4303      4303
yellow v                  5 1       1 0      2954      2954
yellow p                  5 1       2 0      2939      2939
yellow b0001_072320141238 5 1       1 0      2923      2923
yellow ipaddr             5 1       1 0      2917      2917
yellow v2a                5 1       1 0      2895      2895
yellow movies             5 1       1 0      2738      2738
yellow cars               5 1       0 0      1249      1249
yellow wavelet2           5 1       0 0       615       615</pre></div><p>By adding <code class="literal">?bytes=b</code>, we disable the human-readable formatting on numbers and
force them to be listed as bytes.  This output is then piped into <code class="literal">sort</code> so that
our indices are ranked according to size (the eighth column).</p><p>Unfortunately, you’ll notice that the Marvel indices are clogging up the results,
and we don’t really care about those indices right now.  Let’s pipe the output
through <code class="literal">grep</code> and remove anything mentioning Marvel:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-bash">% curl 'localhost:9200/_cat/indices?bytes=b' | sort -rnk8 | grep -v marvel

yellow test_names         5 1 3476004 0 376324705 376324705
yellow wavelet            5 1    5979 0  54815185  54815185
yellow kibana-int         5 1       2 0     17791     17791
yellow t                  5 1       7 0     15280     15280
yellow website            5 1      12 0     12631     12631
yellow agg_analysis       5 1       5 0      5804      5804
yellow v2                 5 1       2 0      5410      5410
yellow v1                 5 1       2 0      5367      5367
yellow bank               1 1      16 0      4303      4303
yellow v                  5 1       1 0      2954      2954
yellow p                  5 1       2 0      2939      2939
yellow b0001_072320141238 5 1       1 0      2923      2923
yellow ipaddr             5 1       1 0      2917      2917
yellow v2a                5 1       1 0      2895      2895
yellow movies             5 1       1 0      2738      2738
yellow cars               5 1       0 0      1249      1249
yellow wavelet2           5 1       0 0       615       615</pre></div><p>Voila!  After piping through <code class="literal">grep</code> (with <code class="literal">-v</code> to invert the matches), we get
a sorted list of indices without Marvel cluttering it up.</p><p>This is just a simple example of the flexibility of <code class="literal">cat</code> at the command line.
Once you get used to using <code class="literal">cat</code>, you’ll see it like any other *nix tool and start
going crazy with piping, sorting, and grepping.  If you are a system admin and spend
any time SSH’d into boxes, definitely spend some time getting familiar
with the <code class="literal">cat</code> API.</p></div></div><div class="navfooter"><span class="prev"><a href="administration.html">
              « 
              관리, 모니터링, 배포 </a>
           
        </span><span class="next">
           
          <a href="deploy.html">제품의 배포
               »
            </a></span></div>
<!-- end body -->

            </section>

            <div id="rtpcontainer"
        >
	<h3>Top Videos</h3>
	<ul class="lists">
		<li><a href="https://www.elastic.co/webinars/get-started-with-elasticsearch/?baymax=default&elektra=docs&storm=top-video">Getting Started</a></li>
		<li><a href="http://www.elastic.co/webinars/elasticsearch-performance-optimization-tale-two-tickets/?elektra=docs">Scaling</a></li>
		<li><a href="http://www.elastic.co/webinars/shield-securing-your-data-in-elasticsearch/?elektra=docs">Security</a></li>
	</ul>
</div>


	  	




<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
	<!-- subscribe-newsletter -->
	<div id="subscribe-newsletter">
		<div class="container">
			<div class="row">
				<div class="12u">
					<div class="subscribe-wrapper" id="rtp-newsletter">
						<header>
							<h3>Subscribe to our newsletter</h3>
						</header>
						<div class="subscribe-form">
							<form id="mktoForm_1398" class="container"></form>
							<div class="form_thanks hide">
								
									<p>Thanks for subscribing! We'll keep you updated with new releases.</p>
								
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

  	<!-- Footer -->
	<div id="footer-wrapper">
		<section id="footer" class="container">
			<div class="row">
				<div class="12u">
					<!-- Copyright -->
					<div id="copyright">
	<p>
		© 2016. All Rights Reserved - Elasticsearch
	</p>
	<ul class="links">
		<li>Elasticsearch is a trademark of Elasticsearch BV, registered in the U.S. and in other countries</li>
		<li><a href="/legal/trademarks" id="footer_trademarks">Trademarks</a></li>
		<li><a href="/legal/terms-of-use" id="footer_terms">Terms</a></li>
		<li><a href="/legal/privacy-policy" id="footer_privacy">Privacy</a></li>
	</ul>
	<p>
		Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the <a href="http://www.apache.org/" target="_blank">Apache Software Foundation</a> in the United States and/or other&nbsp;countries.
	</p>
</div><!--<div class="row">
{replace4}
</div>-->
				</div>
			</div>					
		</section>
	</div>
			
	<!-- Social Media -->
	<div id="socialmedia-wrapper">
		<section id="socialmedia" class="container">
			<!-- social icons -->
			<div id="social">
				<ul class="links">
					
						<li class="facebook grayscale"><a href="http://www.facebook.com/elastic.co" target="_blank" id="footer_facebook"></a></li>
					
						<li class="twitter grayscale"><a href="https://www.twitter.com/elastic" target="_blank" id="footer_twitter"></a></li>
					
						<li class="linkedin grayscale"><a href="https://www.linkedin.com/company/elastic-co" target="_blank" id="footer_linkedin"></a></li>
					
						<li class="xing grayscale"><a href="https://www.xing.com/companies/elastic.co" target="_blank" id="footer_xing"></a></li>
					
						<li class="youtube grayscale"><a href="https://www.youtube.com/user/elasticsearch" target="_blank" id="footer_youtube"></a></li>
					
				</ul>
			</div>
		</section>
	</div>


<style type="text/css">
	
		.facebook{background:url("https://static-www.elastic.co/assets/bltda40eebd7c7cae9a/facebook.svg?q=100") no-repeat;}		
	
		.twitter{background:url("https://static-www.elastic.co/assets/bltfd3b1511512f4632/twitter.svg?q=100") no-repeat;}		
	
		.linkedin{background:url("https://static-www.elastic.co/assets/blt6b4f6f8d6b96f814/linkedin.svg?q=100") no-repeat;}		
	
		.xing{background:url("https://static-www.elastic.co/assets/blta76b2ae2b2f10a98/xing.svg?q=100") no-repeat;}		
	
		.youtube{background:url("https://static-www.elastic.co/assets/blt5761648c9581fb53/youtube.svg?q=100") no-repeat;}		
	
</style>

<script>
MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", 1398,function(form){
	form.onSuccess(function(form){
		$('#mktoForm_1398').css('display','none');
		$('#subscribe-newsletter header').hide();
		$('#mktoForm_1398').siblings('.form_thanks').removeClass('hide')
		dataLayer.push({'event': 'mktoFormSubmit'});
	    return false;
  	});
});
</script>	

  	</div>
  	<!-- <div class="preloader">
    	<div class="status"></div>
	</div> -->
  	<style></style>
   	<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";	
</script>
<script src="https://static-www.elastic.co/static/js/jquery.autocomplete.js?q=100"></script>
<script src="https://static-www.elastic.co/static/js/script.js?q=100"></script>


   	
   	
   	
   	<script type="application/ld+json">
	
		
	
	{
	  	"@context": "http://schema.org",
	  	"@type": "Organization",
	  	"name" : "Elastic",
	  	"url": "https://www.elastic.co/",
	  	"logo": "https://www.elastic.co/static/img/elastic-logo-200.png",
		"sameAs" : [ "https://www.facebook.com/elastic.co",
			"https://twitter.com/elastic",
			"https://plus.google.com/105178019064686397293",
			"https://www.youtube.com/user/elasticsearch",
			"https://www.linkedin.com/company/elasticsearch"
		],
	  	"potentialAction": {
	    	"@type": "SearchAction",
	    	"target": "https://www.elastic.co/search?q={query_string}",
	    	"query-input": "required name=query_string"
	  	}
	}
</script>	

            <script type="text/javascript" src="docs.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script type='text/javascript' src='https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js'></script>

            </body>
        


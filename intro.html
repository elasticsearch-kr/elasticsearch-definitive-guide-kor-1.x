
<!DOCTYPE HTML>
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>You Know, for Search…</title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch: The Definitive Guide" /><link rel="up" href="getting-started.html" title="Getting Started" /><link rel="prev" href="getting-started.html" title="Getting Started" /><link rel="next" href="distributed-cluster.html" title="Cluster 내부 동작" />
  
 	<meta http-equiv="content-type" content="text/html; charset=utf-8" />

 	<!-- RTP tag --> 
	<script type='text/javascript' async>
	(function(c,h,a,f,i,e){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
	 c[a].a=i;c[a].e=e;var g=h.createElement("script");g.async=true;g.type="text/javascript";
	 g.src=f+'?aid='+i;var b=h.getElementsByTagName("script")[0];b.parentNode.insertBefore(g,b);
	 })(window,document,"rtp","//sjrtp2-cdn.marketo.com/rtp-api/v1/rtp.js","elasticco");
	 
	rtp('send','view');
	rtp('get', 'campaign',true);
	</script>
	<!-- End of RTP tag -->
	
	
 	<link rel="apple-touch-icon" sizes="57x57"  href="https://www.elastic.co/apple-icon-57x57.png?change=123">
<link rel="apple-touch-icon" sizes="60x60"  href="https://www.elastic.co/apple-icon-60x60.png?change=123">
<link rel="apple-touch-icon" sizes="72x72"  href="https://www.elastic.co/apple-icon-72x72.png?change=123">
<link rel="apple-touch-icon" sizes="76x76"  href="https://www.elastic.co/apple-icon-76x76.png?change=123">
<link rel="apple-touch-icon" sizes="114x114"  href="https://www.elastic.co/apple-icon-114x114.png?change=123">
<link rel="apple-touch-icon" sizes="120x120"  href="https://www.elastic.co/apple-icon-120x120.png?change=123">
<link rel="apple-touch-icon" sizes="144x144"  href="https://www.elastic.co/apple-icon-144x144.png?change=123">
<link rel="apple-touch-icon" sizes="152x152"  href="https://www.elastic.co/apple-icon-152x152.png?change=123">
<link rel="apple-touch-icon" sizes="180x180"  href="https://www.elastic.co/apple-icon-180x180.png?change=123">
<link rel="icon" type="image/png" sizes="192x192"   href="https://www.elastic.co/android-icon-192x192.png?change=123">
<link rel="icon" type="image/png" sizes="32x32"  href="https://www.elastic.co/favicon-32x32.png?change=123">
<link rel="icon" type="image/png" sizes="96x96"  href="https://www.elastic.co/favicon-96x96.png?change=123">
<link rel="icon" type="image/png" sizes="16x16"  href="https://www.elastic.co/favicon-16x16.png?change=123">
<link rel="manifest"  href="https://www.elastic.co/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

<!-- DC tags section -->
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
<link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >
<meta name="DC.title" content="Guide template" >

<!-- end DC tags -->

	<meta name="description" content="" />

	<link rel="canonical" href="" />

	<meta property="og:image" content="https://www.elastic.co/static/img/elastic-logo-200.png" />
	


	
	<link type="text/css" rel="stylesheet" href="https://static-www.elastic.co/static/css/skel.css?q=100" />
	<link type="text/css" rel="stylesheet" href="https://static-www.elastic.co/static/css/style.css?q=100" />	
	<script src="https://static-www.elastic.co/static/js/skel.min.js?q=100"></script>
	
		<script type="text/javascript">form_name = "" ; cdn_url="https://static-www.elastic.co";cdn_slug = "100"</script>
	
	<script src="https://static-www.elastic.co/static/js/init.js?q=100"></script>
	<script src="https://static-www.elastic.co/static/js/jquery.min.js?q=100"></script>
	<script src="https://static-www.elastic.co/static/js/jquery.cookie.js?q=100"></script>
	<!--<script type="text/javascript">
	    (function() {
	        var path = '//easy.myfonts.net/v2/js?sid=10336(font-family=Avenir+35+Light)&sid=10338(font-family=Avenir+55+Roman)&sid=10340(font-family=Avenir+85+Heavy)&sid=10344(font-family=Avenir+65+Medium)&key=nAD6PCOPrX',
	            protocol = ('https:' == document.location.protocol ? 'https:' : 'http:'),
	            trial = document.createElement('script');
	        trial.type = 'text/javascript';
	        trial.async = true;
	        trial.src = protocol + path;
	        var head = document.getElementsByTagName("head")[0];
	        head.appendChild(trial);
	    })();
	</script>-->

	
	<link type="text/css" rel="stylesheet"  href="https://www.elastic.co/static/css/prettify.css" />
	<script type="text/javascript"  src="https://www.elastic.co/static/js/prettify.js"></script>



<link rel="stylesheet" type="text/css" href="styles.css" />

</head>
<body >
	<!-- Google Tag Manager -->
	<script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5"
													  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-58RLH5');</script>
	<!-- End Google Tag Manager -->
	
	<div class="header-cont">
		<div id="header-wrapper">
			


	<script  src="https://www.elastic.co/static/js/jquery.tokeninput.js?change=123"></script>
	<link rel="stylesheet" type="text/css"  href="https://www.elastic.co/static/css/token-input.css">

<div class="shortcuts-wrapper">
	<div class="container">
		<!-- Shortcuts -->
		<nav id="shortcuts">
			<ul class="links">
				
					<li class="shortcut-1">
						<a href="/downloads" id="header_downloads" >
							<span class="txt">downloads</span>	
						</a>
					</li>
				
					<li class="shortcut-2">
						<a href="/guide" id="header_guide" >
							<span class="txt">docs</span>	
						</a>
					</li>
				
					<li class="shortcut-3">
						<a href="/subscriptions" id="header_subscriptions" >
							<span class="txt">support</span>	
						</a>
					</li>
				
					<li class="shortcut-4">
						<a href="https://discuss.elastic.co" id="header_discuss" target="_blank">
							<span class="txt">discuss</span>	
						</a>
					</li>
				
					<li class="shortcut-5">
						<a href="/contact" id="header_contact" >
							<span class="txt">contact</span>	
						</a>
					</li>
				
			</ul>
		</nav>
		<div class="languages-wrapper">
			<div class="global-language">
				<ul class="language">
					<!-- <li class="active-language"><a class="active" href="#">EN</a></li> -->
					
						<li><a href="#">EN</a></li>
					
				</ul>
				<ul class="all-languages">
					
						
						<li><a href="/guide_template">English</a></li>
					
						
						<li><a href="/fr/guide_template">French</a></li>
					
						
						<li><a href="/de/guide_template">German</a></li>
					
						
						<li><a href="/jp/guide_template">Japanese</a></li>
					
						
						<li><a href="/kr/guide_template">Korean</a></li>
					
				</ul>
			</div>
		</div>
	</div>
</div>
<div class="container w100">
	<div class="row 0%">
		<div class="12u">
			

<section class="first-container desktop-main-nav">
	<div class="row 0%">
		<div class="11u 6u(small) 6u(xsmall)">
			<div id="elastic">
				<h1>
					<a href="/">
						<div id="elastic-logo">
						<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 400 130" preserveAspectRatio="xMinYMin meet" enable-background="new 0 0 400 130" xml:space="preserve">
    <g>
    	<g>
    		<path fill="#FFFFFF" d="M122.5,67.8c0-10.3-6.4-19.2-15.9-22.7c0.4-2.2,0.6-4.3,0.6-6.6c0-19.1-15.5-34.6-34.6-34.6
    			c-11.1,0-21.5,5.3-28,14.4c-3.2-2.5-7.1-3.8-11.2-3.8c-10.1,0-18.4,8.2-18.4,18.4c0,2.2,0.4,4.4,1.1,6.4C6.5,42.6,0,51.8,0,62
    			c0,10.3,6.4,19.3,16,22.8c-0.4,2.1-0.6,4.3-0.6,6.6c0,19,15.5,34.5,34.5,34.5c11.2,0,21.5-5.4,28-14.4c3.2,2.5,7.2,3.9,11.3,3.9
    			c10.1,0,18.4-8.2,18.4-18.4c0-2.2-0.4-4.4-1.1-6.4C115.9,87.2,122.5,78,122.5,67.8z"/>
    		<g>
    			<path fill="#F4BD19" d="M47.9,56.3l27.3,12.5l27.6-24.2c0.4-2,0.6-4,0.6-6.1c0-17-13.8-30.8-30.8-30.8c-10.2,0-19.7,5-25.4,13.4
    				l-4.6,23.8L47.9,56.3z"/>
    		</g>
    		<g>
    			<path fill="#3CBEB1" d="M19.6,85.2c-0.4,2-0.6,4.1-0.6,6.2c0,17,13.9,30.9,30.9,30.9c10.3,0,19.8-5.1,25.6-13.5L80,85l-6.1-11.6
    				L46.5,60.9L19.6,85.2z"/>
    		</g>
    		<g>
    			<path fill="#E9478C" d="M19.4,37.9l18.7,4.4L42.3,21c-2.6-2-5.7-3-9-3c-8.1,0-14.8,6.6-14.8,14.8C18.5,34.5,18.8,36.3,19.4,37.9z
    				"/>
    		</g>
    		<g>
    			<path fill="#2C458F" d="M17.8,42.4C9.4,45.1,3.6,53.2,3.6,62c0,8.6,5.3,16.3,13.3,19.3l26.3-23.8l-4.8-10.3L17.8,42.4z"/>
    		</g>
    		<g>
    			<path fill="#95C63D" d="M80.3,108.7c2.6,2,5.7,3.1,8.9,3.1c8.1,0,14.8-6.6,14.8-14.8c0-1.8-0.3-3.5-0.9-5.1l-18.7-4.4L80.3,108.7
    				z"/>
    		</g>
    		<g>
    			<path fill="#176655" d="M84.1,82.6l20.6,4.8c8.4-2.8,14.2-10.8,14.2-19.6c0-8.6-5.3-16.2-13.3-19.3l-27,23.6L84.1,82.6z"/>
    		</g>
    	</g>
    	<path d="M162.8,76.3c0,0.1,0,0.6,0.1,1.4c0.1,0.8,0.3,1.8,0.6,3c0.3,1.1,0.8,2.4,1.4,3.7c0.6,1.3,1.4,2.5,2.5,3.6
    		c1,1.1,2.3,2,3.8,2.7c1.5,0.7,3.4,1.1,5.6,1.1c1.8,0,3.3-0.1,4.6-0.4c1.3-0.3,2.4-0.7,3.4-1.3c1-0.6,1.9-1.3,2.7-2.2
    		c0.8-0.9,1.6-1.9,2.4-3.1c0.5-0.7,1-1.2,1.6-1.5c0.6-0.3,1.2-0.4,1.8-0.4c1,0,2,0.4,2.8,1.1c0.9,0.7,1.3,1.7,1.3,2.8
    		c0,0.7-0.4,1.7-1.1,3.1c-0.7,1.4-1.9,2.8-3.6,4.1c-1.6,1.4-3.7,2.6-6.3,3.6c-2.6,1-5.7,1.5-9.5,1.5c-3.8,0-7.2-0.7-10.2-2.1
    		c-3-1.4-5.5-3.2-7.5-5.6c-2-2.3-3.6-5-4.7-8.1c-1.1-3.1-1.6-6.3-1.6-9.7c0-3.5,0.5-6.8,1.6-9.9c1.1-3.1,2.7-5.8,4.7-8.1
    		c2-2.3,4.5-4.1,7.4-5.5c2.9-1.3,6.1-2,9.6-2c3.3,0,6.3,0.5,9.2,1.5c2.8,1,5.3,2.4,7.4,4.3c2.1,1.9,3.7,4.1,5,6.8
    		c1.2,2.7,1.8,5.8,1.8,9.2c0,2.1-0.5,3.7-1.6,4.8c-1,1.1-2.2,1.6-3.6,1.6H162.8z M170.9,56.4c-1.5,0.6-2.7,1.4-3.7,2.4
    		c-1,0.9-1.8,2-2.4,3.1c-0.6,1.1-1,2.2-1.3,3.2c-0.3,1-0.5,1.8-0.5,2.5c-0.1,0.7-0.1,1.1-0.1,1.2h27.9c0-1.8-0.3-3.5-0.9-5.1
    		c-0.6-1.6-1.5-3-2.6-4.3c-1.2-1.2-2.7-2.2-4.5-3c-1.8-0.7-4-1.1-6.5-1.1C174.2,55.5,172.4,55.8,170.9,56.4z"/>
    	<path d="M214.3,94.6c0,1.3-0.4,2.3-1.3,3.2c-0.9,0.9-1.9,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2V35.1
    		c0-1.3,0.4-2.3,1.3-3.2c0.9-0.9,2-1.3,3.2-1.3c1.3,0,2.3,0.4,3.2,1.3c0.9,0.9,1.3,1.9,1.3,3.2V94.6z"/>
    	<path d="M229.8,63.5c-0.6,0.3-1.2,0.5-1.9,0.5c-1.2,0-2.2-0.4-3.2-1.1c-1-0.7-1.5-1.8-1.5-3.1c0-0.5,0.1-1.1,0.4-1.9
    		c0.5-1.2,1.2-2.4,2.1-3.6c0.9-1.2,2-2.2,3.5-3.1s3.3-1.7,5.4-2.2c2.2-0.5,4.8-0.8,7.9-0.8c5.9,0,10.5,1.2,14,3.5
    		c3.5,2.3,5.2,5.8,5.2,10.3v32.8c0,1.3-0.4,2.3-1.3,3.2c-0.9,0.9-1.9,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2v-2
    		c-1.2,2-4.7,4.5-7.5,5.3c-2.8,0.8-5.7,1.2-8.8,1.2c-2,0-3.9-0.3-5.9-0.8c-2-0.5-3.8-1.4-5.3-2.5c-1.6-1.1-2.9-2.6-3.8-4.3
    		c-1-1.7-1.5-3.8-1.5-6.2c0-2.8,0.5-5.7,1.6-7.5c1.1-1.9,2.6-3.4,4.4-4.6c1.8-1.2,3.9-2.1,6.3-2.8c2.4-0.6,4.9-1.1,7.5-1.4
    		c3-0.3,5.4-0.7,7.2-1.2c1.7-0.4,3-0.9,3.9-1.5c0.9-0.6,1.4-1.2,1.6-2c0.2-0.7,0.3-1.6,0.3-2.5c0-1.1-0.3-2-0.9-2.8
    		c-0.6-0.8-1.4-1.5-2.4-2c-1-0.5-2.1-0.9-3.3-1.2s-2.4-0.4-3.5-0.4c-2.1,0-3.7,0.2-5,0.5c-1.3,0.3-2.3,0.8-3.1,1.4
    		c-0.8,0.6-1.5,1.3-1.9,2.1c-0.5,0.8-0.9,1.6-1.3,2.5C230.9,62.6,230.4,63.1,229.8,63.5z M250.6,74.4c-1.1,0.3-2.4,0.6-3.8,0.8
    		c-1.5,0.2-3,0.4-4.6,0.6c-1.6,0.2-3.1,0.5-4.6,0.9c-1.5,0.3-2.8,0.8-4,1.5c-1.2,0.7-2.2,1.5-2.9,2.5c-0.7,1-1.1,3-1.1,4.6
    		c0,1.3,0.3,2.3,0.8,3.1c0.5,0.8,1.2,1.5,2.1,2c0.9,0.5,1.8,0.8,2.9,1c1.1,0.2,2.2,0.3,3.3,0.3c1.7,0,3.3-0.2,5-0.6
    		c1.7-0.4,3.2-1,4.5-1.9s2.4-2,3.3-3.5c0.8-1.4,1.2-3.8,1.2-5.9v-6.1L250.6,74.4z"/>
    	<path d="M307.6,90.9c-1.1,2-2.7,3.6-4.6,4.8s-4.1,2.1-6.6,2.7c-2.5,0.5-5.2,0.8-7.9,0.8c-3.9,0-7.2-0.6-9.9-1.8
    		c-2.7-1.2-4.9-2.6-6.5-4.1c-1.7-1.6-2.9-3.1-3.7-4.7c-0.7-1.6-1.1-2.7-1.1-3.5c0-1.3,0.5-2.4,1.4-3.2c0.9-0.8,2-1.2,3.1-1.2
    		c0.7,0,1.3,0.2,2,0.6c0.6,0.4,1.1,1,1.5,1.9c1,2.5,2.5,4.5,4.7,6.2c2.2,1.7,5.2,2.5,9.3,2.5c1.8,0,3.4-0.2,4.7-0.6
    		c1.3-0.4,2.4-1,3.2-1.7c0.8-0.7,1.4-1.5,1.9-2.4c0.4-0.9,0.6-1.8,0.6-2.8c0-2-0.8-3.4-2.3-4.4c-1.5-1-3.5-1.7-5.8-2.3
    		c-2.3-0.6-4.8-1.1-7.5-1.6c-2.7-0.5-5.2-1.2-7.5-2.2c-2.3-0.9-4.2-2.3-5.8-4c-1.6-1.8-2.3-4.2-2.3-7.3c0-4.5,1.6-8,4.9-10.5
    		c3.3-2.5,7.8-3.8,13.7-3.8c3.3,0,6,0.3,8.3,1c2.2,0.7,4.1,1.6,5.5,2.7c0.6,0.5,1.2,1,1.8,1.7c0.6,0.7,1.2,1.4,1.8,2.2
    		c0.6,0.8,1,1.5,1.4,2.3c0.4,0.7,0.6,1.4,0.6,2c0,1.3-0.5,2.4-1.6,3.1c-1,0.8-2.2,1.2-3.4,1.2c-0.7,0-1.5-0.1-2.1-0.6
    		c-0.6-0.6-1-1.3-1.3-1.8c-0.5-1.1-1.1-2-1.7-2.8c-0.5-0.8-1.2-1.5-2-2c-0.8-0.5-1.8-0.9-3-1.2c-1.2-0.3-2.7-0.4-4.4-0.4
    		c-3.5,0-6,0.6-7.6,1.7c-1.6,1.1-2.4,2.5-2.4,4.2c0,1.3,0.5,2.3,1.4,3.1c0.9,0.8,2.1,1.4,3.7,2c1.5,0.5,3.3,1,5.2,1.4
    		c2,0.4,3.9,0.8,5.9,1.3c2,0.5,4,1.1,5.9,1.7c1.9,0.7,3.7,1.6,5.2,2.7c1.5,1.1,2.7,2.5,3.7,4.1c0.9,1.6,1.4,3.6,1.4,6
    		C309.4,86.4,308.8,88.9,307.6,90.9z"/>
    	<path d="M327.4,48.8h4.7c1.1,0,2,0.4,2.8,1.2c0.8,0.8,1.2,1.7,1.2,2.8c0,1.1-0.4,2.1-1.2,2.8s-1.7,1.1-2.8,1.1h-4.7v37.9
    		c0,1.3-0.4,2.3-1.3,3.2c-0.9,0.9-2,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2V56.7h-4.6c-1.1,0-2-0.4-2.8-1.1
    		c-0.8-0.7-1.2-1.7-1.2-2.8c0-1.1,0.4-2,1.2-2.8c0.8-0.8,1.7-1.2,2.8-1.2h4.6V39c0-1.3,0.4-2.3,1.3-3.2s1.9-1.3,3.2-1.3
    		c1.3,0,2.3,0.4,3.2,1.3s1.3,1.9,1.3,3.2V48.8z"/>
    	<path d="M341.5,32.1c1-1,2.2-1.5,3.7-1.5c1.4,0,2.6,0.5,3.6,1.5c1,1,1.5,2.2,1.5,3.6c0,1.4-0.5,2.6-1.5,3.6c-1,1-2.2,1.5-3.6,1.5
    		c-1.4,0-2.7-0.5-3.7-1.5c-1-1-1.5-2.2-1.5-3.6C340,34.2,340.5,33,341.5,32.1z M349.6,94.6c0,1.3-0.4,2.3-1.3,3.2
    		c-0.9,0.9-1.9,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2V53.3c0-1.3,0.4-2.3,1.3-3.2c0.9-0.9,2-1.3,3.2-1.3
    		c1.3,0,2.3,0.4,3.2,1.3c0.9,0.9,1.3,2,1.3,3.2V94.6z"/>
    	<path d="M369.1,97.3c-2.9-1.2-5.4-3-7.5-5.2c-2.1-2.2-3.8-4.9-5-8.1c-1.2-3.1-1.8-6.6-1.8-10.4c0-3.8,0.6-7.3,1.8-10.5
    		c1.2-3.1,2.9-5.8,5-8.1c2.1-2.2,4.6-4,7.5-5.2c2.9-1.2,6-1.9,9.4-1.9c3.4,0,6.4,0.5,9,1.5c2.5,1,4.6,2.2,6.2,3.6
    		c1.6,1.4,3.2,2.9,4,4.4c0.5,0.9,0.9,1.5,0.9,2.6c0,1.3-0.5,2.3-1.4,3.1c-0.9,0.7-2,1.1-3.1,1.1c-0.8,0-1.6-0.2-2.2-0.6
    		c-0.7-0.4-1.2-1.3-1.8-2.1c-1-1.4-0.5-0.6-1.1-1.5c-0.7-0.9-1.5-1.6-2.5-2.3c-1-0.7-2.2-1.2-3.5-1.6c-1.4-0.4-2.8-0.6-4.4-0.6
    		c-1.8,0-3.5,0.3-5.3,1c-1.8,0.7-3.3,1.7-4.7,3.1c-1.4,1.4-2.5,3.3-3.4,5.6s-1.3,5.1-1.3,8.4c0,3.3,0.4,6.1,1.3,8.4s2,4.2,3.4,5.6
    		c1.4,1.4,3,2.5,4.7,3.1c1.8,0.7,3.5,1,5.3,1c1.6,0,3.1-0.2,4.4-0.6c1.3-0.4,2.5-0.9,3.5-1.6c1-0.7,1.8-1.5,2.5-2.3
    		c0.7-0.9,1.1-1.8,1.4-2.7c0.3-1,0.8-1.7,1.5-2.1c0.7-0.4,1.4-0.6,2.2-0.6c1.1,0,2.2,0.4,3.1,1.1c0.9,0.7,1.4,1.7,1.4,3
    		c0,0.6-0.3,1.7-0.9,3.1c-0.6,1.5-1.6,2.9-3.1,4.4c-1.5,1.5-3.5,2.8-6.2,4c-2.6,1.1-6,1.7-10,1.7C375.1,99.2,372,98.5,369.1,97.3z"
    		/>
    </g>
</svg>
						</div>
					</a>
				</h1>
			</div>
			<nav id="nav">
				<ul>
					
					<li>
						
							
						
						<a href="/products" id="nav_products"   >Products</a>
						
						<ul class="dropdown">
							
								<li><a href="/products/elasticsearch" id="nav_elasticsearch" >elasticsearch</a></li>								
							
								<li><a href="/found" id="nav_hosted-elasticsearch" >elasticsearch as a service</a></li>								
							
								<li><a href="/products/logstash" id="nav_logstash" >logstash</a></li>								
							
								<li><a href="/products/kibana" id="nav_kibana" >kibana</a></li>								
							
								<li><a href="/products/beats" id="nav_beats" >beats</a></li>								
							
								<li><a href="/products/watcher" id="nav_watcher" >watcher</a></li>								
							
								<li><a href="/products/shield" id="nav_shield" >shield</a></li>								
							
								<li><a href="/products/marvel" id="nav_marvel" >marvel</a></li>								
							
								<li><a href="/products/hadoop" id="nav_hadoop" >hadoop</a></li>								
							
								<li><a href="/downloads" id="nav_downloads" >downloads</a></li>								
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/subscriptions" id="nav_subscriptions"   >Subscriptions</a>
						
						<ul class="dropdown">
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/learn" id="nav_learn"   >Learn</a>
						
						<ul class="dropdown">
							
								<li><a href="/guide" id="nav_guide" >docs</a></li>								
							
								<li><a href="/videos" id="nav_videos" >videos</a></li>								
							
								<li><a href="/training" id="nav_training" >training</a></li>								
							
								<li><a href="/services" id="nav_services" >services</a></li>								
							
								<li><a href="/blog" id="nav_learn_blog" >blog</a></li>								
							
								<li><a href="/elasticon" id="nav_learn_elasticon" >elastic{ON}</a></li>								
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/community" id="nav_community"   >Community</a>
						
						<ul class="dropdown">
							
								<li><a href="/community/meetups" id="nav_meetups" >meetups</a></li>								
							
								<li><a href="https://discuss.elastic.co" id="nav_discuss" target="_blank">discuss</a></li>								
							
								<li><a href="/community/codeofconduct" id="nav_codeofconduct" >code of conduct</a></li>								
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/use-cases" id="nav_usecases"   >Use Cases</a>
						
						<ul class="dropdown">
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/blog" id="nav_blog"   >Blog</a>
						
						<ul class="dropdown">
							
								<li><a href="/blog/category/news" id="blog_news" >News</a></li>								
							
								<li><a href="/blog/category/engineering" id="blog_engineering" >Engineering</a></li>								
							
								<li><a href="/blog/category/user-stories" id="blog_user-stories" >User Stories</a></li>								
							
								<li><a href="/blog/category/releases" id="blog_releases" >Releases</a></li>								
							
								<li><a href="/blog/archive" id="blog_archive" >Archive</a></li>								
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/about" id="nav_about"   >About</a>
						
						<ul class="dropdown">
							
								<li><a href="/about/leadership" id="nav_leadership" >leadership</a></li>								
							
								<li><a href="/about/board" id="nav_board" >board of directors</a></li>								
							
								<li><a href="/about/careers" id="nav_careers" >careers</a></li>								
							
								<li><a href="/about/partners" id="nav_partners" >partners</a></li>								
							
								<li><a href="/about/press" id="nav_press" >press</a></li>								
								
						</ul>							
					</li>
					
				</ul>
			</nav>			
			<!-- Searchbar Input box -->
			 <!-- <form method="get" action="/search" name="searchForm" class="header-search-form" id="searchMobileFrm">
			   <input type="text" id="search-header-autocomplete" name="q" class="form-control global-input" placeholder="elastic{search}">
			</form>
			<div class="mobile-auto-complete"></div> -->  
		</div>
		<div class="1u 6u(small) 6u(xsmall)">
			<div id="searchbar">
				<a href="#" class="button icon"></a>
			</div>
			<!-- <div class="nav-auto-complete"></div> -->
		</div>
	</div>
</section>
<div class="mobile-menu-wrapper">
	<div class="row 0%">
		<div class="8u 6u(small) 6u(xsmall)">
			<div id="elastic">
				<h1>
					<a href="/">
						<div id="elastic-logo">
						<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 400 130" preserveAspectRatio="xMinYMin meet" enable-background="new 0 0 400 130" xml:space="preserve">
    <g>
    	<g>
    		<path fill="#FFFFFF" d="M122.5,67.8c0-10.3-6.4-19.2-15.9-22.7c0.4-2.2,0.6-4.3,0.6-6.6c0-19.1-15.5-34.6-34.6-34.6
    			c-11.1,0-21.5,5.3-28,14.4c-3.2-2.5-7.1-3.8-11.2-3.8c-10.1,0-18.4,8.2-18.4,18.4c0,2.2,0.4,4.4,1.1,6.4C6.5,42.6,0,51.8,0,62
    			c0,10.3,6.4,19.3,16,22.8c-0.4,2.1-0.6,4.3-0.6,6.6c0,19,15.5,34.5,34.5,34.5c11.2,0,21.5-5.4,28-14.4c3.2,2.5,7.2,3.9,11.3,3.9
    			c10.1,0,18.4-8.2,18.4-18.4c0-2.2-0.4-4.4-1.1-6.4C115.9,87.2,122.5,78,122.5,67.8z"/>
    		<g>
    			<path fill="#F4BD19" d="M47.9,56.3l27.3,12.5l27.6-24.2c0.4-2,0.6-4,0.6-6.1c0-17-13.8-30.8-30.8-30.8c-10.2,0-19.7,5-25.4,13.4
    				l-4.6,23.8L47.9,56.3z"/>
    		</g>
    		<g>
    			<path fill="#3CBEB1" d="M19.6,85.2c-0.4,2-0.6,4.1-0.6,6.2c0,17,13.9,30.9,30.9,30.9c10.3,0,19.8-5.1,25.6-13.5L80,85l-6.1-11.6
    				L46.5,60.9L19.6,85.2z"/>
    		</g>
    		<g>
    			<path fill="#E9478C" d="M19.4,37.9l18.7,4.4L42.3,21c-2.6-2-5.7-3-9-3c-8.1,0-14.8,6.6-14.8,14.8C18.5,34.5,18.8,36.3,19.4,37.9z
    				"/>
    		</g>
    		<g>
    			<path fill="#2C458F" d="M17.8,42.4C9.4,45.1,3.6,53.2,3.6,62c0,8.6,5.3,16.3,13.3,19.3l26.3-23.8l-4.8-10.3L17.8,42.4z"/>
    		</g>
    		<g>
    			<path fill="#95C63D" d="M80.3,108.7c2.6,2,5.7,3.1,8.9,3.1c8.1,0,14.8-6.6,14.8-14.8c0-1.8-0.3-3.5-0.9-5.1l-18.7-4.4L80.3,108.7
    				z"/>
    		</g>
    		<g>
    			<path fill="#176655" d="M84.1,82.6l20.6,4.8c8.4-2.8,14.2-10.8,14.2-19.6c0-8.6-5.3-16.2-13.3-19.3l-27,23.6L84.1,82.6z"/>
    		</g>
    	</g>
    	<path d="M162.8,76.3c0,0.1,0,0.6,0.1,1.4c0.1,0.8,0.3,1.8,0.6,3c0.3,1.1,0.8,2.4,1.4,3.7c0.6,1.3,1.4,2.5,2.5,3.6
    		c1,1.1,2.3,2,3.8,2.7c1.5,0.7,3.4,1.1,5.6,1.1c1.8,0,3.3-0.1,4.6-0.4c1.3-0.3,2.4-0.7,3.4-1.3c1-0.6,1.9-1.3,2.7-2.2
    		c0.8-0.9,1.6-1.9,2.4-3.1c0.5-0.7,1-1.2,1.6-1.5c0.6-0.3,1.2-0.4,1.8-0.4c1,0,2,0.4,2.8,1.1c0.9,0.7,1.3,1.7,1.3,2.8
    		c0,0.7-0.4,1.7-1.1,3.1c-0.7,1.4-1.9,2.8-3.6,4.1c-1.6,1.4-3.7,2.6-6.3,3.6c-2.6,1-5.7,1.5-9.5,1.5c-3.8,0-7.2-0.7-10.2-2.1
    		c-3-1.4-5.5-3.2-7.5-5.6c-2-2.3-3.6-5-4.7-8.1c-1.1-3.1-1.6-6.3-1.6-9.7c0-3.5,0.5-6.8,1.6-9.9c1.1-3.1,2.7-5.8,4.7-8.1
    		c2-2.3,4.5-4.1,7.4-5.5c2.9-1.3,6.1-2,9.6-2c3.3,0,6.3,0.5,9.2,1.5c2.8,1,5.3,2.4,7.4,4.3c2.1,1.9,3.7,4.1,5,6.8
    		c1.2,2.7,1.8,5.8,1.8,9.2c0,2.1-0.5,3.7-1.6,4.8c-1,1.1-2.2,1.6-3.6,1.6H162.8z M170.9,56.4c-1.5,0.6-2.7,1.4-3.7,2.4
    		c-1,0.9-1.8,2-2.4,3.1c-0.6,1.1-1,2.2-1.3,3.2c-0.3,1-0.5,1.8-0.5,2.5c-0.1,0.7-0.1,1.1-0.1,1.2h27.9c0-1.8-0.3-3.5-0.9-5.1
    		c-0.6-1.6-1.5-3-2.6-4.3c-1.2-1.2-2.7-2.2-4.5-3c-1.8-0.7-4-1.1-6.5-1.1C174.2,55.5,172.4,55.8,170.9,56.4z"/>
    	<path d="M214.3,94.6c0,1.3-0.4,2.3-1.3,3.2c-0.9,0.9-1.9,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2V35.1
    		c0-1.3,0.4-2.3,1.3-3.2c0.9-0.9,2-1.3,3.2-1.3c1.3,0,2.3,0.4,3.2,1.3c0.9,0.9,1.3,1.9,1.3,3.2V94.6z"/>
    	<path d="M229.8,63.5c-0.6,0.3-1.2,0.5-1.9,0.5c-1.2,0-2.2-0.4-3.2-1.1c-1-0.7-1.5-1.8-1.5-3.1c0-0.5,0.1-1.1,0.4-1.9
    		c0.5-1.2,1.2-2.4,2.1-3.6c0.9-1.2,2-2.2,3.5-3.1s3.3-1.7,5.4-2.2c2.2-0.5,4.8-0.8,7.9-0.8c5.9,0,10.5,1.2,14,3.5
    		c3.5,2.3,5.2,5.8,5.2,10.3v32.8c0,1.3-0.4,2.3-1.3,3.2c-0.9,0.9-1.9,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2v-2
    		c-1.2,2-4.7,4.5-7.5,5.3c-2.8,0.8-5.7,1.2-8.8,1.2c-2,0-3.9-0.3-5.9-0.8c-2-0.5-3.8-1.4-5.3-2.5c-1.6-1.1-2.9-2.6-3.8-4.3
    		c-1-1.7-1.5-3.8-1.5-6.2c0-2.8,0.5-5.7,1.6-7.5c1.1-1.9,2.6-3.4,4.4-4.6c1.8-1.2,3.9-2.1,6.3-2.8c2.4-0.6,4.9-1.1,7.5-1.4
    		c3-0.3,5.4-0.7,7.2-1.2c1.7-0.4,3-0.9,3.9-1.5c0.9-0.6,1.4-1.2,1.6-2c0.2-0.7,0.3-1.6,0.3-2.5c0-1.1-0.3-2-0.9-2.8
    		c-0.6-0.8-1.4-1.5-2.4-2c-1-0.5-2.1-0.9-3.3-1.2s-2.4-0.4-3.5-0.4c-2.1,0-3.7,0.2-5,0.5c-1.3,0.3-2.3,0.8-3.1,1.4
    		c-0.8,0.6-1.5,1.3-1.9,2.1c-0.5,0.8-0.9,1.6-1.3,2.5C230.9,62.6,230.4,63.1,229.8,63.5z M250.6,74.4c-1.1,0.3-2.4,0.6-3.8,0.8
    		c-1.5,0.2-3,0.4-4.6,0.6c-1.6,0.2-3.1,0.5-4.6,0.9c-1.5,0.3-2.8,0.8-4,1.5c-1.2,0.7-2.2,1.5-2.9,2.5c-0.7,1-1.1,3-1.1,4.6
    		c0,1.3,0.3,2.3,0.8,3.1c0.5,0.8,1.2,1.5,2.1,2c0.9,0.5,1.8,0.8,2.9,1c1.1,0.2,2.2,0.3,3.3,0.3c1.7,0,3.3-0.2,5-0.6
    		c1.7-0.4,3.2-1,4.5-1.9s2.4-2,3.3-3.5c0.8-1.4,1.2-3.8,1.2-5.9v-6.1L250.6,74.4z"/>
    	<path d="M307.6,90.9c-1.1,2-2.7,3.6-4.6,4.8s-4.1,2.1-6.6,2.7c-2.5,0.5-5.2,0.8-7.9,0.8c-3.9,0-7.2-0.6-9.9-1.8
    		c-2.7-1.2-4.9-2.6-6.5-4.1c-1.7-1.6-2.9-3.1-3.7-4.7c-0.7-1.6-1.1-2.7-1.1-3.5c0-1.3,0.5-2.4,1.4-3.2c0.9-0.8,2-1.2,3.1-1.2
    		c0.7,0,1.3,0.2,2,0.6c0.6,0.4,1.1,1,1.5,1.9c1,2.5,2.5,4.5,4.7,6.2c2.2,1.7,5.2,2.5,9.3,2.5c1.8,0,3.4-0.2,4.7-0.6
    		c1.3-0.4,2.4-1,3.2-1.7c0.8-0.7,1.4-1.5,1.9-2.4c0.4-0.9,0.6-1.8,0.6-2.8c0-2-0.8-3.4-2.3-4.4c-1.5-1-3.5-1.7-5.8-2.3
    		c-2.3-0.6-4.8-1.1-7.5-1.6c-2.7-0.5-5.2-1.2-7.5-2.2c-2.3-0.9-4.2-2.3-5.8-4c-1.6-1.8-2.3-4.2-2.3-7.3c0-4.5,1.6-8,4.9-10.5
    		c3.3-2.5,7.8-3.8,13.7-3.8c3.3,0,6,0.3,8.3,1c2.2,0.7,4.1,1.6,5.5,2.7c0.6,0.5,1.2,1,1.8,1.7c0.6,0.7,1.2,1.4,1.8,2.2
    		c0.6,0.8,1,1.5,1.4,2.3c0.4,0.7,0.6,1.4,0.6,2c0,1.3-0.5,2.4-1.6,3.1c-1,0.8-2.2,1.2-3.4,1.2c-0.7,0-1.5-0.1-2.1-0.6
    		c-0.6-0.6-1-1.3-1.3-1.8c-0.5-1.1-1.1-2-1.7-2.8c-0.5-0.8-1.2-1.5-2-2c-0.8-0.5-1.8-0.9-3-1.2c-1.2-0.3-2.7-0.4-4.4-0.4
    		c-3.5,0-6,0.6-7.6,1.7c-1.6,1.1-2.4,2.5-2.4,4.2c0,1.3,0.5,2.3,1.4,3.1c0.9,0.8,2.1,1.4,3.7,2c1.5,0.5,3.3,1,5.2,1.4
    		c2,0.4,3.9,0.8,5.9,1.3c2,0.5,4,1.1,5.9,1.7c1.9,0.7,3.7,1.6,5.2,2.7c1.5,1.1,2.7,2.5,3.7,4.1c0.9,1.6,1.4,3.6,1.4,6
    		C309.4,86.4,308.8,88.9,307.6,90.9z"/>
    	<path d="M327.4,48.8h4.7c1.1,0,2,0.4,2.8,1.2c0.8,0.8,1.2,1.7,1.2,2.8c0,1.1-0.4,2.1-1.2,2.8s-1.7,1.1-2.8,1.1h-4.7v37.9
    		c0,1.3-0.4,2.3-1.3,3.2c-0.9,0.9-2,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2V56.7h-4.6c-1.1,0-2-0.4-2.8-1.1
    		c-0.8-0.7-1.2-1.7-1.2-2.8c0-1.1,0.4-2,1.2-2.8c0.8-0.8,1.7-1.2,2.8-1.2h4.6V39c0-1.3,0.4-2.3,1.3-3.2s1.9-1.3,3.2-1.3
    		c1.3,0,2.3,0.4,3.2,1.3s1.3,1.9,1.3,3.2V48.8z"/>
    	<path d="M341.5,32.1c1-1,2.2-1.5,3.7-1.5c1.4,0,2.6,0.5,3.6,1.5c1,1,1.5,2.2,1.5,3.6c0,1.4-0.5,2.6-1.5,3.6c-1,1-2.2,1.5-3.6,1.5
    		c-1.4,0-2.7-0.5-3.7-1.5c-1-1-1.5-2.2-1.5-3.6C340,34.2,340.5,33,341.5,32.1z M349.6,94.6c0,1.3-0.4,2.3-1.3,3.2
    		c-0.9,0.9-1.9,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2V53.3c0-1.3,0.4-2.3,1.3-3.2c0.9-0.9,2-1.3,3.2-1.3
    		c1.3,0,2.3,0.4,3.2,1.3c0.9,0.9,1.3,2,1.3,3.2V94.6z"/>
    	<path d="M369.1,97.3c-2.9-1.2-5.4-3-7.5-5.2c-2.1-2.2-3.8-4.9-5-8.1c-1.2-3.1-1.8-6.6-1.8-10.4c0-3.8,0.6-7.3,1.8-10.5
    		c1.2-3.1,2.9-5.8,5-8.1c2.1-2.2,4.6-4,7.5-5.2c2.9-1.2,6-1.9,9.4-1.9c3.4,0,6.4,0.5,9,1.5c2.5,1,4.6,2.2,6.2,3.6
    		c1.6,1.4,3.2,2.9,4,4.4c0.5,0.9,0.9,1.5,0.9,2.6c0,1.3-0.5,2.3-1.4,3.1c-0.9,0.7-2,1.1-3.1,1.1c-0.8,0-1.6-0.2-2.2-0.6
    		c-0.7-0.4-1.2-1.3-1.8-2.1c-1-1.4-0.5-0.6-1.1-1.5c-0.7-0.9-1.5-1.6-2.5-2.3c-1-0.7-2.2-1.2-3.5-1.6c-1.4-0.4-2.8-0.6-4.4-0.6
    		c-1.8,0-3.5,0.3-5.3,1c-1.8,0.7-3.3,1.7-4.7,3.1c-1.4,1.4-2.5,3.3-3.4,5.6s-1.3,5.1-1.3,8.4c0,3.3,0.4,6.1,1.3,8.4s2,4.2,3.4,5.6
    		c1.4,1.4,3,2.5,4.7,3.1c1.8,0.7,3.5,1,5.3,1c1.6,0,3.1-0.2,4.4-0.6c1.3-0.4,2.5-0.9,3.5-1.6c1-0.7,1.8-1.5,2.5-2.3
    		c0.7-0.9,1.1-1.8,1.4-2.7c0.3-1,0.8-1.7,1.5-2.1c0.7-0.4,1.4-0.6,2.2-0.6c1.1,0,2.2,0.4,3.1,1.1c0.9,0.7,1.4,1.7,1.4,3
    		c0,0.6-0.3,1.7-0.9,3.1c-0.6,1.5-1.6,2.9-3.1,4.4c-1.5,1.5-3.5,2.8-6.2,4c-2.6,1.1-6,1.7-10,1.7C375.1,99.2,372,98.5,369.1,97.3z"
    		/>
    </g>
</svg>
						</div>
					</a>
				</h1>
			</div>
		</div>
		<div class="4u 6u(small) 6u(xsmall) text-right">
			<!-- <div class="mobile-menu-wrapper"> -->
				<ul class="m-shortcuts">
					
					<li><a href="#" class="m-search" id="header-search"></a></li>
					
					<li><a href="/guide" class="m-docs" id="mobile-docs"></a></li>
					
					<li><a href="/contact" class="m-contact" id="mobile-contact"></a></li>
					
				</ul>	
				<nav class="nav-menu">
					<div class="menu-button">
						<span></span>
					</div>
					<div class="nav-menu-list-wrap">
						<div class="nav-menu-list">
							
								<h3><a href="/products" id="nav_products" >Products</a></h3>

								
								<ul>
									
									<li><a href="/products/elasticsearch" id="nav_elasticsearch" >elasticsearch</a></li>
									
									<li><a href="/found" id="nav_hosted-elasticsearch" >elasticsearch as a service</a></li>
									
									<li><a href="/products/logstash" id="nav_logstash" >logstash</a></li>
									
									<li><a href="/products/kibana" id="nav_kibana" >kibana</a></li>
									
									<li><a href="/products/beats" id="nav_beats" >beats</a></li>
									
									<li><a href="/products/watcher" id="nav_watcher" >watcher</a></li>
									
									<li><a href="/products/shield" id="nav_shield" >shield</a></li>
									
									<li><a href="/products/marvel" id="nav_marvel" >marvel</a></li>
									
									<li><a href="/products/hadoop" id="nav_hadoop" >hadoop</a></li>
									
									<li><a href="/downloads" id="nav_downloads" >downloads</a></li>
									
								</ul>
								
							
								<h3><a href="/subscriptions" id="nav_subscriptions" >Subscriptions</a></h3>

								
							
								<h3><a href="/learn" id="nav_learn" >Learn</a></h3>

								
								<ul>
									
									<li><a href="/guide" id="nav_guide" >docs</a></li>
									
									<li><a href="/videos" id="nav_videos" >videos</a></li>
									
									<li><a href="/training" id="nav_training" >training</a></li>
									
									<li><a href="/services" id="nav_services" >services</a></li>
									
									<li><a href="/blog" id="nav_learn_blog" >blog</a></li>
									
									<li><a href="/elasticon" id="nav_learn_elasticon" >elastic{ON}</a></li>
									
								</ul>
								
							
								<h3><a href="/community" id="nav_community" >Community</a></h3>

								
								<ul>
									
									<li><a href="/community/meetups" id="nav_meetups" >meetups</a></li>
									
									<li><a href="/https:/discuss.elastic.co" id="nav_discuss" target="_blank">discuss</a></li>
									
									<li><a href="/community/codeofconduct" id="nav_codeofconduct" >code of conduct</a></li>
									
								</ul>
								
							
								<h3><a href="/use-cases" id="nav_usecases" >Use Cases</a></h3>

								
							
								<h3><a href="/blog" id="nav_blog" >Blog</a></h3>

								
								<ul>
									
									<li><a href="/blog/category/news" id="blog_news" >News</a></li>
									
									<li><a href="/blog/category/engineering" id="blog_engineering" >Engineering</a></li>
									
									<li><a href="/blog/category/user-stories" id="blog_user-stories" >User Stories</a></li>
									
									<li><a href="/blog/category/releases" id="blog_releases" >Releases</a></li>
									
									<li><a href="/blog/archive" id="blog_archive" >Archive</a></li>
									
								</ul>
								
							
								<h3><a href="/about" id="nav_about" >About</a></h3>

								
								<ul>
									
									<li><a href="/about/leadership" id="nav_leadership" >leadership</a></li>
									
									<li><a href="/about/board" id="nav_board" >board of directors</a></li>
									
									<li><a href="/about/careers" id="nav_careers" >careers</a></li>
									
									<li><a href="/about/partners" id="nav_partners" >partners</a></li>
									
									<li><a href="/about/press" id="nav_press" >press</a></li>
									
								</ul>
								
							
						</div>
					</div>
				</nav>
			<!-- </div> -->
		</div>
	</div>
</div>
<!-- Mobile Menu -->


		</div>
	</div>
</div>
<div class="header-search-wrapper">	
	<div class="container">
		<div class="big-search">
			<i class="big-search-icon"></i>
			<form method="get" action="/search" autocomplete="on" name="searchForm" id="searchfrm">
				<ul class="tags-wrapper">
					<li class="search-field"><input type="text" class="form-control global-input" id="autocomplete" name="q"></li>
				</ul>
			</form>
			<a href="#" class="header-search-cancel"></a>
		</div>
		<div class="nav-auto-complete"></div>
	</div>
</div>
<style>	
	
	
		.m-shortcuts li a.m-search {
			background: url("https://static-www.elastic.co/assets/blt174b13be89ff803c/m-search-icon.png?q=100") no-repeat scroll center center rgba(0, 0, 0, 0);
			background-size: contain;}
	
		.m-shortcuts li a.m-docs {
			background: url("https://static-www.elastic.co/assets/blt5ba03f594a7d610a/m-guide-icon.png?q=100") no-repeat scroll center center rgba(0, 0, 0, 0);
			background-size: contain;}
	
		.m-shortcuts li a.m-contact {
			background: url("https://static-www.elastic.co/assets/blt38c3e853c4b1174d/m-contact-icon.png?q=100") no-repeat scroll center center rgba(0, 0, 0, 0);
			background-size: contain;}
		
</style>
		</div>
	</div>
  	<div id="content">
  		
  			
            <div id="pageheader">
    <div class="container">
        <header>
            <h1><a href="/learn" title="Learn">Learn</a> |</h1>
            <h2><a href="/guide" title="Docs">Docs</a></h2>
        </header>
    </div>
</div>
<section id="guide">

            <!-- start body -->
<div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch: The Definitive Guide</a></span> » <span class="breadcrumb-link"><a href="getting-started.html">Getting Started </a></span> » <span class="breadcrumb-node">You Know, for Search…</span></div><div class="navheader"><span class="prev"><a href="getting-started.html">
              « 
              Getting Started </a>
           
        </span><span class="next">
           
          <a href="distributed-cluster.html">Cluster 내부 동작
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="intro"></a>You Know, for Search…</h2></div></div></div><p>Elasticsearch is an open-source search engine built on top of
<a class="ulink" href="https://lucene.apache.org/core/" target="_top">Apache Lucene™</a>, a full-text search-engine
library.<a id="id-1.4.3.2.2" class="indexterm"></a><a id="id-1.4.3.2.3" class="indexterm"></a>  Lucene is arguably the most advanced, high-performance, and fully featured
search engine library in existence today—both open source and proprietary.</p><p>But Lucene is just a library. To leverage its power, you need to work in Java
and to integrate Lucene directly with your application. Worse, you will likely
require a degree in information retrieval to understand how it works.  Lucene
is <span class="emphasis"><em>very</em></span> complex.</p><p>Elasticsearch is also written in Java<a id="id-1.4.3.4.1" class="indexterm"></a> and uses Lucene internally for all of
its indexing and searching, but it aims to make full-text search easy by hiding
the complexities of Lucene behind a simple, coherent, RESTful API.</p><p>However, Elasticsearch is much more than just Lucene and much more than
“just” full-text search.<a id="id-1.4.3.5.1" class="indexterm"></a>
<a id="id-1.4.3.5.2" class="indexterm"></a> It can also be described as follows:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
A distributed real-time document store where <span class="emphasis"><em>every field</em></span> is indexed and
  searchable
</li><li class="listitem">
A distributed search engine with real-time analytics
</li><li class="listitem">
Capable of scaling to hundreds of servers and petabytes of structured
  and unstructured data
</li></ul></div><p>And it packages up all this functionality into a standalone server that
your application can talk to via a simple RESTful API, using a web client from
your favorite programming language, or even from the command line.</p><p>It is easy to get started with Elasticsearch. It ships with sensible defaults
and hides complicated search theory away from beginners. It <span class="emphasis"><em>just works</em></span>,
right out of the box. With minimal understanding, you can soon become
productive.<a id="id-1.4.3.8.2" class="indexterm"></a>
<a id="id-1.4.3.8.3" class="indexterm"></a></p><p>As your knowledge grows, you can leverage more of Elasticsearch’s advanced
features. The entire engine is configurable and flexible. Pick and choose
from the advanced features to tailor Elasticsearch to your problem domain.</p><p>You can <a id="id-1.4.3.10.1" class="indexterm"></a> download, use, and modify Elasticsearch free of charge.
It is available under the <a class="ulink" href="http://www.apache.org/licenses/LICENSE-2.0.html" target="_top">Apache 2 license</a>,
one of the most flexible open source licenses available. The source is hosted on GitHub
at <a class="ulink" href="https://github.com/elastic/elasticsearch" target="_top">github.com/elastic/elasticsearch</a>. See
<a class="ulink" href="https://github.com/elastic/elasticsearch/blob/master/CONTRIBUTING.md" target="_top">Contributing to
Elasticsearch</a> if you would like to join our amazing community of contributors!</p><p>If you have any questions related to Elasticsearch, including specific features,
language clients and plugins, join the conversation at
<a class="ulink" href="https://discuss.elastic.co" target="_top">discuss.elastic.co</a>.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>The Mists of Time</strong></p></div></div></div><p>Many years ago, a newly married unemployed developer called Shay Banon
followed his wife to London, where she was studying to be a chef. While looking
for gainful employment, he started playing with an early version of Lucene,
with the intent of building his wife a recipe search engine.</p><p>Working directly with Lucene can be tricky, so Shay started work on an
abstraction layer to make it easier for Java programmers to add search to
their applications.  He released this as his first open source project, called
Compass.</p><p>Later Shay took a job working in a high-performance, distributed environment
with in-memory data grids.  The need for a high-performance, real-time,
distributed search engine was obvious, and he decided to rewrite the Compass
libraries as a standalone server called Elasticsearch.</p><p>The first public release came out in February 2010.  Since then, Elasticsearch
has become one of the most popular projects on GitHub with commits from over
300 contributors.  A company has formed around Elasticsearch to provide
commercial support and to develop new features, but Elasticsearch is, and
forever will be, open source and available to all.</p><p>Shay’s wife is still waiting for the recipe search…</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_installing_elasticsearch"></a>Installing Elasticsearch</h2></div></div></div><p>The easiest way to understand what Elasticsearch can do for you is to
play with it, so let’s get started!<a id="id-1.4.3.13.2.1" class="indexterm"></a>
<a id="id-1.4.3.13.2.2" class="indexterm"></a></p><p>The only requirement for installing Elasticsearch is a recent version of Java.
Preferably, you should install the latest version of the<a id="id-1.4.3.13.3.1" class="indexterm"></a>
<a id="id-1.4.3.13.3.2" class="indexterm"></a> official Java
from <a class="ulink" href="http://www.java.com" target="_top"><span class="emphasis"><em>www.java.com</em></span></a>.</p><p>You can get the latest version of Elasticsearch from
<a class="ulink" href="https://www.elastic.co/downloads/elasticsearch" target="_top"><span class="emphasis"><em>elasticsearch.co/downloads/elasticsearch</em></span></a>.</p><p>To install Elasticsearch, download and extract the archive file for your platform. For
more information, see the <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/_installation.html" target="_top">Installation</a> topic in the Elasticsearch
Reference.</p><div class="tip admon"><div class="icon"><img alt="Tip" src="images/icons/tip.png" /></div><div class="admon_content"><p>When installing Elasticsearch in production, you can choose to use
the Debian or RPM packages provided on the
<a class="ulink" href="http://www.elastic.co/downloads/elasticsearch" target="_top">downloads page</a>. You can also use
the officially supported
<a class="ulink" href="https://github.com/elasticsearch/puppet-elasticsearch" target="_top">Puppet module</a> or
<a class="ulink" href="https://github.com/elasticsearch/cookbook-elasticsearch" target="_top">Chef cookbook</a>.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="marvel"></a>Installing Marvel</h3></div></div></div><p><a class="ulink" href="http://www.elasticsearch.com/products/marvel" target="_top">Marvel</a> is a management<a id="id-1.4.3.13.7.2.2" class="indexterm"></a>
<a id="id-1.4.3.13.7.2.3" class="indexterm"></a> and monitoring
tool for Elasticsearch, which is free for development use. It comes with an
interactive console called Sense,<a id="id-1.4.3.13.7.2.4" class="indexterm"></a> which makes it easy to talk to
Elasticsearch directly from your browser.</p><p>Many of the code examples in the online version of this book include a View in Sense link. When
clicked, it will open up a working example of the code in the Sense console.
You do not have to install Marvel, but it will make this book much more
interactive by allowing you to  experiment with the code samples on your local
Elasticsearch cluster.</p><p>Marvel is available as a plug-in.<a id="id-1.4.3.13.7.4.1" class="indexterm"></a>
<a id="id-1.4.3.13.7.4.2" class="indexterm"></a> To download and install it, run this command in the Elasticsearch directory:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">./bin/plugin -i elasticsearch/marvel/latest</pre></div><p>Marvel can also be installed using a <a class="ulink" href="https://www.elastic.co/guide/en/marvel/marvel-1.3/installation.html" target="_top">manual process</a> if you don’t have internet connectivity.</p><p>You probably don’t want Marvel to monitor your local cluster, so you can
disable data collection with this command:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">echo 'marvel.agent.enabled: false' &gt;&gt; ./config/elasticsearch.yml</pre></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="running-elasticsearch"></a>Running Elasticsearch</h2></div></div></div><p>Elasticsearch is now ready to run. <a id="id-1.4.3.14.2.1" class="indexterm"></a>
<a id="id-1.4.3.14.2.2" class="indexterm"></a> To start it up in the foreground:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">cd elasticsearch-&lt;version&gt;
./bin/elasticsearch <a id="CO1-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span> <a id="CO1-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO1-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Add <code class="literal">-d</code> if you want to run it in the background as a daemon.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO1-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
If you’re running Elasticsearch on Windows, simply run <code class="literal">bin\elasticsearch.bat</code> instead.
</p></td></tr></table></div><p>Test it out by opening another terminal window and running the following:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">curl 'http://localhost:9200/?pretty'</pre></div><div class="tip admon"><div class="icon"><img alt="Tip" src="images/icons/tip.png" /></div><div class="admon_content"><p>If you’re running Elasticsearch on Windows, you can download cURL from
<a class="ulink" href="http://curl.haxx.se/download.html" target="_top"><code class="literal">http://curl.haxx.se/download.html</code></a>. cURL
provides a convenient way to submit requests to Elasticsearch and
installing cURL enables you to copy and paste many of the examples in this
book to try them out.</p></div></div><p>You should see a response like this:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">{
   "status": 200,
   "name": "Shrunken Bones",
   "version": {
      "number": "1.4.0",
      "lucene_version": "4.10"
   },
   "tagline": "You Know, for Search"
}</pre></div><div class="sense_widget" data-snippet="snippets/010_Intro/10_Info.json"></div><p>This means that your Elasticsearch <span class="emphasis"><em>cluster</em></span> is up and running, and we can
start experimenting with it.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>A <span class="emphasis"><em>node</em></span> is a running instance of Elasticsearch.<a id="id-1.4.3.14.12.1.2" class="indexterm"></a>
<a id="id-1.4.3.14.12.1.3" class="indexterm"></a> A <span class="emphasis"><em>cluster</em></span> is <a id="id-1.4.3.14.12.1.5" class="indexterm"></a>
<a id="id-1.4.3.14.12.1.6" class="indexterm"></a>a group of
nodes with the same <code class="literal">cluster.name</code> that are working together to share data
and to provide failover and scale, although a single node can form a cluster
all by itself.</p></div></div><p>You should change the default <code class="literal">cluster.name</code> to something appropriate to you,
like your own name, to stop <a id="id-1.4.3.14.13.2" class="indexterm"></a>
<a id="id-1.4.3.14.13.3" class="indexterm"></a>your nodes from trying to join another cluster on
the same network with the same name!</p><p>You can do this by editing the <code class="literal">elasticsearch.yml</code> file in the <code class="literal">config/</code>
directory and then restarting Elasticsearch.  When Elasticsearch is running in
the foreground, you can stop it by pressing Ctrl-C; otherwise, you can shut
it down with the <code class="literal">shutdown</code> API:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">curl -XPOST 'http://localhost:9200/_shutdown'</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_viewing_marvel_and_sense"></a>Viewing Marvel and Sense</h3></div></div></div><p>If you installed the <a class="link" href="intro.html#marvel" title="Installing Marvel">Marvel</a> management <a id="id-1.4.3.14.16.2.2" class="indexterm"></a>
<a id="id-1.4.3.14.16.2.3" class="indexterm"></a>and monitoring tool, you can
view it in a web browser by visiting
<a class="ulink" href="http://localhost:9200/_plugin/marvel/" target="_top">http://localhost:9200/_plugin/marvel/</a>.</p><p>You can reach the <span class="emphasis"><em>Sense</em></span> developer<a id="id-1.4.3.14.16.3.2" class="indexterm"></a>
<a id="id-1.4.3.14.16.3.3" class="indexterm"></a> console either by clicking the “Marvel
dashboards” drop-down in Marvel, or by visiting
<a class="ulink" href="http://localhost:9200/_plugin/marvel/sense/" target="_top">http://localhost:9200/_plugin/marvel/sense/</a>.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_talking_to_elasticsearch"></a>Talking to Elasticsearch</h2></div></div></div><p>How you talk to Elasticsearch depends on<a id="id-1.4.3.15.2.1" class="indexterm"></a>
<a id="id-1.4.3.15.2.2" class="indexterm"></a> whether you are using Java.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_java_api"></a>Java API</h3></div></div></div><p>If you are using <a id="id-1.4.3.15.3.2.1" class="indexterm"></a>
<a id="id-1.4.3.15.3.2.2" class="indexterm"></a>Java, Elasticsearch comes with two built-in clients
that you can use in your code:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
Node client
</span></dt><dd>
    The node client <a id="id-1.4.3.15.3.3.1.2.1.1" class="indexterm"></a>joins a local cluster as a <span class="emphasis"><em>non data node</em></span>. In other
    words, it doesn’t hold any data itself, but it knows what data lives
    on which node in the cluster, and can forward requests directly
    to the correct node.
</dd><dt><span class="term">
Transport client
</span></dt><dd>
    The lighter-weight <a id="id-1.4.3.15.3.3.2.2.1.1" class="indexterm"></a>transport client can be used to send requests to
    a remote cluster. It doesn’t join the cluster itself, but simply
    forwards requests to a node in the cluster.
</dd></dl></div><p>Both Java clients talk to the cluster over port <span class="emphasis"><em>9300</em></span>, using<a id="id-1.4.3.15.3.4.2" class="indexterm"></a> the native
Elasticsearch <span class="emphasis"><em>transport</em></span> protocol.  The nodes in the cluster also communicate
with each other over port 9300. If this port is not open, your nodes will
not be able to form a cluster.</p><div class="tip admon"><div class="icon"><img alt="Tip" src="images/icons/tip.png" /></div><div class="admon_content"><p>The Java client must be from the same <span class="emphasis"><em>major</em></span> version of Elasticsearch as the nodes;
otherwise, they may not be able to understand each other.</p></div></div><p>More information about the Java clients can be found in  <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/client/index.html" target="_top">Elasticsearch Clients</a>.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_restful_api_with_json_over_http"></a>RESTful API with JSON over HTTP</h3></div></div></div><p>All other languages can communicate with Elasticsearch<a id="id-1.4.3.15.4.2.1" class="indexterm"></a> over port <span class="emphasis"><em>9200</em></span> using
a <a id="id-1.4.3.15.4.2.3" class="indexterm"></a>RESTful API, accessible with your favorite web client. In fact, as you have
seen, you can even talk to Elasticsearch from the command line by using the
<code class="literal">curl</code> command.<a id="id-1.4.3.15.4.2.5" class="indexterm"></a>
<a id="id-1.4.3.15.4.2.6" class="indexterm"></a></p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>Elasticsearch provides official clients<a id="id-1.4.3.15.4.3.1.1" class="indexterm"></a>
<a id="id-1.4.3.15.4.3.1.2" class="indexterm"></a> for several languages—Groovy,
JavaScript, .NET, PHP, Perl, Python, and Ruby—and there are numerous
community-provided clients and integrations, all of which can be found in
<a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/client/index.html" target="_top">Elasticsearch Clients</a>.</p></div></div><p>A request to Elasticsearch consists of the same parts as any HTTP request:<a id="id-1.4.3.15.4.4.1" class="indexterm"></a><a id="id-1.4.3.15.4.4.2" class="indexterm"></a></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">curl -X&lt;VERB&gt; '&lt;PROTOCOL&gt;://&lt;HOST&gt;:&lt;PORT&gt;/&lt;PATH&gt;?&lt;QUERY_STRING&gt;' -d '&lt;BODY&gt;'</pre></div><p>The parts marked with <code class="literal">&lt; &gt;</code> above are:</p><div class="horizontal"><table cellpadding="4px" border="0"><colgroup><col /><col /></colgroup><tbody valign="top"><tr><td valign="top">
<p>
<code class="literal">VERB</code>
</p>
</td><td valign="top">
<p>
The appropriate HTTP <span class="emphasis"><em>method</em></span> or <span class="emphasis"><em>verb</em></span>: <code class="literal">GET</code>, <code class="literal">POST</code>, <code class="literal">PUT</code>, <code class="literal">HEAD</code>, or <code class="literal">DELETE</code>.
</p>
</td></tr><tr><td valign="top">
<p>
<code class="literal">PROTOCOL</code>
</p>
</td><td valign="top">
<p>
Either <code class="literal">http</code> or <code class="literal">https</code> (if you have an <code class="literal">https</code> proxy in front of Elasticsearch.)
</p>
</td></tr><tr><td valign="top">
<p>
<code class="literal">HOST</code>
</p>
</td><td valign="top">
<p>
The hostname of any node in your Elasticsearch cluster, or <code class="literal">localhost</code> for a node on your local machine.
</p>
</td></tr><tr><td valign="top">
<p>
<code class="literal">PORT</code>
</p>
</td><td valign="top">
<p>
The port running the Elasticsearch HTTP service, which defaults to <code class="literal">9200</code>.
</p>
</td></tr><tr><td valign="top">
<p>
<code class="literal">PATH</code>
</p>
</td><td valign="top">
<p>
API Endpoint (for example <code class="literal">_count</code> will return the number of documents in the cluster). Path may contain multiple components, such as <code class="literal">_cluster/stats</code> or <code class="literal">_nodes/stats/jvm</code>
</p>
</td></tr><tr><td valign="top">
<p>
<code class="literal">QUERY_STRING</code>
</p>
</td><td valign="top">
<p>
Any optional query-string parameters (for example <code class="literal">?pretty</code> will <span class="emphasis"><em>pretty-print</em></span>  the JSON response to make it easier to read.)
</p>
</td></tr><tr><td valign="top">
<p>
<code class="literal">BODY</code>
</p>
</td><td valign="top">
<p>
A JSON-encoded request body (if the request needs one.)
</p>
</td></tr></tbody></table></div><p>For instance, to count the number of documents in the cluster, we could use this:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">curl -XGET 'http://localhost:9200/_count?pretty' -d '
{
    "query": {
        "match_all": {}
    }
}
'</pre></div><p>Elasticsearch returns an HTTP status code like <code class="literal">200 OK</code> and (except for <code class="literal">HEAD</code>
requests) a JSON-encoded response body. The preceding <code class="literal">curl</code> request would respond
with a JSON body like the following:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">{
    "count" : 0,
    "_shards" : {
        "total" : 5,
        "successful" : 5,
        "failed" : 0
    }
}</pre></div><p>We don’t see the HTTP headers in the response because we didn’t ask <code class="literal">curl</code> to
display them. To see the headers, use the <code class="literal">curl</code> command with the <code class="literal">-i</code>
switch:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">curl -i -XGET 'localhost:9200/'</pre></div><p>For the rest of the book, we will show these <code class="literal">curl</code> examples using a shorthand
format that leaves out all the bits that are the same in every request,
like the hostname and port, and the <code class="literal">curl</code> command itself. Instead of showing
a full request like</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">curl -XGET 'localhost:9200/_count?pretty' -d '
{
    "query": {
        "match_all": {}
    }
}'</pre></div><p>we will show it in this shorthand format:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">GET /_count
{
    "query": {
        "match_all": {}
    }
}</pre></div><div class="sense_widget" data-snippet="snippets/010_Intro/15_Count.json"></div><p>In fact, this is the same format that is used by the <a id="id-1.4.3.15.4.19.1" class="indexterm"></a>
<a id="id-1.4.3.15.4.19.2" class="indexterm"></a><a id="id-1.4.3.15.4.19.3" class="indexterm"></a>
<a id="id-1.4.3.15.4.19.4" class="indexterm"></a>Sense console that we
installed with <a class="link" href="intro.html#marvel" title="Installing Marvel">Marvel</a>. If in the online version of this book, you can open and run this code example in
Sense by clicking the View in Sense link above.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_document_oriented"></a>Document Oriented</h2></div></div></div><p>Objects in an application are seldom just a simple list of keys and values.
More often than not, they are complex data structures that may contain dates,
geo locations, other objects, or arrays of values.</p><p>Sooner or later you’re going to want to store these objects in a database.
Trying to do this with the rows and columns of a relational database is the
equivalent of trying to squeeze your rich, expressive objects into a very big
spreadsheet: you have to flatten the object to fit the table schema—usually
one field per column—and then have to reconstruct it every time you
retrieve it.</p><p>Elasticsearch is <span class="emphasis"><em>document oriented</em></span>, meaning <a id="id-1.4.3.16.4.2" class="indexterm"></a>that it stores entire objects or
<span class="emphasis"><em>documents</em></span>.  It not only stores them, but also <span class="emphasis"><em>indexes</em></span> the contents of
each document in order to make them searchable. In Elasticsearch, you index,
search, sort, and filter documents—not rows of columnar data.  This is a
fundamentally different way of thinking about data and is one of the reasons
Elasticsearch can perform complex full-text search.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_json"></a>JSON</h3></div></div></div><p>Elasticsearch uses JavaScript Object Notation, or <a class="ulink" href="http://en.wikipedia.org/wiki/Json" target="_top"><span class="emphasis"><em>JSON</em></span></a>, as<a id="id-1.4.3.16.5.2.2" class="indexterm"></a><a id="id-1.4.3.16.5.2.3" class="indexterm"></a>
<a id="id-1.4.3.16.5.2.4" class="indexterm"></a> the serialization format for documents. JSON
serialization is supported by most programming languages, and has become the
standard format used by the NoSQL movement. It is simple, concise, and easy to
read.</p><p>Consider this JSON document, which represents a user object:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">{
    "email":      "john@smith.com",
    "first_name": "John",
    "last_name":  "Smith",
    "info": {
        "bio":         "Eco-warrior and defender of the weak",
        "age":         25,
        "interests": [ "dolphins", "whales" ]
    },
    "join_date": "2014/05/01"
}</pre></div><p>Although the original <code class="literal">user</code> object was complex, the structure and meaning of
the object has been retained in the JSON version. Converting an object to JSON
for indexing in Elasticsearch is much simpler than the equivalent process for
a flat table structure.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>Almost all languages have modules that will convert arbitrary  data
structures or objects<a id="id-1.4.3.16.5.6.1.1" class="indexterm"></a>
<a id="id-1.4.3.16.5.6.1.2" class="indexterm"></a> into JSON for you, but the details are specific  to each
language. Look for modules that handle JSON <span class="emphasis"><em>serialization</em></span> or <span class="emphasis"><em>marshalling</em></span>. The official
<a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/client/index.html" target="_top">Elasticsearch Clients</a> all handle conversion to and from JSON for you
automatically.</p></div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_finding_your_feet"></a>Finding Your Feet</h2></div></div></div><p>To give you a feel for what is possible in Elasticsearch and how easy
it is to use, let’s start by walking through a simple tutorial that covers
basic concepts such as indexing, search, and aggregations.</p><p>We’ll introduce some new terminology and basic concepts along the way, but it
is OK if you don’t understand everything immediately.  We’ll cover all the
concepts introduced here in <span class="emphasis"><em>much</em></span> greater depth throughout the rest of the
book.</p><p>So, sit back and enjoy a whirlwind tour of what Elasticsearch is capable of.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_let_8217_s_build_an_employee_directory"></a>Let’s Build an Employee Directory</h3></div></div></div><p>We happen<a id="id-1.4.3.17.5.2.1" class="indexterm"></a> to work for <span class="emphasis"><em>Megacorp</em></span>, and as part of HR’s new <span class="emphasis"><em>"We love our
drones!"</em></span> initiative, we have been tasked with creating an employee directory.
The directory is supposed to foster employer empathy and
real-time, synergistic, dynamic collaboration, so it has a few
business requirements:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Enable data to contain multi value tags, numbers, and full text.
</li><li class="listitem">
Retrieve the full details of any employee.
</li><li class="listitem">
Allow structured search, such as finding employees over the age of 30.
</li><li class="listitem">
Allow simple full-text search and more-complex <span class="emphasis"><em>phrase</em></span> searches.
</li><li class="listitem">
Return highlighted search <span class="emphasis"><em>snippets</em></span> from the text in the
  matching documents.
</li><li class="listitem">
Enable management to build analytic dashboards over the data.
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_indexing_employee_documents"></a>Indexing Employee Documents</h2></div></div></div><p>The first order of business is storing employee data.<a id="id-1.4.3.18.2.1" class="indexterm"></a>
<a id="id-1.4.3.18.2.2" class="indexterm"></a><a id="id-1.4.3.18.2.3" class="indexterm"></a>  This will take the form
of an <span class="emphasis"><em>employee document</em></span>: a single document represents a single
employee.  The act of storing data in Elasticsearch is called <span class="emphasis"><em>indexing</em></span>, but
before we can index a document, we need to decide <span class="emphasis"><em>where</em></span> to store it.</p><p>In Elasticsearch, a document belongs to a <span class="emphasis"><em>type</em></span>, and those<a id="id-1.4.3.18.3.2" class="indexterm"></a> types live inside
an <span class="emphasis"><em>index</em></span>. <a id="id-1.4.3.18.3.4" class="indexterm"></a>You can draw some (rough) parallels to a traditional relational database:</p><pre class="screen">Relational DB  ⇒ Databases ⇒ Tables ⇒ Rows      ⇒ Columns
Elasticsearch  ⇒ Indices   ⇒ Types  ⇒ Documents ⇒ Fields</pre><p>An Elasticsearch cluster can<a id="id-1.4.3.18.5.1" class="indexterm"></a>
<a id="id-1.4.3.18.5.2" class="indexterm"></a><a id="id-1.4.3.18.5.3" class="indexterm"></a>
<a id="id-1.4.3.18.5.4" class="indexterm"></a> contain multiple <span class="emphasis"><em>indices</em></span> (databases), which in
turn contain multiple <span class="emphasis"><em>types</em></span> (tables).<a id="id-1.4.3.18.5.7" class="indexterm"></a> These types hold multiple <span class="emphasis"><em>documents</em></span>
(rows), and <a id="id-1.4.3.18.5.9" class="indexterm"></a>each document has<a id="id-1.4.3.18.5.10" class="indexterm"></a><a id="id-1.4.3.18.5.11" class="indexterm"></a> multiple <span class="emphasis"><em>fields</em></span> (columns).</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Index Versus Index Versus Index</strong></p></div></div></div><p>You may already have noticed that the word <span class="emphasis"><em>index</em></span> is overloaded with
several meanings in the context of Elasticsearch.<a id="id-1.4.3.18.6.2.2" class="indexterm"></a> A little
clarification is necessary:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
Index (noun)
</span></dt><dd>
As explained previously, an <span class="emphasis"><em>index</em></span> is like a <span class="emphasis"><em>database</em></span> in a traditional
relational database. It is the place to store related documents. The plural of
<span class="emphasis"><em>index</em></span> is <span class="emphasis"><em>indices</em></span> or <span class="emphasis"><em>indexes</em></span>.
</dd><dt><span class="term">
Index (verb)
</span></dt><dd>
<span class="emphasis"><em>To index a document</em></span> is to store a document in an <span class="emphasis"><em>index (noun)</em></span> so
that it can be retrieved and queried. It is much like the <code class="literal">INSERT</code> keyword in
SQL except that, if the document already exists, the new document would
replace the old.
</dd><dt><span class="term">
Inverted index
</span></dt><dd><p class="simpara">
Relational databases add an <span class="emphasis"><em>index</em></span>, such as a B-tree index,<a id="id-1.4.3.18.6.3.3.2.1.2" class="indexterm"></a>
<a id="id-1.4.3.18.6.3.3.2.1.3" class="indexterm"></a> to specific
columns in order to improve the speed of data retrieval.  Elasticsearch and
Lucene use a structure called<a id="id-1.4.3.18.6.3.3.2.1.4" class="indexterm"></a> an <span class="emphasis"><em>inverted index</em></span> for exactly the same
purpose.
</p><p class="simpara">By default, every field in a document is <span class="emphasis"><em>indexed</em></span> (has an inverted index)
and thus is searchable. A field without an inverted index is not searchable.
We discuss inverted indexes in more detail in <a class="xref" href="mapping-analysis.html#inverted-index" title="Inverted Index">Inverted Index</a>.</p></dd></dl></div></div><p>So for our employee directory, we are going to do the following:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Index a <span class="emphasis"><em>document</em></span> per employee, which contains all the details of a single
   employee.
</li><li class="listitem">
Each document will be<a id="id-1.4.3.18.8.2.1.1" class="indexterm"></a>
<a id="id-1.4.3.18.8.2.1.2" class="indexterm"></a> of <span class="emphasis"><em>type</em></span> <code class="literal">employee</code>.
</li><li class="listitem">
That type will live in the <code class="literal">megacorp</code> <span class="emphasis"><em>index</em></span>.
</li><li class="listitem">
That index will reside within our Elasticsearch cluster.
</li></ul></div><p>In practice, this is easy (even though it looks like a lot of steps).  We
can perform all of those actions in a single command:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">PUT /megacorp/employee/1
{
    "first_name" : "John",
    "last_name" :  "Smith",
    "age" :        25,
    "about" :      "I love to go rock climbing",
    "interests": [ "sports", "music" ]
}</pre></div><div class="sense_widget" data-snippet="snippets/010_Intro/25_Index.json"></div><p>Notice that the path <code class="literal">/megacorp/employee/1</code> contains three pieces of
information:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">megacorp</code>
</span></dt><dd>
      The index name
</dd><dt><span class="term">
<code class="literal">employee</code>
</span></dt><dd>
      The type name
</dd><dt><span class="term">
<code class="literal">1</code>
</span></dt><dd>
      The ID of this particular employee
</dd></dl></div><p>The request body—the JSON document—contains all the information about
this employee.  His name is John Smith, he’s 25, and enjoys rock climbing.</p><p>Simple!  There was no need to perform any administrative tasks first, like
creating an index or specifying the type of data that each field contains. We
could just index a document directly.  Elasticsearch ships with defaults for
everything, so all the necessary administration tasks were taken care of in
the background, using default values.</p><p>Before moving on, let’s add a few more employees to the directory:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">PUT /megacorp/employee/2
{
    "first_name" :  "Jane",
    "last_name" :   "Smith",
    "age" :         32,
    "about" :       "I like to collect rock albums",
    "interests":  [ "music" ]
}

PUT /megacorp/employee/3
{
    "first_name" :  "Douglas",
    "last_name" :   "Fir",
    "age" :         35,
    "about":        "I like to build cabinets",
    "interests":  [ "forestry" ]
}</pre></div><div class="sense_widget" data-snippet="snippets/010_Intro/25_Index.json"></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_retrieving_a_document"></a>Retrieving a Document</h2></div></div></div><p>Now that we have some data stored in Elasticsearch,<a id="id-1.4.3.19.2.1" class="indexterm"></a>
<a id="id-1.4.3.19.2.2" class="indexterm"></a> we can get to work on the
business requirements for this application.  The first requirement is the
ability to retrieve individual employee data.</p><p>This is easy in Elasticsearch.  We simply execute<a id="id-1.4.3.19.3.1" class="indexterm"></a>
<a id="id-1.4.3.19.3.2" class="indexterm"></a> an HTTP <code class="literal">GET</code> request and
specify the <span class="emphasis"><em>address</em></span> of the document—the index, type, and ID.<a id="id-1.4.3.19.3.5" class="indexterm"></a>
<a id="id-1.4.3.19.3.6" class="indexterm"></a><a id="id-1.4.3.19.3.7" class="indexterm"></a>
<a id="id-1.4.3.19.3.8" class="indexterm"></a><a id="id-1.4.3.19.3.9" class="indexterm"></a>
<a id="id-1.4.3.19.3.10" class="indexterm"></a>  Using
those three pieces of information, we can return the original JSON document:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">GET /megacorp/employee/1</pre></div><div class="sense_widget" data-snippet="snippets/010_Intro/30_Get.json"></div><p>And the response contains some metadata about the document, and John Smith’s
original JSON document <a id="id-1.4.3.19.6.1" class="indexterm"></a>as the <code class="literal">_source</code> field:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">{
  "_index" :   "megacorp",
  "_type" :    "employee",
  "_id" :      "1",
  "_version" : 1,
  "found" :    true,
  "_source" :  {
      "first_name" :  "John",
      "last_name" :   "Smith",
      "age" :         25,
      "about" :       "I love to go rock climbing",
      "interests":  [ "sports", "music" ]
  }
}</pre></div><div class="tip admon"><div class="icon"><img alt="Tip" src="images/icons/tip.png" /></div><div class="admon_content"><p>In the same way that we changed <a id="id-1.4.3.19.8.1.1" class="indexterm"></a>the HTTP verb from <code class="literal">PUT</code> to <code class="literal">GET</code> in order to
retrieve the document, we could use the <code class="literal">DELETE</code> verb to delete the  document,
and the <code class="literal">HEAD</code> verb to check whether the document exists. To replace an
existing document with an updated version, we just <code class="literal">PUT</code> it again.</p></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_search_lite"></a>Search Lite</h2></div></div></div><p>A <code class="literal">GET</code> is fairly simple—you get back the document that you ask for.<a id="id-1.4.3.20.2.2" class="indexterm"></a><a id="id-1.4.3.20.2.3" class="indexterm"></a>
<a id="id-1.4.3.20.2.4" class="indexterm"></a>  Let’s
try something a little more advanced, like a simple search!</p><p>The first search we will try is the simplest search possible.  We will search
for all employees, with this request:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">GET /megacorp/employee/_search</pre></div><div class="sense_widget" data-snippet="snippets/010_Intro/30_Simple_search.json"></div><p>You can see that we’re still using index <code class="literal">megacorp</code> and type <code class="literal">employee</code>, but
instead of specifying a document ID, we now use the <code class="literal">_search</code> endpoint. The
response includes all three of our documents in the <code class="literal">hits</code> array. By default,
a search will return the top 10 results.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">{
   "took":      6,
   "timed_out": false,
   "_shards": { ... },
   "hits": {
      "total":      3,
      "max_score":  1,
      "hits": [
         {
            "_index":         "megacorp",
            "_type":          "employee",
            "_id":            "3",
            "_score":         1,
            "_source": {
               "first_name":  "Douglas",
               "last_name":   "Fir",
               "age":         35,
               "about":       "I like to build cabinets",
               "interests": [ "forestry" ]
            }
         },
         {
            "_index":         "megacorp",
            "_type":          "employee",
            "_id":            "1",
            "_score":         1,
            "_source": {
               "first_name":  "John",
               "last_name":   "Smith",
               "age":         25,
               "about":       "I love to go rock climbing",
               "interests": [ "sports", "music" ]
            }
         },
         {
            "_index":         "megacorp",
            "_type":          "employee",
            "_id":            "2",
            "_score":         1,
            "_source": {
               "first_name":  "Jane",
               "last_name":   "Smith",
               "age":         32,
               "about":       "I like to collect rock albums",
               "interests": [ "music" ]
            }
         }
      ]
   }
}</pre></div><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>The response not only tells us which documents matched, but also
includes the whole document itself: all the information that we need in order to
display the search results to the user.</p></div></div><p>Next, let’s try searching for employees who have “Smith” in their last name.
To do this, we’ll use a <span class="emphasis"><em>lightweight</em></span> search method that is easy to use
from the command line. This method is often referred to as <a id="id-1.4.3.20.9.2" class="indexterm"></a>a <span class="emphasis"><em>query-string</em></span>
search, since we pass the search as a URL query-string parameter:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">GET /megacorp/employee/_search?q=last_name:Smith</pre></div><div class="sense_widget" data-snippet="snippets/010_Intro/30_Simple_search.json"></div><p>We use the same <code class="literal">_search</code> endpoint in the path, and we add the query itself in
the <code class="literal">q=</code> parameter. The results that come back show all Smiths:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">{
   ...
   "hits": {
      "total":      2,
      "max_score":  0.30685282,
      "hits": [
         {
            ...
            "_source": {
               "first_name":  "John",
               "last_name":   "Smith",
               "age":         25,
               "about":       "I love to go rock climbing",
               "interests": [ "sports", "music" ]
            }
         },
         {
            ...
            "_source": {
               "first_name":  "Jane",
               "last_name":   "Smith",
               "age":         32,
               "about":       "I like to collect rock albums",
               "interests": [ "music" ]
            }
         }
      ]
   }
}</pre></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_search_with_query_dsl"></a>Search with Query DSL</h2></div></div></div><p>Query-string search is handy for ad hoc searches<a id="id-1.4.3.21.2.1" class="indexterm"></a> from the command line, but
it has its limitations (see <a class="xref" href="search.html#search-lite" title="Search Lite">Search <span class="emphasis"><em>Lite</em></span></a>). Elasticsearch provides a rich,
flexible, query language called the <span class="emphasis"><em>query DSL</em></span>, which<a id="id-1.4.3.21.2.4" class="indexterm"></a> allows us to build
much more complicated, robust queries.</p><p>The <span class="emphasis"><em>domain-specific language</em></span> (DSL) is<a id="id-1.4.3.21.3.2" class="indexterm"></a> specified using a JSON request body.
We can represent the previous search for all Smiths like so:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">GET /megacorp/employee/_search
{
    "query" : {
        "match" : {
            "last_name" : "Smith"
        }
    }
}</pre></div><div class="sense_widget" data-snippet="snippets/010_Intro/30_Simple_search.json"></div><p>This will return the same results as the previous query.  You can see that a
number of things have changed.  For one, we are no longer using <span class="emphasis"><em>query-string</em></span>
parameters, but instead a request body.  This request body is built with JSON,
and uses a <code class="literal">match</code> query (one of several types of queries, which we will learn
about later).</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_more_complicated_searches"></a>More-Complicated Searches</h2></div></div></div><p>Let’s make the search a little more complicated.<a id="id-1.4.3.22.2.1" class="indexterm"></a>
<a id="id-1.4.3.22.2.2" class="indexterm"></a><a id="id-1.4.3.22.2.3" class="indexterm"></a>  We still want to find all
employees with a last name of Smith, but  we want only employees who are
older than 30.  Our query will change a little to accommodate a <span class="emphasis"><em>filter</em></span>,
which allows us to execute structured searches efficiently:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">GET /megacorp/employee/_search
{
    "query" : {
        "filtered" : {
            "filter" : {
                "range" : {
                    "age" : { "gt" : 30 } <a id="CO2-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
                }
            },
            "query" : {
                "match" : {
                    "last_name" : "smith" <a id="CO2-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
                }
            }
        }
    }
}</pre></div><div class="sense_widget" data-snippet="snippets/010_Intro/30_Query_DSL.json"></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO2-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
This portion of the query is a <code class="literal">range</code> <span class="emphasis"><em>filter</em></span>, which<a id="id-1.4.3.22.5.1.1.3" class="indexterm"></a> will find all ages
    older than 30—<code class="literal">gt</code> stands for <span class="emphasis"><em>greater than</em></span>.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO2-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
This portion of the query is the<a id="id-1.4.3.22.5.2.1.1" class="indexterm"></a> same <code class="literal">match</code> <span class="emphasis"><em>query</em></span> that we used before.
</p></td></tr></table></div><p>Don’t worry about the syntax too much for now; we will cover it in great
detail later.  Just recognize that we’ve added a <span class="emphasis"><em>filter</em></span> that performs a
range search, and reused the same <code class="literal">match</code> query as before.  Now our results show only one employee who happens to be 32 and is named Jane Smith:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">{
   ...
   "hits": {
      "total":      1,
      "max_score":  0.30685282,
      "hits": [
         {
            ...
            "_source": {
               "first_name":  "Jane",
               "last_name":   "Smith",
               "age":         32,
               "about":       "I like to collect rock albums",
               "interests": [ "music" ]
            }
         }
      ]
   }
}</pre></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_full_text_search"></a>Full-Text Search</h2></div></div></div><p>The searches so far have been simple:  single names, filtered by age. Let’s
try a more advanced, full-text search—a <a id="id-1.4.3.23.2.1" class="indexterm"></a>task that traditional databases
would really struggle with.</p><p>We are going to search for all employees who enjoy rock climbing:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">GET /megacorp/employee/_search
{
    "query" : {
        "match" : {
            "about" : "rock climbing"
        }
    }
}</pre></div><div class="sense_widget" data-snippet="snippets/010_Intro/30_Query_DSL.json"></div><p>You can see that we use the same <code class="literal">match</code> query as before to search the <code class="literal">about</code>
field for “rock climbing.” We get back two matching documents:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">{
   ...
   "hits": {
      "total":      2,
      "max_score":  0.16273327,
      "hits": [
         {
            ...
            "_score":         0.16273327, <a id="CO3-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
            "_source": {
               "first_name":  "John",
               "last_name":   "Smith",
               "age":         25,
               "about":       "I love to go rock climbing",
               "interests": [ "sports", "music" ]
            }
         },
         {
            ...
            "_score":         0.016878016, <a id="CO3-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
            "_source": {
               "first_name":  "Jane",
               "last_name":   "Smith",
               "age":         32,
               "about":       "I like to collect rock albums",
               "interests": [ "music" ]
            }
         }
      ]
   }
}</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO3-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> <a href="#CO3-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The relevance scores
</p></td></tr></table></div><p>By default, Elasticsearch sorts<a id="id-1.4.3.23.9.1" class="indexterm"></a> matching results by their relevance score,
that is, by how well each document matches the query.  The first and highest-scoring result is obvious: John Smith’s <code class="literal">about</code> field clearly says “rock
climbing” in it.</p><p>But why did Jane Smith come back as a result?  The reason her document was
returned is because the word “rock” was mentioned in her <code class="literal">about</code> field.
Because only “rock” was mentioned, and not “climbing,” her <code class="literal">_score</code> is
lower than John’s.</p><p>This is a good example of how Elasticsearch can search <span class="emphasis"><em>within</em></span> full-text
fields and return the most relevant results first. This <a id="id-1.4.3.23.11.2" class="indexterm"></a>
<a id="id-1.4.3.23.11.3" class="indexterm"></a>concept of <span class="emphasis"><em>relevance</em></span>
is important to Elasticsearch, and is a concept that is completely foreign to
traditional relational databases, in which a record either matches or it doesn’t.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_phrase_search"></a>Phrase Search</h2></div></div></div><p>Finding individual words in a field is all well and good, but sometimes you
want to match exact sequences of words or <span class="emphasis"><em>phrases</em></span>.<a id="id-1.4.3.24.2.2" class="indexterm"></a> For instance, we could
perform a query that will match only employee records that contain both  “rock”
<span class="emphasis"><em>and</em></span> “climbing” <span class="emphasis"><em>and</em></span> that display the words next to each other in the phrase
“rock climbing.”</p><p>To do this, we use a slight variation of the <code class="literal">match</code> query called the
<code class="literal">match_phrase</code> query:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">GET /megacorp/employee/_search
{
    "query" : {
        "match_phrase" : {
            "about" : "rock climbing"
        }
    }
}</pre></div><div class="sense_widget" data-snippet="snippets/010_Intro/30_Query_DSL.json"></div><p>This, to no surprise, returns only John Smith’s document:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">{
   ...
   "hits": {
      "total":      1,
      "max_score":  0.23013961,
      "hits": [
         {
            ...
            "_score":         0.23013961,
            "_source": {
               "first_name":  "John",
               "last_name":   "Smith",
               "age":         25,
               "about":       "I love to go rock climbing",
               "interests": [ "sports", "music" ]
            }
         }
      ]
   }
}</pre></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="highlighting-intro"></a>Highlighting Our Searches</h2></div></div></div><p>Many applications like to <span class="emphasis"><em>highlight</em></span> snippets<a id="id-1.4.3.25.2.2" class="indexterm"></a>
<a id="id-1.4.3.25.2.3" class="indexterm"></a><a id="id-1.4.3.25.2.4" class="indexterm"></a> of text from each search result
so the user can see <span class="emphasis"><em>why</em></span> the document matched the query.  Retrieving
highlighted fragments is easy in Elasticsearch.</p><p>Let’s rerun our previous query, but add a new <code class="literal">highlight</code> parameter:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">GET /megacorp/employee/_search
{
    "query" : {
        "match_phrase" : {
            "about" : "rock climbing"
        }
    },
    "highlight": {
        "fields" : {
            "about" : {}
        }
    }
}</pre></div><div class="sense_widget" data-snippet="snippets/010_Intro/30_Query_DSL.json"></div><p>When we run this query, the same hit is returned as before, but now we get a
new section in the response called <code class="literal">highlight</code>.  This contains a snippet of
text from the <code class="literal">about</code> field with the matching words wrapped in <code class="literal">&lt;em&gt;&lt;/em&gt;</code>
HTML tags:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">{
   ...
   "hits": {
      "total":      1,
      "max_score":  0.23013961,
      "hits": [
         {
            ...
            "_score":         0.23013961,
            "_source": {
               "first_name":  "John",
               "last_name":   "Smith",
               "age":         25,
               "about":       "I love to go rock climbing",
               "interests": [ "sports", "music" ]
            },
            "highlight": {
               "about": [
                  "I love to go &lt;em&gt;rock&lt;/em&gt; &lt;em&gt;climbing&lt;/em&gt;" <a id="CO4-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
               ]
            }
         }
      ]
   }
}</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO4-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The highlighted fragment from the original text
</p></td></tr></table></div><p>You can read more about the highlighting of search snippets in the
<a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-request-highlighting.html" target="_top">highlighting reference documentation</a>.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_analytics"></a>Analytics</h2></div></div></div><p>Finally, we come to our last business requirement: allow managers to run
analytics over the employee directory.<a id="id-1.4.3.26.2.1" class="indexterm"></a>  Elasticsearch has functionality called
<span class="emphasis"><em>aggregations</em></span>, which <a id="id-1.4.3.26.2.3" class="indexterm"></a>allow you to generate sophisticated analytics over your
data. It is similar to <code class="literal">GROUP BY</code> in SQL, but much more powerful.</p><p>For example, let’s find the most popular interests enjoyed by our employees:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">GET /megacorp/employee/_search
{
  "aggs": {
    "all_interests": {
      "terms": { "field": "interests" }
    }
  }
}</pre></div><div class="sense_widget" data-snippet="snippets/010_Intro/35_Aggregations.json"></div><p>Ignore the syntax for now and just look at the results:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">{
   ...
   "hits": { ... },
   "aggregations": {
      "all_interests": {
         "buckets": [
            {
               "key":       "music",
               "doc_count": 2
            },
            {
               "key":       "forestry",
               "doc_count": 1
            },
            {
               "key":       "sports",
               "doc_count": 1
            }
         ]
      }
   }
}</pre></div><p>We can see that two employees are interested in music, one in forestry, and one
in sports.  These aggregations are not precalculated; they are generated on
the fly from the documents that match the current query. If we want to know
the popular interests of people called Smith, we can just add the
appropriate query into the mix:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">GET /megacorp/employee/_search
{
  "query": {
    "match": {
      "last_name": "smith"
    }
  },
  "aggs": {
    "all_interests": {
      "terms": {
        "field": "interests"
      }
    }
  }
}</pre></div><div class="sense_widget" data-snippet="snippets/010_Intro/35_Aggregations.json"></div><p>The <code class="literal">all_interests</code> aggregation has changed to include only documents matching our query:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">  ...
  "all_interests": {
     "buckets": [
        {
           "key": "music",
           "doc_count": 2
        },
        {
           "key": "sports",
           "doc_count": 1
        }
     ]
  }</pre></div><p>Aggregations allow hierarchical rollups too.<a id="id-1.4.3.26.13.1" class="indexterm"></a>
<a id="id-1.4.3.26.13.2" class="indexterm"></a>  For example, let’s find the
average age of employees who share a particular interest:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">GET /megacorp/employee/_search
{
    "aggs" : {
        "all_interests" : {
            "terms" : { "field" : "interests" },
            "aggs" : {
                "avg_age" : {
                    "avg" : { "field" : "age" }
                }
            }
        }
    }
}</pre></div><div class="sense_widget" data-snippet="snippets/010_Intro/35_Aggregations.json"></div><p>The aggregations that we get back are a bit more complicated, but still fairly
easy to understand:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">  ...
  "all_interests": {
     "buckets": [
        {
           "key": "music",
           "doc_count": 2,
           "avg_age": {
              "value": 28.5
           }
        },
        {
           "key": "forestry",
           "doc_count": 1,
           "avg_age": {
              "value": 35
           }
        },
        {
           "key": "sports",
           "doc_count": 1,
           "avg_age": {
              "value": 25
           }
        }
     ]
  }</pre></div><p>The output is basically an enriched version of the first aggregation we ran.
We still have a list of interests and their counts, but now each interest has
an additional <code class="literal">avg_age</code>, which shows the average age for all employees having
that interest.</p><p>Even if you don’t understand the syntax yet, you can easily see how complex aggregations and groupings can be accomplished using this feature.
The sky is the limit as to what kind of data you can extract!</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_tutorial_conclusion"></a>Tutorial Conclusion</h2></div></div></div><p>Hopefully, this little tutorial was a good demonstration about what is possible
in Elasticsearch.  It is really just scratching the surface, and many features—such as suggestions, geolocation, percolation, fuzzy and partial matching—were omitted to keep the tutorial short. But it did highlight just how
easy it is to start building advanced search functionality.  No configuration
was needed—just add data and start searching!</p><p>It’s likely that the syntax left you confused in places, and you may have questions
about how to tweak and tune various aspects. That’s fine! The rest of the
book dives into each of these issues in detail, giving you a solid
understanding of how Elasticsearch works.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_distributed_nature"></a>Distributed Nature</h2></div></div></div><p>At the beginning of this chapter, we said that Elasticsearch<a id="id-1.4.3.28.2.1" class="indexterm"></a> can scale out to
hundreds (or even thousands) of servers and handle petabytes of data. While
our tutorial gave examples of how to use Elasticsearch, it didn’t touch on the
mechanics at all. Elasticsearch is distributed by nature, and it is designed
to hide the complexity that comes with being distributed.</p><p>The distributed aspect of Elasticsearch is largely transparent.  Nothing in
the tutorial required you to know about distributed systems, sharding, cluster
discovery, or dozens of other distributed concepts.  It happily ran the
tutorial on a single node living inside your laptop, but if you were to run
the tutorial on a cluster containing 100 nodes, everything would work in
exactly the same way.</p><p>Elasticsearch tries hard to hide the complexity of distributed systems. Here are some of
the operations happening automatically under the hood:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Partitioning your documents into different containers<a id="id-1.4.3.28.5.1.1.1" class="indexterm"></a>
<a id="id-1.4.3.28.5.1.1.2" class="indexterm"></a><a id="id-1.4.3.28.5.1.1.3" class="indexterm"></a> or <span class="emphasis"><em>shards</em></span>, which
   can be stored on a single node or on  multiple nodes
</li><li class="listitem">
Balancing these shards across the nodes in your cluster to spread the
   indexing and search load
</li><li class="listitem">
Duplicating each shard to provide redundant copies of your data, to
   prevent data loss in case of hardware failure
</li><li class="listitem">
Routing requests from any node in the cluster to the nodes that hold the
   data you’re interested in
</li><li class="listitem">
Seamlessly integrating new nodes as your cluster grows or redistributing
   shards to recover from node loss
</li></ul></div><p>As you read through this book, you’ll encounter supplemental chapters about the
distributed nature of Elasticsearch.  These chapters will teach you about
how the cluster scales and deals with failover (<a class="xref" href="distributed-cluster.html" title="Cluster 내부 동작"><em>Cluster 내부 동작</em></a>),
handles document storage (<a class="xref" href="distributed-docs.html" title="Distributed Document Store"><em>Distributed Document Store</em></a>), executes distributed search
(<a class="xref" href="distributed-search.html" title="Distributed Search Execution"><em>Distributed Search Execution</em></a>), and what a shard is and how it works
(<a class="xref" href="inside-a-shard.html" title="Inside a Shard"><em>Inside a Shard</em></a>).</p><p>These chapters are not required reading—you can use Elasticsearch without
understanding these internals—but they will provide insight that will make
your knowledge of Elasticsearch more complete. Feel free to skim them and
revisit at a later point when you need a more complete understanding.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_next_steps"></a>Next Steps</h2></div></div></div><p>By now you should have a taste of what you can do with Elasticsearch, and how
easy it is to get started. Elasticsearch tries hard to work out of the box
with minimal knowledge and configuration. The best way to learn Elasticsearch
is by jumping in: just start indexing and searching!</p><p>However, the more you know about Elasticsearch, the more productive you can
become.  The more you can tell Elasticsearch about the domain-specific
elements of your application, the more you can fine-tune the output.</p><p>The rest of this book will help you move from novice to expert. Each chapter explains the essentials, but also includes expert-level tips.  If
you’re just getting started, these tips are probably not immediately relevant
to you; Elasticsearch has sensible defaults and will generally do the right
thing without any interference.  You can always revisit these chapters later,
when you are looking to improve performance by shaving off any wasted
milliseconds.</p></div></div><div class="navfooter"><span class="prev"><a href="getting-started.html">
              « 
              Getting Started </a>
           
        </span><span class="next">
           
          <a href="distributed-cluster.html">Cluster 내부 동작
               »
            </a></span></div>
<!-- end body -->

            </section>

            <div id="rtpcontainer"
        >
	<h3>Top Videos</h3>
	<ul class="lists">
		<li><a href="https://www.elastic.co/webinars/get-started-with-elasticsearch/?baymax=default&elektra=docs&storm=top-video">Getting Started</a></li>
		<li><a href="http://www.elastic.co/webinars/elasticsearch-performance-optimization-tale-two-tickets/?elektra=docs">Scaling</a></li>
		<li><a href="http://www.elastic.co/webinars/shield-securing-your-data-in-elasticsearch/?elektra=docs">Security</a></li>
	</ul>
</div>


	  	




<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
	<!-- subscribe-newsletter -->
	<div id="subscribe-newsletter">
		<div class="container">
			<div class="row">
				<div class="12u">
					<div class="subscribe-wrapper" id="rtp-newsletter">
						<header>
							<h3>Subscribe to our newsletter</h3>
						</header>
						<div class="subscribe-form">
							<form id="mktoForm_1398" class="container"></form>
							<div class="form_thanks hide">
								
									<p>Thanks for subscribing! We'll keep you updated with new releases.</p>
								
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

  	<!-- Footer -->
	<div id="footer-wrapper">
		<section id="footer" class="container">
			<div class="row">
				<div class="12u">
					<!-- Copyright -->
					<div id="copyright">
	<p>
		© 2016. All Rights Reserved - Elasticsearch
	</p>
	<ul class="links">
		<li>Elasticsearch is a trademark of Elasticsearch BV, registered in the U.S. and in other countries</li>
		<li><a href="/legal/trademarks" id="footer_trademarks">Trademarks</a></li>
		<li><a href="/legal/terms-of-use" id="footer_terms">Terms</a></li>
		<li><a href="/legal/privacy-policy" id="footer_privacy">Privacy</a></li>
	</ul>
	<p>
		Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the <a href="http://www.apache.org/" target="_blank">Apache Software Foundation</a> in the United States and/or other&nbsp;countries.
	</p>
</div><!--<div class="row">
{replace4}
</div>-->
				</div>
			</div>					
		</section>
	</div>
			
	<!-- Social Media -->
	<div id="socialmedia-wrapper">
		<section id="socialmedia" class="container">
			<!-- social icons -->
			<div id="social">
				<ul class="links">
					
						<li class="facebook grayscale"><a href="http://www.facebook.com/elastic.co" target="_blank" id="footer_facebook"></a></li>
					
						<li class="twitter grayscale"><a href="https://www.twitter.com/elastic" target="_blank" id="footer_twitter"></a></li>
					
						<li class="linkedin grayscale"><a href="https://www.linkedin.com/company/elastic-co" target="_blank" id="footer_linkedin"></a></li>
					
						<li class="xing grayscale"><a href="https://www.xing.com/companies/elastic.co" target="_blank" id="footer_xing"></a></li>
					
						<li class="youtube grayscale"><a href="https://www.youtube.com/user/elasticsearch" target="_blank" id="footer_youtube"></a></li>
					
				</ul>
			</div>
		</section>
	</div>


<style type="text/css">
	
		.facebook{background:url("https://static-www.elastic.co/assets/bltda40eebd7c7cae9a/facebook.svg?q=100") no-repeat;}		
	
		.twitter{background:url("https://static-www.elastic.co/assets/bltfd3b1511512f4632/twitter.svg?q=100") no-repeat;}		
	
		.linkedin{background:url("https://static-www.elastic.co/assets/blt6b4f6f8d6b96f814/linkedin.svg?q=100") no-repeat;}		
	
		.xing{background:url("https://static-www.elastic.co/assets/blta76b2ae2b2f10a98/xing.svg?q=100") no-repeat;}		
	
		.youtube{background:url("https://static-www.elastic.co/assets/blt5761648c9581fb53/youtube.svg?q=100") no-repeat;}		
	
</style>

<script>
MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", 1398,function(form){
	form.onSuccess(function(form){
		$('#mktoForm_1398').css('display','none');
		$('#subscribe-newsletter header').hide();
		$('#mktoForm_1398').siblings('.form_thanks').removeClass('hide')
		dataLayer.push({'event': 'mktoFormSubmit'});
	    return false;
  	});
});
</script>	

  	</div>
  	<!-- <div class="preloader">
    	<div class="status"></div>
	</div> -->
  	<style></style>
   	<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";	
</script>
<script src="https://static-www.elastic.co/static/js/jquery.autocomplete.js?q=100"></script>
<script src="https://static-www.elastic.co/static/js/script.js?q=100"></script>


   	
   	
   	
   	<script type="application/ld+json">
	
		
	
	{
	  	"@context": "http://schema.org",
	  	"@type": "Organization",
	  	"name" : "Elastic",
	  	"url": "https://www.elastic.co/",
	  	"logo": "https://www.elastic.co/static/img/elastic-logo-200.png",
		"sameAs" : [ "https://www.facebook.com/elastic.co",
			"https://twitter.com/elastic",
			"https://plus.google.com/105178019064686397293",
			"https://www.youtube.com/user/elasticsearch",
			"https://www.linkedin.com/company/elasticsearch"
		],
	  	"potentialAction": {
	    	"@type": "SearchAction",
	    	"target": "https://www.elastic.co/search?q={query_string}",
	    	"query-input": "required name=query_string"
	  	}
	}
</script>	

            <script type="text/javascript" src="docs.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script type='text/javascript' src='https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js'></script>

            </body>
        

